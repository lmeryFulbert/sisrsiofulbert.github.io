{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Introduction","text":""},{"location":"#documentation-pedagogique","title":"Documentation P\u00e9dagogique","text":"<p>Bienvenue dans cette documentation p\u00e9dagogique g\u00e9n\u00e9r\u00e9e automatiquement \u00e0 l'aide de MkDocs et h\u00e9berg\u00e9e sur GitHub Pages. Cette documentation a \u00e9t\u00e9 cr\u00e9\u00e9e dans le but de vous fournir Les informations essentielles de votre contexte d'apprentissage.</p>"},{"location":"#a-propos-de-cette-documentation","title":"\u00c0 Propos de Cette Documentation","text":"<p>Cette documentation est con\u00e7ue pour soutenir votre apprentissage en mettant \u00e0 votre disposition des informations structur\u00e9es et faciles \u00e0 comprendre. Les contenus sont organis\u00e9s de mani\u00e8re \u00e0 vous guider \u00e0 travers les sujets cl\u00e9s, \u00e9tape par \u00e9tape.</p>"},{"location":"#comment-utiliser-cette-documentation","title":"Comment Utiliser Cette Documentation","text":"<ul> <li> <p>Navigation : Utilisez la barre de navigation sur la gauche pour acc\u00e9der aux diff\u00e9rentes sections de la documentation. Cliquez sur les liens pour explorer les sujets qui vous int\u00e9ressent.</p> </li> <li> <p>Recherche : Si vous recherchez des informations sp\u00e9cifiques, utilisez la fonction de recherche en haut de la page pour trouver rapidement ce dont vous avez besoin.</p> </li> <li> <p>Contributions et Corrections : Cette documentation est h\u00e9berg\u00e9e sur GitHub. Si vous identifiez des erreurs, des inexactitudes ou si vous souhaitez contribuer en ajoutant du contenu, vous \u00eates invit\u00e9 \u00e0 soumettre des Pull Requests.</p> </li> </ul>"},{"location":"#hebergement-sur-github-pages","title":"H\u00e9bergement sur GitHub Pages","text":"<p>Cette documentation est automatiquement mise en ligne gr\u00e2ce \u00e0 GitHub Pages, une fonctionnalit\u00e9 de GitHub qui permet de publier facilement du contenu statique. Chaque fois que des modifications sont apport\u00e9es \u00e0 la documentation et pouss\u00e9es vers la branche principale du r\u00e9f\u00e9rentiel (main), les GitHub Actions sont d\u00e9clench\u00e9es pour g\u00e9n\u00e9rer et d\u00e9ployer automatiquement les changements sur la page de documentation.</p> <p>Vous pouvez acc\u00e9der \u00e0 la documentation en ligne \u00e0 l'adresse suivante : Lien vers la documentation</p> <p>N'h\u00e9sitez pas \u00e0 explorer les diff\u00e9rentes sections et \u00e0 profiter de cette ressource pour enrichir votre compr\u00e9hension des sujets abord\u00e9s.</p> <p>Happy learning!</p>"},{"location":"contexte/01-pr%C3%A9sentation/","title":"Contexte SportLudique","text":""},{"location":"contexte/01-pr%C3%A9sentation/#bts-sio-option-sisr","title":"BTS SIO option SISR","text":""},{"location":"contexte/01-pr%C3%A9sentation/#annee-scolaire-2023-2024","title":"Ann\u00e9e scolaire 2023-2024","text":"<p>Auteur : Ludovic MERY</p> <p></p>"},{"location":"contexte/01-pr%C3%A9sentation/#presentation-generale-de-lentreprise","title":"Pr\u00e9sentation g\u00e9n\u00e9rale de l\u2019entreprise","text":""},{"location":"contexte/01-pr%C3%A9sentation/#activite","title":"Activit\u00e9","text":"<p>SportLudique SARL est une soci\u00e9t\u00e9 implant\u00e9 en r\u00e9gion centre sp\u00e9cialis\u00e9e dans la conception et la fabrication d\u2019articles de sports et de loisirs compos\u00e9e de 452 personnes r\u00e9parties autour de trois sites g\u00e9ographiques : Chartres, Tours, Orl\u00e9ans.</p> <p>Elle dispose d\u2019un quatri\u00e8me site sur chateauroux suite \u00e0 la mise en place d\u2019une filiale sp\u00e9cialis\u00e9e dans la logistique.</p> <p>Le si\u00e8ge de SportLudique se situe dans l\u2019agglom\u00e9ration chartraine.</p> <p>Elle enregistre de bons r\u00e9sultats gr\u00e2ce \u00e0 une gamme de produits compl\u00e8te (pour tous les \u00e2ges) et conna\u00eet depuis peu un essor consid\u00e9rable proposant des installations cl\u00e9 en main aux collectivit\u00e9s</p>"},{"location":"contexte/01-pr%C3%A9sentation/#donnees-economiques-et-juridiques","title":"Donn\u00e9es \u00e9conomiques et juridiques","text":"D\u00e9nomination sociale SportLudique D\u00e9but d'activit\u00e9 : 16/10/1995 Siret : 347839493 00021 Statut juridique SARL Capital Social 485 000 \u20ac Chiffre d\u2019affaire 2014 8 562 000 \u20ac Benefice net 2014 1 735 200 \u20ac Nombre d\u2019employ\u00e9s 452"},{"location":"contexte/01-pr%C3%A9sentation/#organigramme","title":"Organigramme","text":"<p>La Direction des Services Informatiques est sous la direction de Monsieur Claude Postic</p> <p>Celui-ci a sous ses ordres 4 techniciens.</p> <p>Le service RH est dirig\u00e9 par Ms Helen Paisley-Le Bihan.</p>"},{"location":"contexte/01-pr%C3%A9sentation/#situation-et-repartition-geographique","title":"Situation et r\u00e9partition g\u00e9ographique","text":"<p>La soci\u00e9t\u00e9 est articul\u00e9e autour de quatre sites g\u00e9ographiques :</p> <ul> <li> <p>le site de Chartres : il regroupe la direction, le marketing, les     &gt; finances, les ressources humaines et la direction des services     &gt; informatiques (DSI) ;</p> </li> <li> <p>le site d\u2019Orl\u00e9ans : il regroupe l\u2019usine de production des     \u00e9quipements ext\u00e9rieurs bois.</p> </li> <li> <p>le site de Tours : il regroupe le laboratoire de test et la     &gt; production des \u00e9quipements plastique</p> </li> <li> <p>le site de Chateauroux\u00a0: situ\u00e9 id\u00e9alement au centre de la France,     &gt; les stocks et la logistique sont la sp\u00e9cialit\u00e9 de ce site.</p> </li> </ul> <p></p>"},{"location":"contexte/01-pr%C3%A9sentation/#presentation-de-linfrastructure-informatique","title":"Pr\u00e9sentation de l\u2019infrastructure Informatique","text":""},{"location":"contexte/01-pr%C3%A9sentation/#vu-densemble-du-systeme-dinformation","title":"Vu d\u2019ensemble du Syst\u00e8me d\u2019Information","text":"<p>Le syst\u00e8me d'information (SI) de SportLudique refl\u00e8te la dynamique de l'entreprise : mis en place il y a quelques ann\u00e9es, il a depuis connu une expansion consid\u00e9rable. SportLudique est divis\u00e9e en quatre domaine windows autonomes, chacun op\u00e9rant sur un site g\u00e9ographique distinct et control\u00e9 par un controleur de domaine ind\u00e9pendant.</p> <p>En r\u00e9ponse \u00e0 la croissance de l'activit\u00e9 et \u00e0 divers projets informatiques, des serveurs Windows 2008 Server et Windows Server 2012 ont \u00e9t\u00e9 int\u00e9gr\u00e9s au syst\u00e8me. Cette initiative visait \u00e0 renforcer la fiabilit\u00e9 et \u00e0 ajouter des fonctionnalit\u00e9s, le tout sans perturber l'infrastructure existante. </p> <p>L'architecture actuelle repose sur la virtualisation, mise en \u0153uvre \u00e0 travers VMWare Esxi, bien que la version utilis\u00e9e soit la 5.0 en raison des licences disponibles.</p> <p>Chaque site b\u00e9n\u00e9ficie de son propre d\u00e9partement informatique, couvrant un large \u00e9ventail de responsabilit\u00e9s allant de l'administration \u00e0 l'assistance aux utilisateurs.</p> <p>Les utilisateurs font partie du domaine Active Directory, bien qu'ils puissent parfois utiliser des comptes d'administration locaux (comme le compte install/install) pour installer des logiciels r\u00e9pondant \u00e0 des besoins sp\u00e9cifiques. Ceci est en raison du fait que la gestion des configurations n'est pas centralis\u00e9e au sein de la Direction des Syst\u00e8mes d'Information (DSI) existante. Ils utilisent diverses applications adapt\u00e9es \u00e0 leurs activit\u00e9s, notamment des suites bureautiques telles que LibreOffice, ainsi que des outils graphiques ou des applications internes d\u00e9velopp\u00e9es au sein de l'entreprise.</p>"},{"location":"contexte/02_infrastructure-actuelle/","title":"Infrastructure actuelle","text":""},{"location":"contexte/02_infrastructure-actuelle/#extrait-de-linfrastructure-par-site","title":"Extrait de l\u2019infrastructure par site","text":""},{"location":"contexte/02_infrastructure-actuelle/#site-de-chartres-siege-social","title":"Site de chartres (si\u00e8ge social)","text":"Nombre d\u2019utilisateurs 132 Nombres de stations de travail 132 fixes 100 portables 12 Nombre de serveurs 10"},{"location":"contexte/02_infrastructure-actuelle/#site-dorleans","title":"Site d\u2019Orl\u00e9ans","text":"Nombre d\u2019utilisateurs 60 Nombres de stations de travail 83 fixes 80 portables 3 Nombre de serveurs 11"},{"location":"contexte/02_infrastructure-actuelle/#site-de-tours","title":"Site de Tours","text":"Nombre d\u2019utilisateurs 179 Nombres de stations de travail 95 fixes 90 portables 5 Nombre de serveurs 10"},{"location":"contexte/02_infrastructure-actuelle/#site-de-chateauroux","title":"Site de chateauroux","text":"Nombre d\u2019utilisateurs 81 Nombres de stations de travail 50 fixes 40 portables 10 Nombre de serveurs 3"},{"location":"contexte/02_infrastructure-actuelle/#details-des-equipements-serveurs-par-site","title":"D\u00e9tails des \u00e9quipements serveurs par site","text":""},{"location":"contexte/02_infrastructure-actuelle/#site-de-chartres","title":"Site de Chartres","text":"Nom Fonction OS CHA_DC_01 Contr\u00f4leur principal de domaine Windows server 2012 Serveur primaire DNS Domaine : chartres.local Serveur DHCP Serveur de fichiers CHA_DC_02 Contr\u00f4leur secondaire de domaine Windows server 2012 R2 Serveur secondaire DNS Serveur de fichiers repliqu\u00e9 SL_BDD Serveur de base de donn\u00e9es Linux Debian 8 + MySQL SL_OCS Serveur d\u2019inventaire Linux Debian 8 + OCS Inventory \u2026"},{"location":"contexte/02_infrastructure-actuelle/#site-dorleans_1","title":"Site d\u2019Orl\u00e9ans","text":"Nom Fonction OS ORL_DC_01 Contr\u00f4leur principal de domaine Windows server 2008 R2 Serveur primaire DNS Domaine : orleans.local Serveur DHCP Serveur de fichiers ORL_DC_02 Contr\u00f4leur secondaire de domaine Windows server 2008 R2 Serveur secondaire DNS Serveur de fichiers repliqu\u00e9 \u2026 \u2026 \u2026"},{"location":"contexte/02_infrastructure-actuelle/#site-de-tours_1","title":"Site de Tours","text":"Nom Fonction OS TRS_DC_01 Contr\u00f4leur principal de domaine Windows server 2008 R2 Serveur primaire DNS Domaine : tours.local Serveur DHCP Serveur de fichiers TRS_DC_02 Contr\u00f4leur secondaire de domaine Windows server 2008 R2 Serveur secondaire DNS Serveur de fichiers repliqu\u00e9 \u2026 \u2026 \u2026"},{"location":"contexte/02_infrastructure-actuelle/#site-de-chateauroux_1","title":"Site de Chateauroux","text":"Nom Fonction OS CHX_DC_01 Contr\u00f4leur principal de domaine Windows server 2008 R2 Serveur primaire DNS Domaine : chateauroux.local Serveur DHCP Serveur de fichiers CHX_DC_02 Contr\u00f4leur secondaire de domaine Windows server 2008 R2 Serveur secondaire DNS Serveur de fichiers repliqu\u00e9 \u2026 \u2026 \u2026"},{"location":"contexte/02_infrastructure-actuelle/#topologie-physique-sur-le-site-de-chartres","title":"Topologie physique sur le site de chartres","text":""},{"location":"contexte/02_infrastructure-actuelle/#topologie-logique-actuelle","title":"Topologie Logique actuelle","text":""},{"location":"contexte/02_infrastructure-actuelle/#dysfonctionnement-du-si","title":"Dysfonctionnement du SI","text":"<p>La DSI de l\u2019entreprise a demand\u00e9 en 2022 \u00e0 une soci\u00e9t\u00e9 ext\u00e9rieure d\u2019auditer son syst\u00e8me d\u2019information. Le rapport d\u2019audit, dat\u00e9 de mars 2023, a permis de mettre en lumi\u00e8re les dysfonctionnements suivants:</p>"},{"location":"contexte/02_infrastructure-actuelle/#1-des-processus-et-des-choix-heterogenes","title":"1-Des processus et des choix h\u00e9t\u00e9rog\u00e8nes","text":"<p>Aujourd\u2019hui, chaque site poss\u00e8de sa propre m\u00e9thode de travail, ses choix de syst\u00e8mes d\u2019exploitation et de logiciels. A titre d\u2019exemple, chaque site poss\u00e8de aujourd\u2019hui son propre antivirus. Il reste donc tr\u00e8s difficile, voire souvent impossible, de mettre en place des solutions globales au niveau de l\u2019organisation.</p>"},{"location":"contexte/02_infrastructure-actuelle/#2-des-couts-de-gestion-important","title":"2-Des couts de gestion important","text":"<p>L\u2019organisation regroupe, sur l\u2019ensemble de ses quatre sites, une tr\u00e8s grande diversit\u00e9 de serveurs et de stations de travail :</p> <p>La gamme des stations de travail est \u00e0 l\u2019\u00e9gale de la gamme des serveurs puisque l\u2019on y retrouve des clients install\u00e9s au fil des livraisons mat\u00e9rielles.</p> <p>Les techniciens du centre d\u2019appels de la DSI (site de Chartres) sont ainsi oblig\u00e9s de conna\u00eetre plusieurs syst\u00e8mes d\u2019exploitation clients tels que Windows 2008 R2, Windows 7, Windows 10 sans oublier les diff\u00e9rentes versions serveurs de Windows ainsi que les diff\u00e9rentes distributions Linux utilis\u00e9es (Debian, CentOS pour ne citer qu\u2019elles) et les diverses applications, souvent dupliqu\u00e9es quand elles ne sont pas tripl\u00e9es.</p> <p>Cette situation induit une charge de travail et des co\u00fbts importants pour le centre d\u2019appels.</p>"},{"location":"contexte/02_infrastructure-actuelle/#3-une-reactivite-lente","title":"3-Une r\u00e9activit\u00e9 lente","text":"<p>Vu la diversit\u00e9 des versions des syst\u00e8mes d\u2019exploitation des stations de travail et des serveurs, la qualification des logiciels se voit multipli\u00e9e par trois.</p> <p>Ainsi, par exemple, la suite bureautique LibreOffice est pr\u00e9sente sous diff\u00e9rentes versions sur les diff\u00e9rents sites. Il faut donc tester le bon fonctionnement de chaque version LibreOffice aussi bien sous Windows  ce qui ne se passe pas toujours bien.</p> <p>En outre, lorsqu\u2019un probl\u00e8me est d\u00e9tect\u00e9 sur une plateforme ou qu\u2019un nouveau Service Pack sort afin d\u2019am\u00e9liorer la s\u00e9curit\u00e9 ou apporter des fonctionnalit\u00e9s suppl\u00e9mentaires, il faut le temps de le tester et de le d\u00e9ployer sans impact sur les autres plateformes.</p> <p>L\u2019entreprise souffre donc de probl\u00e8mes de r\u00e9activit\u00e9 au niveau de la gestion de son parc.</p>"},{"location":"contexte/02_infrastructure-actuelle/#une-gestion-du-parc-informatique-trop-complexe","title":"Une gestion du parc informatique trop complexe","text":"<p>L\u2019entreprise ne poss\u00e8de pas de m\u00e9thode d\u2019installation industrialis\u00e9e pour les syst\u00e8mes d\u2019exploitation clients et serveurs.</p> <p>La mise en service de stations de travail ou de serveurs se fait donc manuellement. Cela n\u00e9cessite la mobilisation de techniciens sp\u00e9cialis\u00e9s et form\u00e9s \u00e0 ces proc\u00e9dures complexes (Boot sur cl\u00e9 USB et r\u00e9ponse aux questions manuelle, ceci r\u00e9p\u00e9t\u00e9 sur autant de postes que compte le parc)</p> <p>L\u2019impact sur le d\u00e9lai de la mise en production et le co\u00fbt des machines est \u00e9videmment tr\u00e8s cons\u00e9quent.</p>"},{"location":"contexte/02_infrastructure-actuelle/#un-si-peu-securise","title":"Un SI peu s\u00e9curis\u00e9","text":"<p>Le syst\u00e8me d\u2019informatique tel que d\u00e9fini actuellement est tr\u00e8s peu s\u00e9curis\u00e9.</p> <p>Les principales d\u00e9faillances rep\u00e9r\u00e9es au niveau de la s\u00e9curit\u00e9 tiennent aux faits suivants :</p> <ul> <li> <p>pr\u00e9sence d\u2019anciennes versions de syst\u00e8mes d\u2019exploitation, qui     imposent par exemple de maintenir des protocoles de communication     non s\u00e9curis\u00e9s, octroi par d\u00e9faut, \u00e0 tous les utilisateurs, du statut     d\u2019administrateurs de leur station de travail, ce qui ouvre la voie,     entre autre, \u00e0 :</p> <ul> <li> <p>l\u2019installation d\u2019applications non conformes,</p> </li> <li> <p>l\u2019utilisation de p\u00e9riph\u00e9riques externes (sans compter l\u2019impact     sur la gestion par le centre d\u2019appels).</p> </li> </ul> </li> <li> <p>absence de syst\u00e8me centralis\u00e9 de mise \u00e0 jour de correctifs.</p> </li> </ul>"},{"location":"contexte/03-Objectifs/","title":"Objectifs \u00e0 atteindre","text":""},{"location":"contexte/03-Objectifs/#objectifs-strategiques-et-organisationnels-de-la-dsi","title":"Objectifs strat\u00e9giques et Organisationnels de la DSI","text":"<p>Suite au rapport d\u2019audit, la Direction a d\u00e9cid\u00e9 de r\u00e9agir pour corriger les dysfonctionnements constat\u00e9s et ainsi optimiser les performances globales de l\u2019entreprise.</p> <p>Apr\u00e8s concertation des diff\u00e9rents acteurs du SI de l\u2019entreprise, et de multiples r\u00e9unions de travail, le comit\u00e9 de direction a dress\u00e9 pour l\u2019ann\u00e9e 2023-2024, quatre grands axes de travail. Ces axes, qui d\u00e9finissent en fait quatre objectifs strat\u00e9giques, concernent tous les services de l\u2019entreprise, mais s\u2019adressent tout particuli\u00e8rement \u00e0 la DSI.</p> <p>Celle-ci les a convertis en objectifs op\u00e9rationnels qui lui permettront de faire \u00e9voluer le SI actuellement en place en ad\u00e9quation avec les demandes de la Direction.</p>"},{"location":"contexte/03-Objectifs/#objectif-1-reduire-les-couts","title":"Objectif 1\u00a0: R\u00e9duire les co\u00fbts","text":"<p>L\u2019entreprise bien qu\u2019encore en pleine croissance per\u00e7oit un tassement du march\u00e9 sur lequel elle travaille : la concurrence se fait plus rude, les clients sont de plus en plus regardant sur les prix. Pour maintenir sa position sur son march\u00e9, elle doit absolument maintenir ses prix de vente. Cela passe par une ma\u00eetrise totale de ses co\u00fbts de production, mais \u00e9galement de ses co\u00fbts structurels. L\u2019audit ayant montr\u00e9 que les co\u00fbts induits par les dysfonctionnements de son SI \u00e9taient nombreux, la direction demande \u00e0 la DSI de travailler dans le sens d\u2019une r\u00e9duction des co\u00fbts d\u2019infrastructure et de fonctionnement du SI.</p>"},{"location":"contexte/03-Objectifs/#objectif-2-prendre-en-compte-la-dimension-cartographique","title":"Objectif 2\u00a0: Prendre en compte la dimension cartographique","text":"<p>La cartographie va sous peu \u00e9voluer du fait la la redistribution des r\u00f4les entre les deux sites de production de Tours et Orl\u00e9ans :</p> <p>Les 2 sites de production et d\u2019acheminement de Tours et Orl\u00e9ans vont \u00eatre regroup\u00e9s en un seul (sur Tours), le site d\u2019Orl\u00e9ans gardant sa sp\u00e9cificit\u00e9 de R&amp;D.</p> <p>La Direction demande particuli\u00e8rement \u00e0 la DSI de r\u00e9fl\u00e9chir d\u00e8s maintenant \u00e0 la mani\u00e8re d\u2019int\u00e9grer ces nouveaux param\u00e8tres dans l\u2019infrastructure existante.</p>"},{"location":"contexte/03-Objectifs/#objectif-3-securiser-le-si","title":"Objectif 3 S\u00e9curiser le SI","text":"<p>La s\u00e9curit\u00e9 doit devenir primordiale, notamment en ce qui concerne son syst\u00e8me d\u2019informations. Les r\u00e9seaux \u00e9tant constamment menac\u00e9s par des attaques provenant de sources diff\u00e9rentes, la direction souhaite renforcer la s\u00e9curisation de son syst\u00e8me d'informations.</p> <p>En ce sens, la Direction a demand\u00e9 la mise en place d\u2019un plan de s\u00e9curit\u00e9 \u00e0 tous les niveaux de l\u2019entreprise, et notamment au niveau de la DSI. Ce plan devra en permanence tenir compte du co\u00fbt initial et continu de la s\u00e9curit\u00e9.</p> <p>Pour r\u00e9pondre au mieux \u00e0 cette demande, une phase de conception devra \u00eatre d\u00e9finie en introduction du plan de s\u00e9curit\u00e9. Elle permettra d\u2019analyser tous les facteurs qui, s\u2019ils ne sont pas identifi\u00e9s, risquent d\u2019augmenter le co\u00fbt de la s\u00e9curit\u00e9, et de rechercher les technologies de s\u00e9curit\u00e9 qui, si elles ne sont pas employ\u00e9es, feront \u00e9chouer le projet.</p> <p>Cette phase de conception s\u2019articulera autour des points suivants :</p> <ul> <li> <p>la conception de la s\u00e9curit\u00e9 pour la gestion du r\u00e9seau ;</p> </li> <li> <p>la conception d\u2019une infrastructure de mise \u00e0 jour des dispositifs de     s\u00e9curit\u00e9 ;</p> </li> <li> <p>la conception d\u2019un syst\u00e8me de clients s\u00e9curis\u00e9.</p> </li> </ul> <p>Le plan de s\u00e9curit\u00e9 devra imp\u00e9rativement r\u00e9pondre aux exigences suivantes :</p> <ol> <li> <p>Consid\u00e9rer les exigences l\u00e9gales qui affectent la mise en \u0153uvre de la s\u00e9curit\u00e9 Pour int\u00e9grer les dispositions l\u00e9gales au sein de l\u2019entreprise, il est important de demander au service juridique de l\u2019entreprise de v\u00e9rifier le plan de s\u00e9curit\u00e9. Il s\u2019agit entre autres de r\u00e9aliser un certain nombre de d\u00e9marches aupr\u00e8s des organismes gouvernementaux et des associations qui peuvent \u00eatre des sources de conseils en mati\u00e8re de s\u00e9curit\u00e9.</p> </li> <li> <p>Mesurer l\u2019impact des d\u00e9cisions de s\u00e9curit\u00e9 sur les utilisateurs finaux Il faudra mesurer l\u2019impact des d\u00e9cisions de s\u00e9curit\u00e9 sur l\u2019utilisateur final. Par exemple, dans le cas du choix d\u2019une strat\u00e9gie de s\u00e9curisation des comptes utilisateurs, une strat\u00e9gie de mot de passe trop lourde (15 caract\u00e8res) alli\u00e9e \u00e0 une strat\u00e9gie de complexit\u00e9 de mot de passe (lettres et chiffres), forcerait l\u2019utilisateur \u00e0 conserver son mot de passe sur un papier, pr\u00e8s de son ordinateur. De m\u00eame, une strat\u00e9gie de verrouillage de comptes mal adapt\u00e9e apportera un surplus important de coups de t\u00e9l\u00e9phone au centre d\u2019appels.</p> </li> <li> <p>Mesurer les risques en se fondant sur la probabilit\u00e9 et la criticit\u00e9 de la menace Il est important de pouvoir mesurer les probabilit\u00e9s d\u2019attaques, les moyens mis en \u0153uvre face \u00e0 une menace ainsi que les r\u00e9ponses \u00e0 ces menaces, afin d\u2019en estimer les co\u00fbts. Cette analyse de menace sera \u00e9tudi\u00e9 via la m\u00e9thode EBIOS. Prenons le cas de la probabilit\u00e9 d\u2019une menace. Si on d\u00e9finit une \u00e9chelle des probabilit\u00e9s allant de 1 \u00e0 4 \u2013 4 \u00e9tant la probabilit\u00e9 la plus importante qu\u2019une menace se produise \u2013 et si on d\u00e9finit une \u00e9chelle du niveau de criticit\u00e9 allant de 1 \u00e0 4 \u2013 4 \u00e9tant la criticit\u00e9 la plus \u00e9lev\u00e9e \u2013 une menace avec une probabilit\u00e9 de 2 et une criticit\u00e9 de 4 sur cette \u00e9chelle devra \u00eatre prise en compte selon certaines consid\u00e9rations.</p> </li> <li> <p>Maintenir la disponibilit\u00e9 et l\u2019interop\u00e9rabilit\u00e9 des services Appliquer une s\u00e9curit\u00e9 importante dans l\u2019entreprise ne signifie pas que l\u2019activit\u00e9 doit s\u2019arr\u00eater. Que l\u2019on ne puisse plus communiquer, \u00e9changer des donn\u00e9es ou encore piloter des applications n\u2019est pas forc\u00e9ment le signe d\u2019un r\u00e9seau s\u00e9curis\u00e9. Au contraire, il faut pouvoir garantir les \u00e9changes de donn\u00e9es en cryptant les informations, en s\u2019assurant de la compatibilit\u00e9 de certains protocoles avec les autres syst\u00e8mes, en veillant \u00e0 l\u2019aspect fonctionnel de l\u2019infrastructure. Les performances des machines doivent \u00eatre prises en compte \u00e9galement : en effet, l\u2019utilisation excessive d\u2019un protocole de chiffrement peut emp\u00eacher un ordinateur de communiquer dans un temps imparti.</p> </li> <li> <p>R\u00e9pondre aux besoins d\u2019\u00e9volutivit\u00e9. Il ne faut pas que l\u2019infrastructure notamment informatique devienne une voie de garage dans laquelle il ne sera plus possible d\u2019\u00e9voluer.</p> </li> <li> <p>S\u00e9curiser le service de R&amp;D et les services mis en ligne.Ce service \u00e9tant celui qui g\u00e9n\u00e8re la valeur ajout\u00e9e de la soci\u00e9t\u00e9, il faudra particuli\u00e8rement le s\u00e9curiser, tant au niveau des mat\u00e9riels, qu\u2019au niveau de l\u2019infrastructure (d\u00e9finition d\u2019un domaine d\u00e9di\u00e9) et de la transmission des donn\u00e9es.</p> </li> </ol>"},{"location":"contexte/03-Objectifs/#objectif-4-placer-lentreprise-dans-une-logique-de-developpement-durable","title":"Objectif 4\u00a0: Placer l\u2019entreprise dans une logique de d\u00e9veloppement durable.","text":"<p>La direction souhaite inscrire toutes ses actions dans une logique de d\u00e9veloppement durable :</p> <ul> <li> <p>R\u00e9duction des consommations de papiers (d\u00e9mat\u00e9rialisation de     l'information)</p> </li> <li> <p>R\u00e9duction des d\u00e9placements (recours aux visio-conf\u00e9rences)</p> </li> <li> <p>R\u00e9duction des consommations d'\u00e9nergie (\u00e9lectricit\u00e9\u2026)</p> </li> <li> <p>Etc.</p> </li> </ul>"},{"location":"contexte/03-Objectifs/#objectifs-operationnels-de-la-dsi","title":"Objectifs op\u00e9rationnels de la DSI","text":"<p>L\u2019\u00e9quipe informatique de la DSI a pris connaissance de l\u2019ensemble des demandes de la direction et en a d\u00e9gag\u00e9, \u00e0 son niveau, trois objectifs op\u00e9rationnels de travail :</p> <p>Le premier objectif consistera \u00e0 concevoir une nouvelle infrastructure informatique qui proposera une plateforme mat\u00e9rielle et logicielle commune \u00e0 tous les sites. Elle sera la base d\u2019un travail de fond sur la r\u00e9duction des co\u00fbts, la s\u00e9curisation et la r\u00e9activit\u00e9 du SI.</p> <p>Exemples :</p> R\u00e9duction des co\u00fbts all\u00e8gement de la charge de travail du centre d\u2019appels, par un contr\u00f4le total de l\u2019environnement de travail de l\u2019utilisateur, et donc recentrage des comp\u00e9tences et des champs d\u2019interventions des techniciens. S\u00e9curisation contr\u00f4le total de l\u2019environnement de travail : les utilisateurs ne pourront \u00eatre vecteurs d\u2019intrusion de virus par des t\u00e9l\u00e9chargements malveillants, des cl\u00e9s USB... R\u00e9activit\u00e9 du SI r\u00e9duction du temps de mise \u00e0 jour des nouvelles versions des logiciels applicatifs D\u00e9veloppement durable limitation des \u00e9ditions papier, de la consommation d'\u00e9nergie\u2026 <ul> <li> <p>Le deuxi\u00e8me objectif vis\u00e9 est d\u2019offrir une plus grande disponibilit\u00e9     de l\u2019infrastructure, des serveurs et des stations de travail : cela     participera \u00e9galement \u00e0 la r\u00e9duction des co\u00fbts. Tout doit \u00eatre mis     en \u0153uvre pour simplifier l\u2019acc\u00e8s aux donn\u00e9es et accro\u00eetre la     productivit\u00e9 de l\u2019utilisateur en lui assurant une haute disponibilit\u00e9 au SI.</p> </li> <li> <p>Le troisi\u00e8me objectif portera sur l\u2019industrialisation des     installations des stations de travail et des serveurs, l\u2019uniformit\u00e9     des choix logiciels et l\u2019all\u00e9gement de la charge de travail du     centre d\u2019appels.</p> </li> </ul>"},{"location":"contexte/03-Objectifs/#objectif-1-reorganisation-au-sein-dune-architecture-unique","title":"Objectif 1\u00a0: R\u00e9organisation au sein d\u2019une architecture unique","text":"<p>Informatiquement parlant, il est possible de consid\u00e9rer la filiale de chateauroux de deux fa\u00e7ons :</p> <p>- Soit comme un partenaire communiquant avec SportLudique,</p> <p>- Soit comme faisant partie int\u00e9grante de l\u2019infrastructure de SportLudique.</p> <p>La direction souhaitant absorber juridiquement cette filliale, il para\u00eet \u00e9vident de l\u2019absorber dans la l\u2019infrastructure de SportLudique tout en conservant ses sp\u00e9cificit\u00e9s:</p> <p>Il en d\u00e9coule que l\u2019entreprise sera r\u00e9organis\u00e9e de la fa\u00e7on suivante :</p> <ul> <li> <p>Les trois sites de Chartres, Orl\u00e9ans et Tours poss\u00e9deront chacun un     serveur d\u2019infrastructure li\u00e9 au domaine auquel il appartient,</p> </li> <li> <p>La succursale de Chateauroux, qui ne concerne que dix utilisateurs,     n\u2019aura ni serveur d\u2019infrastructure, ni domaine. Le SI sera     accessible par un moyen s\u00e9curis\u00e9 en utilisant une connexion     distante.</p> </li> <li> <p>Toutefois, pour des raisons p\u00e9dagogique la succursale de Chateauroux disposera de son infrastructure autonome.</p> </li> </ul>"},{"location":"contexte/03-Objectifs/#choix-de-la-solution-dinfrastructure-organisationnelle","title":"Choix de la solution d\u2019infrastructure organisationnelle","text":"<p>Les serveurs d\u2019infrastructure auront les r\u00f4les de services r\u00e9seaux de base, tels que serveurs DNS, serveurs DHCP, Annuaure Active Directory.</p> <p>La DSI a retenu la mise en \u0153uvre d\u2019un annuaire Active Directory bas\u00e9 sur un mod\u00e8le de for\u00eat unique reposant sur des serveurs Windows 2019 minimum.</p> <p>Cette solution permet d\u2019exploiter les avantages de l\u2019annuaire Active Directory autour du nom de domaine sportludique.fr. Le fait de rassembler l\u2019organisation de l\u2019entreprise sous une forme de for\u00eat unique ne ferme pas les portes sur les possibilit\u00e9s d\u2019isoler une partie de l\u2019entreprise ayant des besoins sp\u00e9cifiques, en mati\u00e8re de s\u00e9curit\u00e9 par exemple.</p> <p>L\u2019annuaire Active Directory permet d\u2019exploiter de nouvelles fonctionnalit\u00e9s telles que la prise en compte des notions de site, d\u2019unit\u00e9 organisationnelle, de groupe universel.</p> <p>On pourra appliquer des strat\u00e9gies de groupe aux utilisateurs et aux ordinateurs en fonction de crit\u00e8res multiples.</p> <p>Par cette r\u00e9organisation, l\u2019entreprise va r\u00e9duire consid\u00e9rablement le trafic r\u00e9seau et les relations d\u2019approbation au travers du r\u00e9seau. Elle conservera une certaine ind\u00e9pendance au niveau de l\u2019administration, tout en int\u00e9grant sa nouvelle filiale au sein d\u2019une organisation unique.</p>"},{"location":"contexte/03-Objectifs/#refonte-du-plan-dadressage-ip","title":"Refonte du plan d\u2019adressage IP","text":"<p>Cette r\u00e9organisation est l\u2019occasion r\u00eav\u00e9e de remettre \u00e0 plat le plan d\u2019adressage IP et le plan de nommage afin d\u2019harmoniser et de simplifier l\u2019utilisation du r\u00e9seau au travers des diff\u00e9rents sites, de clarifier les r\u00f4les des serveurs et d\u2019anticiper le futur (rachat de nouvelles soci\u00e9t\u00e9s par exemple).</p>"},{"location":"contexte/03-Objectifs/#objectif-2-optimiser-la-gestion-et-la-disponibilite-de-linfrastructure","title":"Objectif 2\u00a0: Optimiser la gestion et la disponibilit\u00e9 de l\u2019infrastructure","text":"<p>Tout doit \u00eatre mis en \u0153uvre plus rendre l\u2019infrastructure globalement plus disponible, tant au niveau des serveurs que de des postes utilisateurs, ce qui revient \u00e0 assurer une plus grande disponibilit\u00e9 et donc productivit\u00e9 des utilisateurs et des techniciens du centre d\u2019appels.</p> <p>Cela passera par diff\u00e9rents moyens d\u2019action :</p>"},{"location":"contexte/03-Objectifs/#mise-en-place-doutils-de-gestion-de-par-cet-de-supervision-reseau","title":"Mise en place d\u2019outils de gestion de par cet de supervision r\u00e9seau","text":"<p>Pour pouvoir r\u00e9duire le co\u00fbt des serveurs et des stations de travail, il sera important de limiter le nombre d\u2019interventions et le temps pass\u00e9 sur chaque machine.</p> <p>Pour cela, deux actions de base devront \u00eatre mises en place :</p> <ul> <li> <p>Les serveurs seront install\u00e9s \u00e0 partir de techniques dites silencieuses, avec des fichiers de r\u00e9ponses.</p> </li> <li> <p>Les stations de travail seront industrialis\u00e9es avec l\u2019installation des Service Packs et autres. Les postes utilisateurs seront pr\u00e9configur\u00e9s avec les logiciels n\u00e9cessaires au fonctionnement de la station de travail de base.</p> </li> </ul> <p>Les outils de gestion de parc et de supervision de r\u00e9seau devront donc \u00eatre \u00e9tudi\u00e9s et mis en place, afin de rationaliser les interventions du centre d\u2019appels.</p>"},{"location":"contexte/03-Objectifs/#mise-en-place-doutils-de-deploiement","title":"Mise en place d\u2019outils de d\u00e9ploiement","text":"<p>On d\u00e9ploiera les logiciels par l\u2019interm\u00e9diaire de la technologie Intelligente propos\u00e9 par les syst\u00e8mes d\u2019exploitation (Strat\u00e9gies de groupes par exemple) ou des solutions applicative sp\u00e9cialis\u00e9es (d\u00e9ploiement via GLPI par exemple).</p> <p>Pour r\u00e9duire les co\u00fbts li\u00e9s aux interventions des techniciens sur les sites, on mettra en place un mod\u00e8le de poste standard (Master)</p>"},{"location":"contexte/03-Objectifs/#homogeneite-logiciels-des-stations-de-travail","title":"Homog\u00e9n\u00e9it\u00e9 logiciels des stations de travail","text":"<p>Pour garantir la bonne utilisation des postes, la DSI publiera les logiciels de base, ce qui pr\u00e9sentera l\u2019int\u00e9r\u00eat de permettre une remise en \u00e9tat automatique en cas de suppression volontaire ou involontaire de la part de l\u2019utilisateur.</p>"},{"location":"contexte/03-Objectifs/#limitation-des-droits-des-utilisateurs","title":"Limitation des droits des utilisateurs","text":"<p>Pour ne plus avoir de probl\u00e8mes de stabilit\u00e9 sur les stations de travail, les utilisateurs ne seront plus administrateurs de leur station. Il faudra donc utiliser la politique du moindre privil\u00e8ge.</p> <p>On utilisera des mod\u00e8les de s\u00e9curit\u00e9 pour appliquer des param\u00e8tres de s\u00e9curit\u00e9 coh\u00e9rents sur l\u2019ensemble des stations de travail de l\u2019organisation. On cr\u00e9era des strat\u00e9gies de groupe en fonction des besoins des services (ressources humaines, finances\u2026) et des contraintes de domaine et de site, pour assurer la meilleure utilisation des postes selon les besoins sp\u00e9cifiques, et uniquement les besoins.</p> <p>La mise en place de clich\u00e9s instantan\u00e9s permettra aux utilisateurs de g\u00e9rer eux-m\u00eames les sauvegardes des diff\u00e9rentes versions de leurs fichiers. Par une interface tr\u00e8s simple, ils pourront restaurer des versions ant\u00e9rieures et ainsi diminuer le nombre de coups de t\u00e9l\u00e9phone au centre d\u2019appels.</p> <p>La mise en place d'un serveur de fichier et d'une politique de sauvegarde ad\u00e9quate devra \u00eatre mis en place.</p> <p>L\u2019\u00e9tude des strat\u00e9gies de compte en fonction des besoins de chaque domaine contribuera \u00e9galement \u00e0 l\u2019effort de r\u00e9duction de la charge d\u2019appels.</p>"},{"location":"contexte/03-Objectifs/#application-de-quotas-despace-de-stockage-aux-utilisateurs","title":"Application de quotas d\u2019espace de stockage aux utilisateurs","text":"<p>Pour limiter l\u2019utilisation des serveurs de fichiers et ma\u00eetriser les d\u00e9penses dues \u00e0 l\u2019achat d\u2019espace disque, on appliquera des quotas.</p> <p>L\u2019action d\u2019un utilisateur sur un poste se limitera uniquement aux besoins de son p\u00e9rim\u00e8tre. Il sera important de limiter, voire d\u2019emp\u00eacher l\u2019installation de logiciels exotiques (non n\u00e9cessaires \u00e0 l\u2019entreprise), qui sont facteurs de r\u00e9installation des postes et de surplus de coups de t\u00e9l\u00e9phone au centre d\u2019appels (helpdesk).</p>"},{"location":"contexte/03-Objectifs/#mettre-en-place-des-services-reseaux","title":"Mettre en place des services r\u00e9seaux","text":"<p>Messagerie, t\u00e9l\u00e9phonie sur IP, services d\u2019impression, acc\u00e8s nomades, acc\u00e8s WIFI</p>"},{"location":"contexte/03-Objectifs/#mettre-en-place-doutils-de-gestion","title":"Mettre en place d\u2019outils de gestion","text":"<p>PGI, SGBD, outils collaboratifs..., certains outils seront d'ailleurs accessible via le Cloud (comme MS Team)</p>"},{"location":"contexte/03-Objectifs/#objectif-3-securiser-linfrastructure","title":"Objectif 3\u00a0: S\u00e9curiser l\u2019Infrastructure","text":"<p>Pour r\u00e9pondre aux objectifs de s\u00e9curit\u00e9 impos\u00e9s par la Direction, la s\u00e9curit\u00e9 devra \u00eatre impl\u00e9ment\u00e9e \u00e0 plusieurs niveaux fonctionnels : infrastructure, syst\u00e8mes, processus, flux.</p> <p>Il sera n\u00e9cessaire d\u2019\u00e9tudier les solutions les moins on\u00e9reuses et de regarder les technologies de s\u00e9curit\u00e9 apport\u00e9es par Windows pouvant r\u00e9pondre au mieux au plan de s\u00e9curit\u00e9.</p> <p>Windows 11 venant tout juste d\u2019\u00eatre mis \u00e0 disposition la DSI souhaite attendre un retour d\u2019exp\u00e9rience utilisateur sur ce nouvel OS.</p> <p>Les solutions bas\u00e9es sur les syst\u00e8mes libres seront  envisag\u00e9es pour la plupart des serveurs. Les postes de travail resteront dans un envioronnement Microsoft.</p>"},{"location":"contexte/03-Objectifs/#securisation-du-materiel-de-linfrastructure","title":"S\u00e9curisation du mat\u00e9riel de l\u2019infrastructure","text":"<p>Les serveurs qui joueront un r\u00f4le important dans l\u2019infrastructure devront \u00eatre s\u00e9curis\u00e9s dans une salle pr\u00e9vue \u00e0 cet effet. L\u2019ensemble des serveurs pourra \u00eatre accessible via une solution bas\u00e9e sur un cluster d\u2019hyperviseur pour faciliter leur gestion et r\u00e9duire l\u2019encombrement. La solution d\u2019infrastructure ainsi virtualis\u00e9e, devra \u00eatre constamment document\u00e9 par les techniciens. Les utilisateurs devront \u00eatre tenus responsables de l\u2019usage du mat\u00e9riel informatique mis \u00e0 leur disposition par l\u2019entreprise (PC, portables, t\u00e9l\u00e9phones...). Les contrats de travail et la charte informatique de l\u2019entreprise devront \u00eatre revus en ce sens.</p> <p>La solution d'hyperviseur et d'hyperconvergence reposera sur l'\u00e9diteur Nutanix </p> Nutanix <p>Nutanix AHV (Acropolis Hypervisor) est une plateforme de virtualisation con\u00e7ue par Nutanix pour permettre la consolidation des ressources informatiques et la gestion des charges de travail sur des clusters de serveurs. C'est une solution de virtualisation int\u00e9gr\u00e9e au sein de l'\u00e9cosyst\u00e8me Nutanix, visant \u00e0 simplifier et \u00e0 optimiser l'infrastructure des centres de donn\u00e9es (datacenter).</p>"},{"location":"contexte/03-Objectifs/#securisation-des-flux","title":"S\u00e9curisation des flux","text":"<p>L'ensemble des communications de l\u2019entreprise doivent \u00eatre prot\u00e9g\u00e9es.</p> <p>Il s\u2019agit entre autre, d\u2019isoler l\u2019activit\u00e9 de recherche et de d\u00e9veloppement du site d\u2019Orl\u00e9ans et de chiffrer les donn\u00e9es sensibles. Les techniques de VLAN, de DMZ, de VPN et de chiffrement des donn\u00e9es seront privil\u00e9gi\u00e9es.</p> Rappel Cybers\u00e9curit\u00e9 <p>Disponibilit\u00e9 : Il s'agit d'assurer que les syst\u00e8mes, les donn\u00e9es et les services sont accessibles et op\u00e9rationnels lorsque n\u00e9cessaire. La disponibilit\u00e9 est essentielle pour garantir la continuit\u00e9 des op\u00e9rations et \u00e9viter les interruptions nuisibles.</p> <p>Int\u00e9grit\u00e9 : L'int\u00e9grit\u00e9 concerne la protection des donn\u00e9es et des syst\u00e8mes contre toute alt\u00e9ration non autoris\u00e9e. Les informations doivent rester exactes et non alt\u00e9r\u00e9es tout au long de leur cycle de vie.</p> <p>Confidentialit\u00e9 : La confidentialit\u00e9 consiste \u00e0 emp\u00eacher l'acc\u00e8s ou la divulgation non autoris\u00e9s des informations sensibles. Elle vise \u00e0 garantir que seules les personnes autoris\u00e9es peuvent acc\u00e9der aux donn\u00e9es confidentielles.</p> <p>Preuve (ou Preuve d'Audit) : Il s'agit de la capacit\u00e9 \u00e0 d\u00e9montrer que des \u00e9v\u00e9nements ou des actions sp\u00e9cifiques se sont produits dans un syst\u00e8me. Cela implique de conserver des journaux d'activit\u00e9 et des enregistrements pour \u00e9tablir une piste d'audit et v\u00e9rifier les actions pass\u00e9es.</p>"},{"location":"cours/01-virtualisation/","title":"01-Virtualisation","text":""},{"location":"cours/01-virtualisation/#type-dhyperviseurs","title":"Type d'hyperviseurs","text":"<p>Les hyperviseurs sont des logiciels qui permettent de cr\u00e9er et de g\u00e9rer des machines virtuelles (VMs) sur un mat\u00e9riel physique. Il existe deux types principaux d'hyperviseurs : le type 1 (bare-metal) et le type 2 (hosted). Voici un aper\u00e7u des diff\u00e9rences entre ces deux types d'hyperviseurs :</p>"},{"location":"cours/01-virtualisation/#hyperviseur-de-type-1-bare-metal","title":"Hyperviseur de Type 1 (Bare-Metal) :","text":"<ol> <li> <p>Ex\u00e9cution directe : Les hyperviseurs de type 1 s'ex\u00e9cutent directement sur le mat\u00e9riel physique du serveur, sans n\u00e9cessiter un syst\u00e8me d'exploitation h\u00f4te interm\u00e9diaire. Cela signifie qu'ils ont un acc\u00e8s plus direct aux ressources mat\u00e9rielles.</p> </li> <li> <p>Performances : En raison de leur acc\u00e8s direct au mat\u00e9riel, les hyperviseurs de type 1 ont tendance \u00e0 offrir de meilleures performances que les hyperviseurs de type 2. Ils sont g\u00e9n\u00e9ralement utilis\u00e9s dans des environnements o\u00f9 les performances sont essentielles, tels que les datacenters d'entreprise.</p> </li> <li> <p>Exemples : VMware vSphere/ESXi, Microsoft Hyper-V (dans sa version pour serveurs), et KVM sont des exemples d'hyperviseurs de type 1.</p> </li> <li> <p>Utilisation : Les hyperviseurs de type 1 sont g\u00e9n\u00e9ralement utilis\u00e9s dans des environnements de production, o\u00f9 la virtualisation est une composante essentielle de l'infrastructure.</p> </li> </ol> <p></p>"},{"location":"cours/01-virtualisation/#hyperviseur-de-type-2-hosted","title":"Hyperviseur de Type 2 (Hosted) :","text":"<ol> <li> <p>Ex\u00e9cution au-dessus d'un syst\u00e8me d'exploitation : Les hyperviseurs de type 2 s'ex\u00e9cutent au-dessus d'un syst\u00e8me d'exploitation h\u00f4te existant, ce qui signifie qu'il y a une couche logicielle suppl\u00e9mentaire entre l'hyperviseur et le mat\u00e9riel physique.</p> </li> <li> <p>Facilit\u00e9 d'utilisation : Les hyperviseurs de type 2 sont g\u00e9n\u00e9ralement plus faciles \u00e0 installer et \u00e0 utiliser, car ils s'appuient sur un syst\u00e8me d'exploitation existant. Ils sont souvent utilis\u00e9s pour le d\u00e9veloppement, le test et l'apprentissage.</p> </li> <li> <p>Performances moindres : En raison de la couche logicielle suppl\u00e9mentaire, les hyperviseurs de type 2 ont tendance \u00e0 avoir des performances l\u00e9g\u00e8rement inf\u00e9rieures par rapport aux hyperviseurs de type 1. Cependant, pour de nombreuses charges de travail, cette diff\u00e9rence de performance peut ne pas \u00eatre significative.</p> </li> <li> <p>Exemples : VirtualBox, VMware Workstation, Parallels Desktop (pour macOS) sont des exemples d'hyperviseurs de type 2.</p> </li> <li> <p>Utilisation : Les hyperviseurs de type 2 sont souvent utilis\u00e9s dans des environnements de d\u00e9veloppement, de test, d'\u00e9mulation, et par des utilisateurs individuels qui souhaitent ex\u00e9cuter des syst\u00e8mes d'exploitation invit\u00e9s sur leur propre machine.</p> </li> </ol> <p>En r\u00e9sum\u00e9, la principale diff\u00e9rence entre les hyperviseurs de type 1 et de type 2 r\u00e9side dans leur relation avec le mat\u00e9riel. Les hyperviseurs de type 1 s'ex\u00e9cutent directement sur le mat\u00e9riel, tandis que les hyperviseurs de type 2 s'ex\u00e9cutent au-dessus d'un syst\u00e8me d'exploitation h\u00f4te. Le choix entre les deux d\u00e9pend des besoins sp\u00e9cifiques de virtualisation et des performances de votre environnement.</p> <p></p>"},{"location":"cours/01-virtualisation/#solutions-technique","title":"Solutions technique","text":"<p>Les hyperviseurs sont des logiciels qui permettent de cr\u00e9er et de g\u00e9rer des machines virtuelles (VMs) sur un serveur physique. Ils sont essentiels pour la virtualisation, qui permet d'ex\u00e9cuter plusieurs syst\u00e8mes d'exploitation et applications sur un seul mat\u00e9riel physique. Voici un petit cours sur les hyperviseurs, en mettant en avant VMware, Hyper-V, VirtualBox et Nutanix, tout en discutant des sp\u00e9cificit\u00e9s de l'hyperconvergence.</p> <ol> <li>VMware :</li> </ol> <p>Type d'hyperviseur : VMware propose deux types d'hyperviseurs - VMware vSphere/ESXi pour les environnements d'entreprise et VMware Workstation/Fusion pour les environnements de d\u00e9veloppement et de test.</p> <p>Caract\u00e9ristiques : VMware est l'un des leaders du march\u00e9 de la virtualisation. Il offre des fonctionnalit\u00e9s avanc\u00e9es telles que la migration \u00e0 chaud, la gestion automatis\u00e9e des ressources, la haute disponibilit\u00e9, la r\u00e9plication et la gestion centralis\u00e9e avec vCenter Server.</p> <p>Hyperconvergence : VMware propose une solution hyperconverg\u00e9e appel\u00e9e VMware vSAN. Il combine stockage et calcul sur un m\u00eame cluster de serveurs pour simplifier la gestion et am\u00e9liorer les performances.</p> <ol> <li>Hyper-V :</li> </ol> <p>Type d'hyperviseur : Hyper-V est l'hyperviseur de Microsoft, int\u00e9gr\u00e9 \u00e0 Windows Server. Il existe \u00e9galement une version gratuite appel\u00e9e Hyper-V Server.</p> <p>Caract\u00e9ristiques : Hyper-V offre une virtualisation robuste avec des fonctionnalit\u00e9s telles que la migration en direct, la mise en cluster, la gestion \u00e0 distance via Hyper-V Manager ou PowerShell, et la prise en charge des machines virtuelles Linux et Windows.</p> <p>Hyperconvergence : Microsoft propose Azure Stack HCI, une solution hyperconverg\u00e9e bas\u00e9e sur Hyper-V. Elle offre une plateforme de calcul et de stockage hautement int\u00e9gr\u00e9e.</p> <ol> <li>VirtualBox :</li> </ol> <p>Type d'hyperviseur : VirtualBox est un hyperviseur de type 2, ce qui signifie qu'il s'ex\u00e9cute sur un syst\u00e8me d'exploitation h\u00f4te existant (Windows, macOS, Linux).</p> <p>Caract\u00e9ristiques : VirtualBox est adapt\u00e9 pour les environnements de d\u00e9veloppement, de test et d'apprentissage. Il est open source et offre une interface utilisateur conviviale.</p> <p>Hyperconvergence : VirtualBox n'est pas g\u00e9n\u00e9ralement associ\u00e9 \u00e0 des solutions hyperconverg\u00e9es, car il est principalement utilis\u00e9 pour la virtualisation locale.</p> <ol> <li>Nutanix :</li> </ol> <p>Type d'hyperviseur : Nutanix est une plateforme hyperconverg\u00e9e qui int\u00e8gre son propre hyperviseur, appel\u00e9 Acropolis Hypervisor (AHV). Cependant, il prend \u00e9galement en charge d'autres hyperviseurs comme VMware ESXi et Hyper-V.</p> <p>Caract\u00e9ristiques : Nutanix offre une solution hyperconverg\u00e9e tout-en-un, combinant stockage, calcul et gestion dans un cluster \u00e9volutif. Il simplifie la gestion, offre une haute disponibilit\u00e9 et une scalabilit\u00e9 lin\u00e9aire.</p> <p>Hyperconvergence : Nutanix est une solution hyperconverg\u00e9e par excellence, car elle combine tous les \u00e9l\u00e9ments n\u00e9cessaires pour ex\u00e9cuter des charges de travail virtualis\u00e9es de mani\u00e8re efficace.</p> <ol> <li>Proxmox :</li> </ol> <p>Type d'hyperviseur : Proxmox VE est un hyperviseur de type 1 (bare-metal) bas\u00e9 sur KVM (Kernel-based Virtual Machine) pour la virtualisation mat\u00e9rielle et LXC (Linux Containers) pour la virtualisation bas\u00e9e sur conteneurs.</p> <p>Caract\u00e9ristiques : - Gestion centralis\u00e9e des machines virtuelles et des conteneurs via une interface web conviviale. - Prise en charge de la haute disponibilit\u00e9 avec la possibilit\u00e9 de migration en direct des machines virtuelles. - Int\u00e9gration du stockage d\u00e9fini par logiciel (Software-Defined Storage) pour la gestion des donn\u00e9es. - Prise en charge des conteneurs Linux via LXC pour une efficacit\u00e9 accrue des ressources. - Int\u00e9gration de la sauvegarde et de la restauration des machines virtuelles et des conteneurs.</p> <p>Hyperconvergence: Proxmox VE est capable de cr\u00e9er une infrastructure hyperconverg\u00e9e en utilisant son propre hyperviseur de type 1 et en combinant la virtualisation, le stockage et la gestion au sein du m\u00eame syst\u00e8me. Il peut \u00e9galement \u00eatre int\u00e9gr\u00e9 \u00e0 des solutions de stockage d\u00e9fini par logiciel tiers pour une approche encore plus int\u00e9gr\u00e9e de l'hyperconvergence.</p> <p>L'hyperconvergence, en r\u00e9sum\u00e9, est une approche qui int\u00e8gre le stockage, le calcul et la virtualisation dans une seule plateforme, simplifiant ainsi la gestion des centres de donn\u00e9es et am\u00e9liorant les performances. VMware vSAN, Azure Stack HCI et Nutanix sont des exemples de solutions hyperconverg\u00e9es qui peuvent rationaliser l'infrastructure IT et r\u00e9duire la complexit\u00e9 op\u00e9rationnelle. Choisir la meilleure solution d\u00e9pend des besoins sp\u00e9cifiques de votre organisation et de votre environnement.</p>"},{"location":"cours/02-dns/","title":"02-DNS (Domain Name System)","text":""},{"location":"cours/02-dns/#introduction-aux-dns","title":"Introduction aux DNS","text":"<p>Les DNS, ou Domain Name System, sont un syst\u00e8me fondamental d'Internet qui permet de traduire les noms de domaine en adresses IP et vice-versa. Ils jouent un r\u00f4le essentiel dans la navigation sur le Web et la communication entre les appareils connect\u00e9s \u00e0 Internet.</p>"},{"location":"cours/02-dns/#resolveurs-dns","title":"R\u00e9solveurs DNS","text":"<p>Un r\u00e9solveur DNS est un logiciel ou un service responsable de la r\u00e9solution des noms de domaine en adresses IP. Les r\u00e9solveurs sont g\u00e9n\u00e9ralement utilis\u00e9s par les appareils clients pour interroger le syst\u00e8me DNS et obtenir les adresses IP associ\u00e9es aux noms de domaine.</p>"},{"location":"cours/02-dns/#serveurs-dautorite","title":"Serveurs d'autorit\u00e9","text":"<p>Les serveurs d'autorit\u00e9 sont des serveurs DNS responsables d'une zone DNS particuli\u00e8re. Ils ont la capacit\u00e9 d'autoriser des requ\u00eates pour les noms de domaine dans leur zone respective. Les zones DNS sont g\u00e9n\u00e9ralement d\u00e9finies pour repr\u00e9senter une partie de l'arborescence des noms de domaine, et chaque zone a un serveur d'autorit\u00e9 qui la g\u00e8re.</p>"},{"location":"cours/02-dns/#separation-des-roles","title":"S\u00e9paration des r\u00f4les","text":"<p>La s\u00e9paration des r\u00f4les dans le syst\u00e8me DNS est une pratique courante pour garantir la s\u00e9curit\u00e9 et la fiabilit\u00e9. Cette s\u00e9paration peut \u00eatre r\u00e9alis\u00e9e en utilisant diff\u00e9rents serveurs pour les r\u00f4les sp\u00e9cifiques, tels que les serveurs de r\u00e9solution, les serveurs d'autorit\u00e9 et les serveurs de redirection.</p>"},{"location":"cours/02-dns/#redirecteurs-dns","title":"Redirecteurs DNS","text":"<p>Les redirecteurs DNS sont des serveurs DNS qui redirigent les requ\u00eates DNS vers d'autres serveurs DNS, g\u00e9n\u00e9ralement les serveurs d'autorit\u00e9 appropri\u00e9s. Ils sont utiles pour am\u00e9liorer l'efficacit\u00e9 du syst\u00e8me DNS en \u00e9vitant des requ\u00eates inutiles aux serveurs racine.</p>"},{"location":"cours/02-dns/#serveurs-racine","title":"Serveurs Racine","text":"<p>Les serveurs racine sont le niveau le plus \u00e9lev\u00e9 de la hi\u00e9rarchie DNS. Ils stockent les informations de base pour l'ensemble du syst\u00e8me DNS et sont responsables de renvoyer les requ\u00eates vers les serveurs d'autorit\u00e9 appropri\u00e9s pour les domaines de premier niveau (TLD) tels que .com, .org, .net, etc.</p>"},{"location":"cours/02-dns/#delegation-des-zones","title":"D\u00e9l\u00e9gation des Zones","text":"<p>La d\u00e9l\u00e9gation des zones est le processus par lequel une autorit\u00e9 parente confie la gestion d'une zone DNS \u00e0 une autorit\u00e9 enfant. Cela permet de distribuer la responsabilit\u00e9 de la gestion des noms de domaine dans la hi\u00e9rarchie DNS. Par exemple, le registraire d'un domaine peut d\u00e9l\u00e9guer la gestion de la zone DNS \u00e0 l'h\u00e9bergeur Web du propri\u00e9taire du domaine.</p> <p>Pour d\u00e9l\u00e9guer une zone \u00e0 un autre serveur DNS (non BIND) \u00e0 l'aide de BIND comme serveur parent, vous devrez configurer des enregistrements NS pour le sous-domaine d\u00e9l\u00e9gu\u00e9 dans votre zone parente. Voici comment faire cela :</p> <p>Supposons que vous utilisez BIND comme serveur DNS principal pour le domaine <code>exemple.com</code> et que vous souhaitez d\u00e9l\u00e9guer la gestion du sous-domaine <code>sousdomaine.exemple.com</code> \u00e0 un autre serveur DNS dont l'adresse IP est <code>203.0.113.100</code>.</p> <p>Configuration BIND (zone principale pour exemple.com) :</p> <ol> <li>Dans le fichier de zone pour <code>exemple.com</code>, ajoutez les enregistrements NS pour le sous-domaine d\u00e9l\u00e9gu\u00e9 comme ceci :</li> </ol> <pre><code>; Fichier de zone pour exemple.com (zone publique)\n$TTL 3600\n\n@      IN      SOA    ns1.exemple.com. admin.exemple.com. (\n                  2023091301 ; Num\u00e9ro de s\u00e9rie\n                  3600       ; Intervalle de rafra\u00eechissement\n                  1800       ; Intervalle de r\u00e9essai\n                  604800     ; Intervalle d'expiration\n                  86400 )    ; Dur\u00e9e minimale de cache\n\n@      IN      NS     ns1.exemple.com.\n@      IN      NS     ns2.exemple.com.\n\n; Enregistrements IPv4\n@      IN      A      203.0.113.10\nwww    IN      A      203.0.113.20\nmail   IN      A      203.0.113.30\n\n; D\u00e9l\u00e9gation du sous-domaine \u00e0 un autre serveur DNS\nsousdomaine.exemple.com.  IN  NS  ns.serveurdns.externe.com.\n</code></pre> <p>Notez que dans cet exemple, nous utilisons l'enregistrement NS <code>ns.serveurdns.externe.com</code> pour d\u00e9l\u00e9guer la gestion du sous-domaine <code>sousdomaine.exemple.com</code> \u00e0 un serveur DNS externe. Vous devez remplacer <code>ns.serveurdns.externe.com</code> par le nom de domaine complet du serveur DNS externe qui g\u00e9rera le sous-domaine.</p> <p>Configuration sur le serveur DNS externe (ns.serveurdns.externe.com) :</p> <ol> <li> <p>Configurez le serveur DNS externe pour r\u00e9pondre aux requ\u00eates pour le sous-domaine <code>sousdomaine.exemple.com</code>.</p> </li> <li> <p>Cr\u00e9ez les enregistrements DNS appropri\u00e9s pour le sous-domaine <code>sousdomaine.exemple.com</code> sur le serveur DNS externe, par exemple :</p> </li> </ol> <pre><code>; Configuration sur le serveur DNS externe\n$TTL 3600\n\n@      IN      SOA    ns.serveurdns.externe.com. admin.serveurdns.externe.com. (\n                  2023091301 ; Num\u00e9ro de s\u00e9rie\n                  3600       ; Intervalle de rafra\u00eechissement\n                  1800       ; Intervalle de r\u00e9essai\n                  604800     ; Intervalle d'expiration\n                  86400 )    ; Dur\u00e9e minimale de cache\n\n@      IN      NS     ns.serveurdns.externe.com.\nsousdomaine IN      A      203.0.113.100  ; Adresse IP du serveur pour sousdomaine.exemple.com\n</code></pre> <ol> <li>Assurez-vous que le serveur DNS externe est configur\u00e9 pour r\u00e9pondre aux requ\u00eates DNS pour le sous-domaine <code>sousdomaine.exemple.com</code> et qu'il pointe correctement vers l'adresse IP <code>203.0.113.100</code>.</li> </ol> <p>De cette mani\u00e8re, la gestion du sous-domaine <code>sousdomaine.exemple.com</code> est d\u00e9l\u00e9gu\u00e9e au serveur DNS externe <code>ns.serveurdns.externe.com</code>, et ce dernier est responsable de la r\u00e9solution DNS pour ce sous-domaine. Le serveur BIND g\u00e8re toujours la zone principale pour <code>exemple.com</code>.</p>"},{"location":"cours/02-dns/#division-des-zones-privees-et-publiques","title":"Division des Zones (Priv\u00e9es et Publiques)","text":"<p>Les zones DNS peuvent \u00eatre divis\u00e9es en zones priv\u00e9es et publiques. Les zones publiques contiennent des informations accessibles au public, telles que les enregistrements DNS pour un site web. Les zones priv\u00e9es, en revanche, contiennent des informations sp\u00e9cifiques \u00e0 un r\u00e9seau priv\u00e9, comme les enregistrements pour les serveurs internes. La division permet de contr\u00f4ler l'acc\u00e8s aux informations DNS en fonction des besoins de s\u00e9curit\u00e9.</p> <p>En conclusion, le DNS est un syst\u00e8me fondamental pour le fonctionnement d'Internet. Il repose sur une hi\u00e9rarchie de serveurs, des r\u00e9solveurs pour la r\u00e9solution des requ\u00eates DNS, et la d\u00e9l\u00e9gation des zones pour g\u00e9rer la r\u00e9partition des responsabilit\u00e9s. La compr\u00e9hension de ces concepts est essentielle pour la gestion efficace des noms de domaine et la gestion des ressources Internet.</p>"},{"location":"cours/02-dns/#schema-de-linfrastructure-dns","title":"Schema de l'infrastructure DNS","text":""},{"location":"cours/02-dns/#dns-partage-split-horizon-dns","title":"DNS Partag\u00e9 (Split-Horizon DNS) :","text":"<p>Le DNS partag\u00e9, \u00e9galement appel\u00e9 DNS split-horizon, implique d'avoir des vues diff\u00e9rentes de l'espace de noms DNS pour les utilisateurs internes et externes. Cela est souvent utilis\u00e9 pour fournir des r\u00e9ponses DNS diff\u00e9rentes en fonction de la provenance de la requ\u00eate DNS, c'est-\u00e0-dire si la requ\u00eate provient de l'int\u00e9rieur ou de l'ext\u00e9rieur du r\u00e9seau local. Pour mettre en \u0153uvre le DNS partag\u00e9 avec BIND9, vous configurez g\u00e9n\u00e9ralement des vues distinctes dans le fichier de configuration BIND.</p> <p>Voici un exemple simplifi\u00e9 :</p> <pre><code>view \"interne\" {\n    match-clients { localhost; 192.168.1.0/24; };\n    zone \"exemple.com\" {\n        type master;\n        file \"/etc/bind/db.interne\";\n    };\n};\n\nview \"externe\" {\n    match-clients { any; };\n    zone \"exemple.com\" {\n        type master;\n        file \"/etc/bind/db.externe\";\n    };\n};\n</code></pre> <p>Dans cet exemple, les utilisateurs provenant du r\u00e9seau local (192.168.1.0/24) verront une vue DNS d\u00e9finie par le fichier /etc/bind/db.interne, tandis que les utilisateurs externes verront une vue d\u00e9finie par le fichier /etc/bind/db.externe.</p>"},{"location":"cours/02-dns/#exemple-de-configuration","title":"Exemple de configuration","text":""},{"location":"cours/02-dns/#resolveur-dns","title":"Resolveur DNS","text":""},{"location":"cours/02-dns/#fichier-etcbindnamedconfoptions","title":"Fichier /etc/bind/named.conf.options","text":"<pre><code>    options {\n            directory \"/var/cache/bind\";\n\n            //Autorise les requetes recursives\n            recursion yes;  \n\n            //Liste des r\u00e9seaux autoris\u00e9s \u00e0 interoger le resolver\n            //Par defaut seul les \u00e9quipements du meme r\u00e9seau IP que le serveur peuvent l'interroger.\n            allow-query { \n                172.x.0.0/24;       //LAN\n                127.0.0.1;          //LOCALHOST\n                192.168.x.0/24;    //DMZ\n            };\n\n            //Configuration du redirecteur\n            //Le domaine sportludique n'\u00e9tant pas achet\u00e9 reelement ,il faut interroger le redirecteur quand le domaine n'est pas trouv\u00e9 sur les serveur racine\n            forwarders {\n                    121.183.90.205;     //IP resolver enseignant\n            };\n\n            //Desactivation de DNSSec\n            dnssec-validation no;\n\n            //Ecoute sur l'ensemble des interfaces IPv4\n            listen-on { any; };\n    };\n</code></pre>"},{"location":"cours/02-dns/#serveur-dns-ayant-autorite-sur-la-zone-villesportludiquefr","title":"Serveur DNS ayant autorit\u00e9 sur la zone ville.sportludique.fr","text":""},{"location":"cours/02-dns/#fichier-etcbindnamedconflocal","title":"Fichier /etc/bind/named.conf.local","text":"<pre><code>    //zone externe\n    view \"outside\" {\n        match-clients { \n            !172.x.x.0/24;    //requ\u00e8te de provenant pas du LAN\n            !192.168.x.0/24;    //requ\u00e8te de provenant pas de la DMZ\n            any;                //Toutes les autres adresses\n        };\n\n        zone \"ville.sportludique.fr.\" {\n            type master;\n            file \"/etc/bind/db.ville.sp.fr.externe\";\n        };\n    };\n\n    view \"inside\" {\n\n        match-clients { \n            172.x.0.0/24;    //requ\u00e8te provenant du LAN\n            192.168.x.0/24;    //requ\u00e8te provenant de la DMZ\n        };\n\n        zone \"chartres.sportludique.fr.\" {\n            type master;\n            file \"/etc/bind/db.ville.sp.fr.interne\";\n        };\n\n    };\n</code></pre> Attention <p>Toutes les lignes du fichier <code>named.conf.default-zones</code> doivent \u00eatre mises <code>en commentaire</code> car ne elles ne sont associ\u00e9es \u00e0 aucune vue. </p>"},{"location":"cours/03-nat/","title":"03-NAT Dynamique (Masquerade) version Cisco","text":"<p>Le NAT dynamique est une technique utilis\u00e9e pour permettre \u00e0 plusieurs dispositifs d'une r\u00e9seau local (IP inside) de partager une seule adresse IP publique (IP outside) pour acc\u00e9der \u00e0 Internet ou d'autres r\u00e9seaux externes.</p> <p>\u00c9l\u00e9ments du NAT dynamique :</p> <ol> <li> <p>IP Inside (Adresse priv\u00e9e) : L'adresse IP inside est l'adresse IP attribu\u00e9e aux dispositifs du r\u00e9seau local. Dans votre exemple, l'adresse IP inside est en 172.28.x.254/24. Ces adresses IP sont g\u00e9n\u00e9ralement priv\u00e9es et ne sont pas routables sur Internet.</p> </li> <li> <p>IP Outside (Adresse publique) : L'adresse IP outside est l'adresse IP attribu\u00e9e au routeur ou au pare-feu qui relie le r\u00e9seau local au r\u00e9seau externe, g\u00e9n\u00e9ralement Internet. Dans votre exemple, l'adresse IP outside est en 183.44.x.1/30. Cette adresse IP est publique et utilis\u00e9e pour communiquer avec des ressources sur Internet.</p> </li> <li> <p>Table de traduction (Translation Table) : La table de traduction est une table g\u00e9r\u00e9e par le routeur ou le pare-feu NAT qui associe les adresses IP inside aux adresses IP outside. Chaque fois qu'un dispositif du r\u00e9seau local initie une connexion vers l'ext\u00e9rieur, une entr\u00e9e est cr\u00e9\u00e9e dans la table de traduction pour suivre la correspondance entre l'adresse IP inside et l'adresse IP outside.</p> </li> <li> <p>Port Mapping (Port Mapping) : Dans le cas du NAT dynamique, les num\u00e9ros de port sont \u00e9galement modifi\u00e9s. Cela permet \u00e0 plusieurs dispositifs \u00e0 l'int\u00e9rieur du r\u00e9seau local d'utiliser la m\u00eame adresse IP publique en attribuant un num\u00e9ro de port unique \u00e0 chaque connexion. Ainsi, le routeur peut rediriger le trafic vers le dispositif appropri\u00e9 en fonction du num\u00e9ro de port.</p> </li> </ol> <p>Configuration du NAT dynamique avec Cisco :</p> <p>Voici un exemple de configuration du NAT dynamique avec Cisco :</p> <pre><code>interface GigabitEthernet0/0\n ip address 183.44.x.1 255.255.255.252\n ip nat outside\n\ninterface GigabitEthernet0/1\n ip address 172.28.x.254 255.255.255.0\n ip nat inside\n\nip nat inside source list 1 interface GigabitEthernet0/0 overload\n\naccess-list 1 permit 172.28.x.0 0.0.0.255\n</code></pre> <p>Explications :</p> <ul> <li> <p>La commande <code>ip nat outside</code> est appliqu\u00e9e \u00e0 l'interface connect\u00e9e \u00e0 l'ext\u00e9rieur (GigabitEthernet0/0), tandis que <code>ip nat inside</code> est appliqu\u00e9 \u00e0 l'interface connect\u00e9e au r\u00e9seau local (GigabitEthernet0/1).</p> </li> <li> <p>La commande <code>ip nat inside source list 1 interface GigabitEthernet0/0 overload</code> d\u00e9finit la r\u00e8gle de translation NAT dynamique. Elle indique que toutes les adresses IP du r\u00e9seau local (d\u00e9finies dans l'access-list 1) seront traduites en utilisant l'adresse IP publique de l'interface GigabitEthernet0/0, avec la surcharge (overload) pour g\u00e9rer plusieurs connexions simultan\u00e9es en utilisant le mappage de ports.</p> </li> <li> <p>L'access-list 1 sp\u00e9cifie les adresses IP \u00e0 l'int\u00e9rieur du r\u00e9seau local qui sont autoris\u00e9es \u00e0 \u00eatre traduites.</p> </li> </ul> <p>Ainsi, avec cette configuration, les dispositifs du r\u00e9seau local avec des adresses IP en 172.28.x.x pourront acc\u00e9der \u00e0 Internet en partageant l'adresse IP publique 183.44.x.1 gr\u00e2ce au NAT dynamique. Chaque connexion sortante se verra attribuer un num\u00e9ro de port unique pour permettre la correspondance correcte entre les dispositifs internes et l'adresse IP publique.</p>"},{"location":"cours/03-nat/#verification-du-contenu-de-la-table-de-nat","title":"Verification du contenu de la table de NAT","text":"<p>Pour v\u00e9rifier la table de translation NAT et la vider sur un routeur Cisco, vous pouvez utiliser les commandes suivantes :</p> <p>Pour v\u00e9rifier la table de translation NAT, utilisez la commande suivante : <pre><code>show ip nat translations\n</code></pre></p> <p>Cette commande affichera une liste des entr\u00e9es dans la table de translation NAT, montrant les adresses IP inside, les ports source, les adresses IP outside, les ports de destination, ainsi que le protocole utilis\u00e9.</p> <p>Pour vider la table de translation NAT, utilisez la commande suivante : <pre><code>clear ip nat translation *\n</code></pre></p> <p>Cette commande supprimera toutes les entr\u00e9es de la table de translation NAT, r\u00e9initialisant ainsi les associations entre les adresses IP inside et outside. Assurez-vous d'utiliser cette commande avec pr\u00e9caution, car elle peut interrompre les connexions en cours.</p>"},{"location":"cours/03-nat/#gestion-avec-une-interface-de-management","title":"Gestion avec une interface de management","text":"<p>Vous pouvez configurer le NAT avec une sous-interface d\u00e9di\u00e9e au management qui n'est pas rout\u00e9e. Voici un exemple de configuration NAT avec une sous-interface sur un routeur Cisco, en supposant que vous avez d\u00e9j\u00e0 configur\u00e9 une interface principale :</p> <p>Configuration de la sous-interface pour le NAT :</p> <pre><code>interface GigabitEthernet0/0.10\n encapsulation dot1Q 10\n ip address 172.28.x.254 255.255.255.0\n ip nat inside\n\ninterface GigabitEthernet0/0.20\n encapsulation dot1Q 20\n ip address 192.168.1.1 255.255.255.0\n no ip route-cache\n</code></pre> <p>Dans cet exemple :</p> <ul> <li>Nous avons cr\u00e9\u00e9 deux sous-interfaces, \"GigabitEthernet0/0.10\" et \"GigabitEthernet0/0.20\", chacune avec son propre VLAN (10 et 20).</li> <li>\"GigabitEthernet0/0.10\" est configur\u00e9 comme une interface NAT inside, avec une adresse IP de 172.28.x.254/24. Cette sous-interface sera utilis\u00e9e pour le trafic NAT.</li> <li>\"GigabitEthernet0/0.20\" est configur\u00e9 avec une adresse IP de gestion de 192.168.1.1/24, mais nous avons ajout\u00e9 \"no ip route-cache\" pour emp\u00eacher cette interface d'\u00eatre rout\u00e9e. Ainsi, cette sous-interface est d\u00e9di\u00e9e au management et ne participera pas au processus de routage.</li> </ul> <p>Ensuite, vous pouvez configurer le NAT de la m\u00eame mani\u00e8re que dans l'exemple pr\u00e9c\u00e9dent, en utilisant \"GigabitEthernet0/0.10\" comme interface NAT inside. Cette configuration permettra aux dispositifs du r\u00e9seau VLAN 10 (sous-interface 10) d'utiliser NAT pour acc\u00e9der \u00e0 Internet, tandis que la sous-interface 20 est r\u00e9serv\u00e9e au management et n'est pas rout\u00e9e.</p>"},{"location":"cours/03-nat/#configuration-du-switch-pour-assurer-la-liaison","title":"Configuration du switch pour assurer la liaison.","text":"<p>Pour connecter le routeur \u00e0 un commutateur (switch), vous pouvez configurer une connexion trunk(802.1q) entre le routeur et le commutateur si vous avez plusieurs VLANs sur le routeur (comme dans l'exemple pr\u00e9c\u00e9dent). Voici comment configurer un port du commutateur pour une connexion trunk vers le routeur Cisco.</p> <p>Supposons que vous ayez deux VLANs sp\u00e9cifiques, VLAN 10 et VLAN 20, que vous souhaitez autoriser \u00e0 communiquer avec le routeur. Vous avez d\u00e9j\u00e0 configur\u00e9 les sous-interfaces correspondantes sur le routeur (comme dans l'exemple pr\u00e9c\u00e9dent).</p> <p>Configuration du port du commutateur en mode trunk avec les VLANs autoris\u00e9s :</p> <p><code>bash interface GigabitEthernet0/1  switchport mode trunk  switchport trunk allowed vlan 10,20</code></p> <p>Dans cette configuration :</p> <ul> <li>switchport mode trunk configure le port du commutateur en mode trunk.</li> <li>switchport trunk allowed vlan 10,20 sp\u00e9cifie que seuls les VLANs 10 et 20 sont autoris\u00e9s \u00e0 traverser le port trunk. Vous pouvez ajouter d'autres num\u00e9ros de VLAN s\u00e9par\u00e9s par des virgules si n\u00e9cessaire.</li> </ul> <p>Assurez-vous que la configuration de l'interface du commutateur est compatible avec la configuration des sous-interfaces sur le routeur. Cela garantira que le trafic VLAN entre le commutateur et le routeur est correctement \u00e9tiquet\u00e9 et rout\u00e9.</p>"},{"location":"cours/04-hsrp/","title":"04-FailOver avec le Protocole HSRP","text":"<p>Le protocole HSRP (Hot Standby Router Protocol) est un protocole de Cisco con\u00e7u pour fournir une haute disponibilit\u00e9 (HA) aux r\u00e9seaux en permettant \u00e0 un routeur de prendre automatiquement le relais en cas de panne du routeur principal. HSRP est souvent utilis\u00e9 pour cr\u00e9er une passerelle par d\u00e9faut redondante vers l'Internet ou d'autres r\u00e9seaux.</p> <p>Voici une pr\u00e9sentation rapide du protocole HSRP avec des exemples de configuration utilisant des adresses IP de la plage 172.28.x.0/24, avec une adresse VIP (Virtual IP) de 172.28.x.254 :</p> <p>Supposons que vous ayez deux routeurs Cisco, R1 et R2, et que vous souhaitiez configurer HSRP entre eux pour la haute disponibilit\u00e9.</p> <p>Configuration de R1 :</p> <pre><code>interface GigabitEthernet0/0\n ip address 172.28.x.251 255.255.255.0\n standby 1 ip 172.28.x.254\n standby 1 priority 110\n standby 1 preempt\n</code></pre> <p>Dans cette configuration : - L'interface GigabitEthernet0/0 de R1 est configur\u00e9e avec l'adresse IP 172.28.x.251. - \"standby 1 ip 172.28.x.254\" d\u00e9finit l'adresse VIP (Virtual IP) HSRP \u00e0 172.28.x.254. - \"standby 1 priority 110\" d\u00e9finit la priorit\u00e9 de ce routeur \u00e0 110 (par d\u00e9faut est 100). - \"standby 1 preempt\" permet \u00e0 R1 de reprendre automatiquement le r\u00f4le de routeur actif s'il redevient disponible apr\u00e8s une panne.</p> <p>Configuration de R2 :</p> <pre><code>interface GigabitEthernet0/0\n ip address 172.28.x.252 255.255.255.0\n standby 1 ip 172.28.x.254\n standby 1 priority 100\n standby 1 preempt\n</code></pre> <p>Dans cette configuration : - L'interface GigabitEthernet0/0 de R2 est configur\u00e9e avec l'adresse IP 172.28.x.3. - \"standby 1 ip 172.28.x.254\" d\u00e9finit \u00e9galement l'adresse VIP HSRP \u00e0 172.28.x.254, qui est la m\u00eame que celle configur\u00e9e sur R1. - \"standby 1 priority 100\" d\u00e9finit la priorit\u00e9 de ce routeur \u00e0 100. - \"standby 1 preempt\" permet \u00e0 R2 de prendre le relais en tant que routeur actif si R1 devient indisponible.</p> <p>Ainsi, avec cette configuration, R1 sera le routeur actif tant qu'il est disponible. En cas de panne de R1 ou de sa connexion, R2 prendra automatiquement le relais en tant que routeur actif, assurant ainsi une haute disponibilit\u00e9 pour la VIP 172.28.x.254.</p>"},{"location":"cours/05-docker/","title":"05 Docker","text":""},{"location":"cours/05-docker/#introduction","title":"Introduction","text":""},{"location":"cours/05-docker/#virtualisation-vs-containerisation","title":"Virtualisation vs Containerisation","text":"<p>La virtualisation et la containerisation sont deux approches diff\u00e9rentes pour la gestion des ressources et l'isolation des applications sur un syst\u00e8me h\u00f4te.</p> <ul> <li> <p>Virtualisation : La virtualisation utilise des hyperviseurs pour cr\u00e9er des machines virtuelles (VMs), chaque VM ex\u00e9cutant un syst\u00e8me d'exploitation complet. Cela n\u00e9cessite plus de ressources car chaque VM contient son propre noyau d'OS.</p> </li> <li> <p>Containerisation : La containerisation utilise des conteneurs l\u00e9gers pour isoler les applications. Chaque conteneur partage le m\u00eame noyau d'OS que l'h\u00f4te, ce qui les rend plus l\u00e9gers et plus rapides \u00e0 d\u00e9marrer.</p> </li> </ul> <p></p>"},{"location":"cours/05-docker/#installation-de-docker","title":"Installation de Docker","text":"<p>Pour installer Docker, suivez les instructions de la documentation officielle selon votre syst\u00e8me d'exploitation :</p> <ul> <li>Installation de Docker sur Linux</li> <li>Installation de Docker sur macOS</li> <li>Installation de Docker sur Windows</li> </ul> <p>Compatibilit\u00e9 Hyper-V</p> <p>Docker Desktop for Windows utilise Hyper-V, qui peut \u00eatre incompatible avec d'autres hyperviseurs tels que VirtualBox. Si vous avez d\u00e9j\u00e0 VirtualBox install\u00e9, assurez-vous de v\u00e9rifier la compatibilit\u00e9 avant d'installer Docker Desktop. Pour plus d'informations, consultez la documentation officielle de Docker.</p>"},{"location":"cours/05-docker/#dockerfile","title":"Dockerfile","text":"<p>Un Dockerfile est un script qui contient les instructions n\u00e9cessaires pour cr\u00e9er une image Docker. Voici un exemple simple de Dockerfile pour une application web Node.js :</p>"},{"location":"cours/05-docker/#exemple-de-deploiement-dapplication-nodejs-simple-via-un-container","title":"Exemple de deploiement d'Application Node.js Simple via un container","text":"<p>Cr\u00e9ez un dossier pour votre application Node.js et cr\u00e9ez un fichier <code>app.js</code> avec le contenu suivant :</p> <pre><code>// app.js\nconst http = require('http');\n\nconst server = http.createServer((req, res) =&gt; {\n  res.statusCode = 200;\n  res.setHeader('Content-Type', 'text/plain');\n  res.end('Hello, Docker!\\n');\n});\n\nconst port = process.env.PORT || 3000;\n\nserver.listen(port, () =&gt; {\n  console.log(`Server running on http://localhost:${port}`);\n});\n</code></pre>"},{"location":"cours/05-docker/#dockerfile_1","title":"Dockerfile","text":"<p>Cr\u00e9ez un fichier appel\u00e9 <code>Dockerfile</code> dans le m\u00eame r\u00e9pertoire que votre application avec le contenu suivant :</p> <pre><code># Use the official Node.js image\nFROM node:14\n\n# Set the working directory\nWORKDIR /usr/src/app\n\n# Install app dependencies\nRUN npm install\n\n# Bundle app source\nCOPY . .\n\n# Expose the port\nEXPOSE 3000\n\n# Command to run the application\nCMD [\"node\", \"app.js\"]\n</code></pre>"},{"location":"cours/05-docker/#docker-compose","title":"Docker Compose","text":"<p>Docker Compose est un outil pour d\u00e9finir et g\u00e9rer des applications Docker multi-conteneurs. Vous pouvez utiliser un fichier <code>docker-compose.yml</code> pour sp\u00e9cifier les services, les r\u00e9seaux et les volumes n\u00e9cessaires \u00e0 votre application.</p>"},{"location":"cours/05-docker/#commande-utiles","title":"Commande utiles","text":"<p>La commande <code>docker-compose up -d</code> est utilis\u00e9e pour d\u00e9marrer les services d\u00e9finis dans votre fichier <code>docker-compose.yml</code> en mode d\u00e9tach\u00e9 (arri\u00e8re-plan). Cela signifie que les conteneurs Docker seront lanc\u00e9s en arri\u00e8re-plan, et vous pourrez continuer \u00e0 utiliser votre terminal pour d'autres t\u00e2ches sans bloquer sur les journaux des conteneurs.</p> <p>Voici comment utiliser cette commande :</p> <pre><code>docker-compose up -d\n</code></pre> <p>Assurez-vous d'ex\u00e9cuter cette commande dans le r\u00e9pertoire o\u00f9 se trouve votre fichier <code>docker-compose.yml</code>. Docker Compose utilisera ce fichier pour cr\u00e9er et configurer les conteneurs.</p> <p>Apr\u00e8s avoir ex\u00e9cut\u00e9 cette commande, Docker Compose lancera tous les services d\u00e9finis dans le fichier <code>docker-compose.yml</code>. Vous pouvez v\u00e9rifier l'\u00e9tat des services avec la commande suivante :</p> <pre><code>docker-compose ps\n</code></pre> <p>Cette commande affiche l'\u00e9tat de tous les services d\u00e9finis dans le fichier <code>docker-compose.yml</code>. Si les services sont en cours d'ex\u00e9cution, vous devriez les voir r\u00e9pertori\u00e9s avec l'\u00e9tat \"Up\".</p> <p>Pour arr\u00eater les services et supprimer les conteneurs, vous pouvez utiliser la commande suivante :</p> <pre><code>docker-compose down\n</code></pre> <p>Si vous souhaitez voir les journaux des services en cours d'ex\u00e9cution, vous pouvez utiliser la commande <code>docker-compose logs</code>. Par exemple, pour afficher les journaux du service \"app\" :</p> <pre><code>docker-compose logs app\n</code></pre> <p>N'oubliez pas de remplacer \"app\" par le nom r\u00e9el de votre service.</p>"},{"location":"cours/05-docker/#deploiement-avec-docker-compose","title":"Deploiement avec Docker Compose","text":"<p>Cr\u00e9ez un fichier <code>docker-compose.yml</code> dans le m\u00eame r\u00e9pertoire avec le contenu suivant :</p> <pre><code>version: '3'\nservices:\n  app:\n    build:\n      context: .\n    ports:\n      - \"3000:3000\"\n</code></pre>"},{"location":"cours/05-docker/#mappage-de-port-entre-hote-et-container","title":"Mappage de Port entre Hote et container","text":"<p>Le mappage de port dans Docker Compose permet de lier les ports d'un conteneur \u00e0 des ports sp\u00e9cifiques de l'h\u00f4te, permettant ainsi aux services ex\u00e9cut\u00e9s dans les conteneurs d'\u00eatre accessibles depuis l'ext\u00e9rieur du conteneur.</p> <p>Dans le fichier <code>docker-compose.yml</code>, la section <code>ports</code> sous un service sp\u00e9cifie le mappage de port. Voici comment cela fonctionne :</p> <pre><code>version: '3'\nservices:\n  app:\n    image: my-node-app\n    ports:\n      - \"3000:3000\"\n</code></pre> <p>Dans cet exemple :</p> <ul> <li><code>\"3000:3000\"</code> indique le mappage du port. Le premier num\u00e9ro (3000 \u00e0 gauche du <code>:</code>) repr\u00e9sente le port sur l'h\u00f4te, tandis que le second num\u00e9ro (3000 \u00e0 droite du <code>:</code>) repr\u00e9sente le port dans le conteneur.</li> </ul> <p>Ainsi, avec cette configuration, le port 3000 du conteneur sera accessible \u00e0 partir du port 3000 de l'h\u00f4te. Si vous avez plusieurs services, chaque service peut avoir son propre mappage de port.</p> <p>Dans ce cas, Docker attribuera un port disponible sur l'h\u00f4te, et vous pouvez d\u00e9couvrir ce port avec la commande <code>docker-compose ps</code>.</p> <p>Le mappage de port est essentiel pour exposer les services d'un conteneur \u00e0 l'ext\u00e9rieur et permettre aux utilisateurs d'acc\u00e9der \u00e0 ces services depuis l'h\u00f4te ou d'autres machines dans le r\u00e9seau, selon la configuration du r\u00e9seau Docker.</p>"},{"location":"cours/05-docker/#mappage-des-volumes","title":"Mappage des volumes","text":"<p>Le mappage des volumes est une pratique essentielle dans Docker qui permet de persister les donn\u00e9es g\u00e9n\u00e9r\u00e9es par les conteneurs au-del\u00e0 de leur cycle de vie. Lorsque vous ex\u00e9cutez un conteneur, ses donn\u00e9es peuvent \u00eatre stock\u00e9es dans son syst\u00e8me de fichiers interne. Cependant, une fois le conteneur arr\u00eat\u00e9 ou supprim\u00e9, ces donn\u00e9es peuvent \u00eatre perdues. Le mappage de volumes r\u00e9sout ce probl\u00e8me en cr\u00e9ant un lien entre un dossier sur l'h\u00f4te et un dossier \u00e0 l'int\u00e9rieur du conteneur.</p> <p>Par exemple, pour cr\u00e9er un volume nomm\u00e9 \"mydata\" et le monter dans le r\u00e9pertoire \"/app\" d'un conteneur, vous pouvez utiliser l'option <code>-v</code> lors de la cr\u00e9ation du conteneur :</p> <pre><code>docker run -v mydata:/app my-image\n</code></pre> <p>Cela assure la persistance des donn\u00e9es du conteneur dans le volume \"mydata\" sur l'h\u00f4te, permettant ainsi de partager des donn\u00e9es entre plusieurs conteneurs ou de sauvegarder ces donn\u00e9es m\u00eame si le conteneur est supprim\u00e9.</p> <p>Le mappage des volumes est particuli\u00e8rement utile pour les applications n\u00e9cessitant le stockage de donn\u00e9es, comme les bases de donn\u00e9es, les serveurs de fichiers, et autres. Il offre une flexibilit\u00e9 et une gestion facile des donn\u00e9es dans le contexte des conteneurs Docker.</p> <p>Voici un exemple simple d'utilisation du mappage de volumes avec Docker Compose. Supposons que vous avez une application Node.js qui stocke des donn\u00e9es dans un dossier <code>/app/data</code> et que vous souhaitez persister ces donn\u00e9es en utilisant un volume.</p> <p>Cr\u00e9ez un fichier <code>docker-compose.yml</code> avec le contenu suivant :</p> <pre><code>version: '3'\nservices:\n  webapp:\n    image: my-node-app\n    ports:\n      - \"3000:3000\"\n    volumes:\n      - mydata:/app/data\n\nvolumes:\n  mydata:\n</code></pre> <p>Dans cet exemple :</p> <ul> <li>Le service <code>webapp</code> utilise l'image <code>my-node-app</code> (remplacez cela par l'image r\u00e9elle de votre application Node.js).</li> <li>Le mappage de port expose le port 3000 du conteneur vers le port 3000 de l'h\u00f4te.</li> <li>La section <code>volumes</code> cr\u00e9e un volume nomm\u00e9 \"mydata\" et le monte dans le r\u00e9pertoire <code>/app/data</code> du conteneur.</li> </ul> <p>Lorsque vous lancez votre application avec <code>docker-compose up -d</code>, le volume \"mydata\" est cr\u00e9\u00e9, et les donn\u00e9es g\u00e9n\u00e9r\u00e9es par l'application dans le dossier <code>/app/data</code> du conteneur sont persist\u00e9es sur l'h\u00f4te, dans le volume \"mydata\".</p> <p>Cette approche garantit que les donn\u00e9es de votre application restent disponibles m\u00eame si le conteneur est arr\u00eat\u00e9 ou supprim\u00e9. Vous pouvez \u00e9galement partager ce volume entre plusieurs services dans le m\u00eame <code>docker-compose.yml</code> ou m\u00eame entre plusieurs applications s'ex\u00e9cutant sur la m\u00eame machine.</p>"},{"location":"cours/05-docker/#lancement-des-containners","title":"Lancement des containners","text":"<p>Ouvrez un terminal dans le r\u00e9pertoire de votre application et ex\u00e9cutez la commande suivante pour construire et d\u00e9marrer votre conteneur :</p> <pre><code>docker-compose up\n</code></pre> <p>Votre application Node.js sera accessible \u00e0 l'adresse http://localhost:3000. Vous pouvez modifier le port dans le fichier <code>docker-compose.yml</code> si n\u00e9cessaire.</p> <p>N'oubliez pas d'arr\u00eater les conteneurs avec la commande suivante lorsque vous avez termin\u00e9 :</p> <pre><code>docker-compose down\n</code></pre> <p>Ceci est un exemple simple pour d\u00e9marrer. Vous pouvez \u00e9tendre et personnaliser votre Dockerfile en fonction des besoins de votre application.</p>"},{"location":"cours/05-docker/#commande-de-base-quand-on-travaille-avec-docker","title":"Commande de base quand on travaille avec docker","text":"<p>Voici quelques commandes de base indispensables \u00e0 conna\u00eetre pour travailler avec Docker :</p> <ol> <li> <p><code>docker --version</code> : Affiche la version de Docker install\u00e9e.</p> </li> <li> <p><code>docker pull &lt;image&gt;</code> : T\u00e9l\u00e9charge une image Docker depuis Docker Hub ou un autre registre. Par exemple, <code>docker pull nginx</code> t\u00e9l\u00e9charge l'image NGINX.</p> </li> <li> <p><code>docker images</code> : Affiche la liste des images Docker t\u00e9l\u00e9charg\u00e9es sur votre machine.</p> </li> <li> <p><code>docker ps</code> : Affiche la liste des conteneurs Docker en cours d'ex\u00e9cution.</p> </li> <li> <p><code>docker ps -a</code> : Affiche tous les conteneurs, qu'ils soient en cours d'ex\u00e9cution ou arr\u00eat\u00e9s.</p> </li> <li> <p><code>docker run &lt;options&gt; &lt;image&gt;</code> : Cr\u00e9e et d\u00e9marre un conteneur \u00e0 partir d'une image. Par exemple, <code>docker run -d -p 8080:80 nginx</code> d\u00e9marre un conteneur NGINX en arri\u00e8re-plan, exposant le port 8080 de l'h\u00f4te vers le port 80 du conteneur.</p> </li> <li> <p><code>docker exec -it &lt;container&gt; &lt;command&gt;</code> : Ex\u00e9cute une commande \u00e0 l'int\u00e9rieur d'un conteneur en cours d'ex\u00e9cution en mode interactif. Par exemple, <code>docker exec -it my-container /bin/bash</code> ouvre un shell Bash interactif \u00e0 l'int\u00e9rieur du conteneur.</p> </li> <li> <p><code>docker stop &lt;container&gt;</code> : Arr\u00eate un conteneur en cours d'ex\u00e9cution. Vous pouvez \u00e9galement utiliser <code>docker kill</code> pour arr\u00eater imm\u00e9diatement le conteneur.</p> </li> <li> <p><code>docker rm &lt;container&gt;</code> : Supprime un conteneur arr\u00eat\u00e9.</p> </li> <li> <p><code>docker rmi &lt;image&gt;</code> : Supprime une image Docker de votre syst\u00e8me.</p> </li> <li> <p><code>docker-compose up -d</code> : D\u00e9marre les services d\u00e9finis dans le fichier <code>docker-compose.yml</code> en mode d\u00e9tach\u00e9.</p> </li> <li> <p><code>docker-compose down</code> : Arr\u00eate les services d\u00e9finis dans le fichier <code>docker-compose.yml</code> et supprime les conteneurs associ\u00e9s.</p> </li> <li> <p><code>docker logs &lt;container&gt;</code> : Affiche les journaux d'un conteneur sp\u00e9cifique.</p> </li> <li> <p><code>docker network ls</code> : Affiche la liste des r\u00e9seaux Docker.</p> </li> <li> <p><code>docker volume ls</code> : Affiche la liste des volumes Docker.</p> </li> </ol> <p>Ces commandes constituent une base solide pour travailler avec Docker. N'oubliez pas de consulter la documentation officielle de Docker pour des informations plus d\u00e9taill\u00e9es sur chaque commande : Documentation Docker.</p> <p></p>"},{"location":"cours/05-docker/#outil-dadministration","title":"Outil d'administration","text":"<p>Portainer est une interface graphique open source pour la gestion des conteneurs Docker. Il fournit une interface utilisateur web intuitive pour visualiser, g\u00e9rer et d\u00e9ployer des applications dans des conteneurs Docker. Voici quelques caract\u00e9ristiques cl\u00e9s de Portainer :</p> <p>Pour utiliser Portainer, vous pouvez le d\u00e9ployer en tant que conteneur Docker unique \u00e0 l'aide de la commande suivante :</p> <pre><code>docker run -d -p 9000:9000 --name=portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock portainer/portainer-ce\n</code></pre> <p>Cela lancera Portainer en mode d\u00e9tach\u00e9 et le rendra accessible sur le port 9000 de votre machine. Vous pouvez ensuite acc\u00e9der \u00e0 l'interface web et commencer \u00e0 g\u00e9rer vos conteneurs.</p> <p>En ce qui concerne d'autres outils similaires, voici quelques alternatives \u00e0 Portainer :</p> <ol> <li> <p>Kitematic : Une interface graphique pour Docker compatible avec Windows, macOS et Linux.</p> </li> <li> <p>Rancher : Une plateforme de gestion de conteneurs open source qui prend en charge Kubernetes et Docker.</p> </li> <li> <p>Swarm UI : Une interface web native pour la gestion des clusters Docker Swarm.</p> </li> <li> <p>Cockpit : Une interface web pour la gestion des serveurs Linux qui prend en charge Docker.</p> </li> <li> <p>Shipyard : Une interface web open source pour la gestion de Docker.</p> </li> </ol> <p>Ces outils offrent des fonctionnalit\u00e9s similaires, mais la meilleure option d\u00e9pend souvent des besoins sp\u00e9cifiques de votre environnement et de votre pr\u00e9f\u00e9rence en mati\u00e8re d'interface utilisateur.</p>"},{"location":"cours/05-docker/#clusterisation-des-noeuds-docker","title":"Clusterisation des noeuds Docker","text":"<p>Docker Swarm est un outil de gestion de cluster Docker int\u00e9gr\u00e9 qui permet de cr\u00e9er et de g\u00e9rer un ensemble de n\u0153uds Docker, transformant ainsi plusieurs machines en un seul pool de ressources. Outre Docker Swarm, d'autres solutions de gestion de clusters Docker incluent Kubernetes, Apache Mesos, et Amazon ECS. Chacune de ces solutions a ses propres caract\u00e9ristiques et avantages, et le choix d\u00e9pend souvent des besoins sp\u00e9cifiques de votre environnement. Par exemple, Kubernetes est largement utilis\u00e9 pour les d\u00e9ploiements \u00e0 grande \u00e9chelle, tandis que Docker Swarm offre une configuration plus simple pour les cas d'utilisation plus modestes.</p>"},{"location":"cours/05-docker/#securite-des-conteneurs-docker","title":"S\u00e9curit\u00e9 des Conteneurs Docker","text":"<p>La s\u00e9curit\u00e9 des conteneurs Docker est une pr\u00e9occupation essentielle pour garantir la protection des applications et des donn\u00e9es qu'ils contiennent. Voici un aper\u00e7u des bonnes pratiques de s\u00e9curit\u00e9 associ\u00e9es aux conteneurs Docker :</p>"},{"location":"cours/05-docker/#1-utiliser-des-images-officielles-et-verifiees","title":"1. Utiliser des Images Officielles et V\u00e9rifi\u00e9es","text":"<p>Privil\u00e9giez l'utilisation d'images officielles provenant de d\u00e9p\u00f4ts de confiance tels que Docker Hub. Assurez-vous que les images utilis\u00e9es sont r\u00e9guli\u00e8rement mises \u00e0 jour et b\u00e9n\u00e9ficient du support de la communaut\u00e9.</p>"},{"location":"cours/05-docker/#2-mise-a-jour-reguliere-des-images-et-des-conteneurs","title":"2. Mise \u00e0 Jour R\u00e9guli\u00e8re des Images et des Conteneurs","text":"<p>Les mises \u00e0 jour fr\u00e9quentes des images et des conteneurs sont cruciales pour corriger les vuln\u00e9rabilit\u00e9s de s\u00e9curit\u00e9. Automatisez ce processus autant que possible pour maintenir votre environnement \u00e0 jour.</p> <pre><code>docker pull &lt;image&gt;:&lt;tag&gt;\ndocker-compose pull\n</code></pre>"},{"location":"cours/05-docker/#3-utilisation-de-non-root-users","title":"3. Utilisation de Non-root Users","text":"<p>\u00c9vitez d'utiliser l'utilisateur root dans les conteneurs. D\u00e9finissez un utilisateur non-root pour minimiser les risques potentiels.</p> <pre><code>FROM base-image\nUSER nonrootuser\n</code></pre>"},{"location":"cours/05-docker/#4-configuration-fine-des-ressources","title":"4. Configuration Fine des Ressources","text":"<p>Limitez les ressources disponibles aux conteneurs avec <code>--memory</code>, <code>--cpu</code>, et d'autres options pour pr\u00e9venir les attaques par d\u00e9ni de service.</p> <pre><code>docker run --memory=512m --cpu=0.5 my-image\n</code></pre>"},{"location":"cours/05-docker/#5-isolation-des-reseaux","title":"5. Isolation des R\u00e9seaux","text":"<p>Utilisez des r\u00e9seaux Docker isol\u00e9s pour emp\u00eacher les communications non autoris\u00e9es entre conteneurs.</p> <pre><code>docker network create --driver bridge my-network\ndocker run --network=my-network my-container\n</code></pre> <p>En suivant ces meilleures pratiques de s\u00e9curit\u00e9, vous pouvez renforcer la r\u00e9silience de vos conteneurs Docker et att\u00e9nuer les risques potentiels. Il est important de rester inform\u00e9 sur les mises \u00e0 jour de s\u00e9curit\u00e9 et d'appliquer r\u00e9guli\u00e8rement les correctifs n\u00e9cessaires pour garantir un environnement Docker s\u00fbr et fiable.</p>"},{"location":"cours/05-docker/#exemple-de-stack-lamp-avec-plusieurs-containers-un-peu-obsolete-aujourdhui-car-repose-sur-une-debian-8","title":"Exemple de stack LAMP avec plusieurs containers (un peu obsolete aujourd'hui car repose sur une Debian 8)","text":"<pre><code>version: '3'\nservices:\n    m_apache:\n        build: docker/apache\n        container_name: m_apache\n        ports:\n          - 80:80\n        volumes:\n          - ./docker/config/vhosts:/etc/apache2/sites-enabled\n          - ./www:/var/www/html\n        depends_on:\n          - m_php\n\n    m_mysql:\n        image: mysql\n        command: \"--default-authentication-plugin=mysql_native_password\"\n        container_name: m_mysql\n        volumes:\n            - ./db:/var/lib/mysql\n        environment:\n            MYSQL_ROOT_PASSWORD: root\n            MYSQL_DATABASE: mery\n            MYSQL_USER: mery\n            MYSQL_PASSWORD: mery\n\n    m_php:\n        build: docker/php\n        container_name: m_php\n        volumes:\n          - ./www:/var/www/html\n        depends_on:\n          - m_mysql\n\n    m_phpmyadmin:\n        image: phpmyadmin/phpmyadmin\n        container_name: m_phpmyadmin\n        environment:\n          PMA_HOST: m_mysql\n          PMA_PORT: 3306\n        ports:\n            - 8080:80\n        links:\n            - m_mysql\n</code></pre>"},{"location":"cours/05-docker/#fichier-dockerphpdockerfile","title":"fichier docker/php/Dockerfile","text":"<pre><code>FROM php:7.2.10-fpm\n\nRUN apt-get update \\\n    &amp;&amp; apt-get install -y --no-install-recommends vim curl debconf subversion git apt-transport-https apt-utils \\\n    build-essential locales acl mailutils wget nodejs zip unzip \\\n    gnupg gnupg1 gnupg2 \\\n    zlib1g-dev \\\n    sudo\n\nRUN docker-php-ext-install pdo pdo_mysql zip\n\nCOPY php.ini /usr/local/etc/php/php.ini\nCOPY php-fpm-pool.conf  /usr/local/etc/php/pool.d/www.conf\n\nRUN curl -sSk https://getcomposer.org/installer | php -- --disable-tls &amp;&amp; \\\n    mv composer.phar /usr/local/bin/composer\n\nRUN wget --no-check-certificate https://phar.phpunit.de/phpunit-6.5.3.phar &amp;&amp; \\\n    mv phpunit*.phar phpunit.phar &amp;&amp; \\\n    chmod +x phpunit.phar &amp;&amp; \\\n    mv phpunit.phar /usr/local/bin/phpunit\n\nRUN echo \"deb https://deb.nodesource.com/node_6.x jessie main\" &gt;&gt; /etc/apt/sources.list.d/nodejs.list &amp;&amp; \\\n    wget -nv -O -  https://deb.nodesource.com/gpgkey/nodesource.gpg.key | apt-key add - &amp;&amp; \\\n    echo \"deb-src https://deb.nodesource.com/node_6.x jessie main\" &gt;&gt; /etc/apt/sources.list.d/nodejs.list &amp;&amp; \\\n    apt-get update &amp;&amp; \\\n    apt-get install -y --force-yes nodejs &amp;&amp; \\\n    rm -f /etc/apt/sources.list.d/nodejs.list\n\nRUN groupadd dev -g 999\nRUN useradd dev -g dev -d /home/dev -m\nRUN passwd -d dev\n\nRUN rm -rf /var/lib/apt/lists/*\nRUN echo \"en_US.UTF-8 UTF-8\" &gt; /etc/locale.gen &amp;&amp; \\\n    echo \"fr_FR.UTF-8 UTF-8\" &gt;&gt; /etc/locale.gen &amp;&amp; \\\n    locale-gen\n\nRUN echo \"dev ALL=(ALL) ALL\" &gt; /etc/sudoers\n\nWORKDIR /var/www/\n##&lt;/romaricp&gt;##\n\nEXPOSE 9000\nCMD [\"php-fpm\"]\n</code></pre>"},{"location":"cours/06-reverse-proxy/","title":"06 - Reverse Proxy","text":"<p>Un reverse proxy est un serveur qui agit en tant qu'interm\u00e9diaire entre les clients et les serveurs. Son r\u00f4le principal est de recevoir les requ\u00eates des clients et de les rediriger vers les serveurs appropri\u00e9s, puis de renvoyer les r\u00e9ponses des serveurs aux clients.</p> <p>Dans le contexte de votre infrastructure, vous avez un serveurs web (Apache) avec des sites diff\u00e9rents (vhosts) et une application Docker sur une VM. Vous souhaitez utiliser Nginx comme reverse proxy sur le serveur avec l'IP 192.168.1.10 pour g\u00e9rer les requ\u00eates vers les diff\u00e9rents serveurs en fonction des noms de domaine.</p> <p>Voici un exemple de configuration Nginx pour cela :</p>"},{"location":"cours/06-reverse-proxy/#installation-de-nginx-si-ce-nest-pas-deja-fait","title":"Installation de Nginx (si ce n'est pas d\u00e9j\u00e0 fait) :","text":"<pre><code>sudo apt-get update\nsudo apt-get install nginx\n</code></pre>"},{"location":"cours/06-reverse-proxy/#configuration-de-nginx","title":"Configuration de Nginx :","text":"<ol> <li>Cr\u00e9er un fichier pour chaque site dans /etc/nginx/sites-available :</li> </ol> <pre><code>sudo nano /etc/nginx/sites-available/site1\n</code></pre> <ol> <li>Ajoutez une section pour chaque site, en rempla\u00e7ant les valeurs par les v\u00f4tres :</li> </ol> <p><pre><code>    server {\n        listen 80;\n        server_name site1.domaine.org;\n\n        location / {\n            proxy_pass http://site1.domaine.org;   //avec une resolution donnant l'IP interne par le resolver\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n    }\n</code></pre> <pre><code>sudo nano /etc/nginx/sites-available/site2\n</code></pre> <pre><code>    server {\n        listen 80;\n        server_name site2.domaine.org;\n\n        location / {\n            proxy_pass http://192.168.1.20:88; // avec un port d'\u00e9coute sp\u00e9cifique \u00e0 un vhost\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n    }\n</code></pre> etc... <pre><code>    server {\n        listen 80;\n        server_name site3.domaine.org;\n\n        location / {\n            proxy_pass http://192.168.1.30:unport;  #\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n    }\n</code></pre></p> <p>Cr\u00e9er un lien symbolique pour chaque site r\u00e9f\u00e9renc\u00e9 dans sites-available pour les activer dans sites-enabled </p> <pre><code># Create symbolic links for all sites in sites-available\nsudo ln -s /etc/nginx/sites-available/site1 /etc/nginx/sites-enabled/\nsudo ln -s /etc/nginx/sites-available/site2 /etc/nginx/sites-enabled/\n# Repeat the above command for each site configuration file\n\n# Test Nginx configuration\nsudo nginx -t\n\n# If the configuration test is successful, reload Nginx\nsudo systemctl reload nginx\n</code></pre> <p>Les directives <code>proxy_set_header</code> dans la configuration Nginx sont utilis\u00e9es pour d\u00e9finir les en-t\u00eates HTTP qui seront envoy\u00e9s au serveur backend lorsqu'une requ\u00eate est transmise par le reverse proxy. Ces en-t\u00eates sont g\u00e9n\u00e9ralement utilis\u00e9s pour transf\u00e9rer des informations sur la requ\u00eate ou le client d'origine au serveur backend. Voici une explication des directives que vous trouverez dans l'exemple fourni :</p> <ol> <li><code>proxy_set_header Host $host;</code>:</li> <li> <p>Cette directive d\u00e9finit l'en-t\u00eate <code>Host</code> qui est envoy\u00e9 au serveur backend. Elle prend la valeur de <code>$host</code>, qui est la valeur de l'en-t\u00eate <code>Host</code> de la requ\u00eate initiale du client. Cela est important pour que le serveur backend puisse distinguer entre diff\u00e9rents domaines virtuels (vhosts) s'il en g\u00e8re plusieurs.</p> </li> <li> <p><code>proxy_set_header X-Real-IP $remote_addr;</code>:</p> </li> <li> <p>Cette directive d\u00e9finit l'en-t\u00eate <code>X-Real-IP</code>, qui est souvent utilis\u00e9 pour transmettre l'adresse IP r\u00e9elle du client au serveur backend. Cela peut \u00eatre utile lorsque Nginx est plac\u00e9 derri\u00e8re un autre proxy.</p> </li> <li> <p><code>proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</code>:</p> </li> <li> <p>Cette directive d\u00e9finit l'en-t\u00eate <code>X-Forwarded-For</code>. Il s'agit d'un en-t\u00eate standard utilis\u00e9 pour transmettre l'adresse IP du client d'origine au serveur backend. La valeur <code>$proxy_add_x_forwarded_for</code> ajoute l'adresse IP du client \u00e0 la liste existante de adresses IP d\u00e9j\u00e0 pr\u00e9sentes dans l'en-t\u00eate.</p> </li> <li> <p><code>proxy_set_header X-Forwarded-Proto $scheme;</code>:</p> </li> <li>Cette directive d\u00e9finit l'en-t\u00eate <code>X-Forwarded-Proto</code>. Cet en-t\u00eate indique au serveur backend le protocole utilis\u00e9 par le client pour acc\u00e9der \u00e0 Nginx (HTTP ou HTTPS). La valeur <code>$scheme</code> prend la valeur du sch\u00e9ma de la requ\u00eate (http ou https).</li> </ol> <p>L'utilisation de ces en-t\u00eates est importante lorsqu'un reverse proxy est utilis\u00e9, car elle permet de fournir au serveur backend des informations cruciales sur la requ\u00eate initiale du client. Cela est particuli\u00e8rement important dans les architectures o\u00f9 plusieurs serveurs interagissent les uns avec les autres, et o\u00f9 certaines informations de la requ\u00eate d'origine peuvent \u00eatre perdues lors du passage par le proxy.</p> <ol> <li> <p>Sauvegardez et fermez le fichier.</p> </li> <li> <p>Testez la configuration Nginx :</p> </li> </ol> <pre><code>sudo nginx -t\n</code></pre> <ol> <li>Red\u00e9marrez Nginx pour appliquer les modifications :</li> </ol> <pre><code>sudo systemctl restart nginx\n</code></pre> <p>Maintenant, Nginx agira en tant que reverse proxy et dirigera les requ\u00eates en fonction des noms de domaine vers les serveurs appropri\u00e9s.</p> <p>Assurez-vous de remplacer les valeurs comme <code>192.168.1.20</code>, <code>192.168.1.30</code>, <code>unport</code> par les valeurs sp\u00e9cifiques \u00e0 votre configuration. Vous pouvez \u00e9galement personnaliser les options de proxy en fonction de vos besoins.</p>"},{"location":"cours/06-reverse-proxy/#gestion-de-tls","title":"Gestion de TLS","text":"<p>La gestion du HTTPS avec Nginx implique la configuration d'un certificat SSL/TLS pour s\u00e9curiser les connexions entre les clients et le serveur Nginx. Voici comment vous pouvez ajouter la prise en charge du HTTPS \u00e0 votre configuration existante :</p> <ol> <li>Modifiez la configuration Nginx :</li> <li> <p>Ajoutez les directives SSL dans chaque bloc <code>server</code> pour activer le support HTTPS.</p> <pre><code>server {\n    listen 80;\n    server_name site1.domaine.org;\n    return 301 https://$host$request_uri; // forcer la redirection en https\n}\n\nserver {\n    listen 443 ssl;\n    server_name site1.domaine.org;\n\n    ssl_certificate /etc/ssl/certificat.pem;\n    ssl_certificate_key /etc/ssl/privkey.pem;\n\n    # ... autres directives SSL (comme ssl_protocols, ssl_ciphers, etc.)\n\n    location / {\n        proxy_pass http://192.168.1.20;\n        include /etc/nginx/proxy_params;\n    }\n}\n</code></pre> <ul> <li>R\u00e9p\u00e9tez le m\u00eame processus pour les autres serveurs virtuels (<code>site2.domaine.org</code> et <code>site3.domaine.org</code>).</li> </ul> </li> <li> <p>Red\u00e9marrez Nginx :</p> </li> <li> <p>Une fois que vous avez configur\u00e9 les certificats et ajust\u00e9 la configuration Nginx, red\u00e9marrez Nginx pour appliquer les changements.</p> <pre><code>sudo systemctl restart nginx\n</code></pre> </li> </ol> <p>Maintenant, votre serveur Nginx devrait \u00eatre configur\u00e9 pour g\u00e9rer les connexions HTTPS. Assurez-vous de remplacer les chemins des certificats (<code>ssl_certificate</code> et <code>ssl_certificate_key</code>) avec les chemins r\u00e9els de vos certificats.</p> <p>N'oubliez pas de maintenir vos certificats SSL \u00e0 jour. Vous pouvez configurer un renouvellement automatique avec Certbot en ajoutant une t\u00e2che planifi\u00e9e (cron job).</p> <p>Dans le sc\u00e9nario de configuration qci dessus, les certificats SSL/TLS sont g\u00e9n\u00e9ralement n\u00e9cessaires uniquement sur le serveur Nginx, qui agit en tant que reverse proxy. Les serveurs d'origine (Apache, serveurs Docker, etc.) ne n\u00e9cessitent pas de certificats SSL/TLS propres, car la communication entre le serveur Nginx et les serveurs d'origine peut souvent se faire en interne via des connexions non chiffr\u00e9es.</p> <p>Le trafic chiffr\u00e9 SSL/TLS entre les clients et Nginx s'arr\u00eate au niveau du serveur Nginx, et la communication entre Nginx et les serveurs d'origine peut \u00eatre non chiffr\u00e9e (HTTP) ou chiffr\u00e9e s\u00e9par\u00e9ment (par exemple, si les serveurs d'origine prennent en charge HTTPS et ont leurs propres certificats).</p> <p>Assurez-vous que le trafic entre Nginx et les serveurs d'origine est s\u00e9curis\u00e9 en fonction de vos exigences de s\u00e9curit\u00e9. Si n\u00e9cessaire, vous pouvez activer HTTPS entre Nginx et les serveurs d'origine, mais cela impliquera la configuration de certificats sur ces serveurs d'origine \u00e9galement. Dans de nombreux cas, cette couche de chiffrement suppl\u00e9mentaire n'est pas n\u00e9cessaire si le r\u00e9seau interne est consid\u00e9r\u00e9 comme s\u00e9curis\u00e9.</p>"},{"location":"cours/07-openvpn/","title":"07 - OpenVPN","text":""},{"location":"cours/07-openvpn/#mettre-en-place-une-solution-dacces-securisee-au-reseau-distant","title":"Mettre en place une solution d\u2019acc\u00e8s s\u00e9curis\u00e9e au r\u00e9seau distant","text":""},{"location":"cours/07-openvpn/#objectifs","title":"Objectifs","text":"<p>L\u2019objectif est de permettre un acc\u00e8s aux \u00e9tudiants de leur domicile \u00e0 l\u2019infrastructure qu\u2019ils g\u00e8rent au lyc\u00e9e dans le contexte de leur PPE.</p> <p>Cet acc\u00e8s VPN utilisera une authentification des clients en se basant sur l\u2019annuaire LDAP du domaine lan.sio.lyceefulbert.fr g\u00e9r\u00e9 via notre contr\u00f4leur de domaine avec l\u2019Active Directory pr\u00e9sent dans notre LAN.</p> <p>Cela permet d\u2019\u00e9viter la g\u00e9n\u00e9ration d\u2019autant de certificats qu\u2019il y a d\u2019utilisateurs potentiels du service. La solution de l\u2019authentification bas\u00e9 sur le contr\u00f4leur de domaine permet d\u2019utiliser le couple login/password habituellement utilis\u00e9 pour ouvrir une session sur un poste de travail.</p> <p>L\u2019outil utilis\u00e9 est OpenVPN install\u00e9 sur le routeur de jonction entre le faux internet utilis\u00e9 dans le laboratoire par les \u00e9tudiants et le LAN du BTS SIO.</p> <p>Bien entendu le routeur fourni par notre op\u00e9rateur est configur\u00e9 pour rediriger les flux vers le serveur VPN correspondant via une r\u00e8gle de PAT.</p> <p>Voici un sch\u00e9ma r\u00e9capitulatif:</p> <p></p>"},{"location":"cours/07-openvpn/#configuration","title":"Configuration","text":"<p>Configuration du serveur VPN pour la communication du domicile jusqu\u2019au faux internet utilis\u00e9 par le contexte sportludique.fr</p> <p>De nombreux tutoriel d\u00e9taill\u00e9s pas \u00e0 pas expliquent l'installation du serveur : exemple</p> <p>Et voici les fichiers de configurations adapt\u00e9s:</p> <pre><code>#################################################\n# Config Server OpenVPN 2.0                     #\n#################################################\n\n# Interface d'\u00e9coute\nlocal 172.16.200.1\n\n# Port d'\u00e9coute\nport 1194\n\n# TCP or UDP server?\nproto udp\n\n# \"dev tun\" will create a routed IP tunnel,\ndev tun\n\n\n# SSL/TLS root certificate (ca), certificate\n# Certificat de l'autorit\u00e9 de certification\nca /etc/openvpn/easy-rsa/keys/ca.crt\n# Certificat du serveur (c\u00e9rtifi\u00e9 par l'autorit\u00e9)\ncert /etc/openvpn/easy-rsa/keys/srvcert.crt\n# Couple de cl\u00e9 priv\u00e9, cl\u00e9 publique (ne doit pas \u00eatre diffus\u00e9)\nkey /etc/openvpn/easy-rsa/keys/srvcert.key  # This file should be kept secret\n\n# Diffie hellman parameters.\n# Configuration de la cl\u00e9 de session sur 2048 bits\n# 2048 bit keys. \ndh /etc/openvpn/easy-rsa/keys/dh2048.pem\n\n# Configure server mode and supply a VPN subnet\n# D\u00e9finition de l'adresse de r\u00e9seau virtuelle (du tunnel)\nserver 172.31.200.0 255.255.255.0\n\n# Maintain a record of client &lt;-&gt; virtual IP address\n# associations in this file.  If OpenVPN goes down or\n# is restarted, reconnecting clients can be assigned\n# the same virtual IP address from the pool that was\n# previously assigned.\nifconfig-pool-persist ipp.txt\n\n\n\n# Push routes to the client to allow it\n# Routes a pousser sur le client passant par le tunnel VPN\npush \"route 121.183.90.200 255.255.255.248\"\npush \"route 183.44.0.0 255.255.0.0\"\npush \"route 221.87.0.0 255.255.0.0\"\n\n# DNS servers\npush \"dhcp-option DNS 121.183.90.205\"\n\n# Ping every 10 seconds, assume that remote\n# peer is down if no ping received during\n# a 120 second time period.\nkeepalive 10 120\n\n\n# Enable compression on the VPN link.\n# If you enable it here, you must also\n# enable it in the client config file.\ncomp-lzo\n\n# You can uncomment this out on\n# non-Windows systems.\nuser nobody\ngroup nogroup\n\n# The persist options will try to avoid\n# accessing certain resources on restart\n# that may no longer be accessible because\n# of the privilege downgrade.\npersist-key\npersist-tun\n\n# Logs du d\u00e9marrage duservice\nstatus openvpn-status.log\n\n# By default, log messages will go to the syslog (or\n# on Windows, if running as a service, they will go to\n# the \"\\Program Files\\OpenVPN\\log\" directory).\n# Use log or log-append to override this default.\n# \"log\" will truncate the log file on OpenVPN startup,\n# while \"log-append\" will append to it.  Use one\n# or the other (but not both).\nlog         /var/log/openvpn.log\nlog-append  /var/log/openvpn-append.log\n\n# Set the appropriate level of log\n# file verbosity.\n#\n# 0 is silent, except for fatal errors\n# 4 is reasonable for general usage\n# 5 and 6 can help to debug connection problems\n# 9 is extremely verbose\nverb 3\n\n# Silence repeating messages.  At most 20\n# sequential messages of the same message\n# category will be output to the log.\n;mute 20\n\n#DISABLE CERT AUTHENTICATION\nclient-cert-not-required\nduplicate-cn\n\n#Authentification avec l'active Directory\n#PLUGIN SECTION\n#LDAP (Active Directory Authentication) PLUGIN\nplugin /usr/lib/openvpn/openvpn-auth-ldap.so /etc/openvpn/auth/auth-ldap.conf\n</code></pre>"},{"location":"cours/07-openvpn/#configuration-du-plugin-auth-ldapconf","title":"Configuration du plugin auth-ldap.conf  :","text":"<pre><code>&lt;LDAP&gt;\n        # LDAP server URL\n        URL             ldap://ipserveractivedirectory:389    # modify this lin! Replace X's with your Domain Controller's local IP address\n\n        BindDN          \"CN=****uservpn*****,OU=profs,DC=lan,DC=sio,DC=lyceefulbert,DC=fr\"    #modify this line to!\n\n        Password        \"********************************\"     # Enter the password of the user account that OpenVPN will use to talk to your domain controller\n\n        Timeout         15\n        TLSEnable       no\n        FollowReferrals no\n&lt;/LDAP&gt;\n\n&lt;Authorization&gt;\n    BaseDN          \"OU=Eleves,DC=lan,DC=sio,DC=lyceefulbert,DC=fr\"   # MODIFY THIS LINE!\n    SearchFilter    \"(sAMAccountName=%u)\"\n    RequireGroup    false\n\n    &lt;Group&gt;\n        BaseDN      \"CN=Users,DC=lan,DC=sio,DC=lyceefulbert,DC=fr\"\n        SearchFilter    \"(CN=901_SISR)\"     ##acces autoris\u00e9s au seuls membre de ce groupe deuxieme ann\u00e9e SISR)\n        MemberAttribute \"member\"\n    &lt;/Group&gt;\n\n&lt;/Authorization&gt;\n</code></pre>"},{"location":"cours/08-messagerie/","title":"08 - Messagerie","text":""},{"location":"cours/08-messagerie/#enregistrement-mx-et-serveurs-dns","title":"Enregistrement MX et Serveurs DNS","text":"<p>L'enregistrement MX (Mail Exchange) dans le syst\u00e8me de noms de domaine (DNS) est essentiel pour diriger le courrier \u00e9lectronique vers le serveur de messagerie appropri\u00e9. Cela s'effectue en sp\u00e9cifiant une priorit\u00e9 (le chiffre avant le nom du serveur MX) et le nom du serveur de messagerie. Voici un exemple plus d\u00e9taill\u00e9 :</p> <p><pre><code>MX 10 mail.example.com\nmail.example.com   IN   A   203.0.113.1\n</code></pre> Cet enregistrement indique que le serveur de messagerie pour le domaine example.com est mail.example.com avec une priorit\u00e9 de 10. La priorit\u00e9 est utilis\u00e9e pour d\u00e9terminer l'ordre de pr\u00e9f\u00e9rence des serveurs MX lorsque plusieurs sont disponibles.</p> <p>Cet enregistrement associe l'adresse IP 203.0.113.1 au nom de domaine mail.example.com. Ainsi, lorsque quelqu'un envoie un courrier \u00e0 user@example.com, le syst\u00e8me de messagerie consulte l'enregistrement MX pour d\u00e9terminer le serveur de messagerie de destination (mail.example.com), puis utilise l'enregistrement A pour obtenir son adresse IP (203.0.113.1).</p> <p>Ces enregistrements, pr\u00e9sents dans la zone DNS du domaine, permettent au courrier \u00e9lectronique d'\u00eatre correctement dirig\u00e9 vers le serveur de messagerie associ\u00e9 au domaine cible.</p>"},{"location":"cours/08-messagerie/#protocoles-de-messagerie","title":"Protocoles de Messagerie","text":""},{"location":"cours/08-messagerie/#smtp-simple-mail-transfer-protocol","title":"SMTP (Simple Mail Transfer Protocol)","text":"<p>Le protocole SMTP (Simple Mail Transfer Protocol) est utilis\u00e9 pour l'envoi de courriers \u00e9lectroniques. Il op\u00e8re sur le port TCP 25 par d\u00e9faut. Cependant, il est important de noter que le port 25 n'est pas s\u00e9curis\u00e9.</p>"},{"location":"cours/08-messagerie/#port-tcp-25-non-securise","title":"Port TCP 25 (Non s\u00e9curis\u00e9) :","text":"<p>Le port 25 est traditionnellement utilis\u00e9 pour la transmission non s\u00e9curis\u00e9e des courriers \u00e9lectroniques. Cependant, en raison de probl\u00e8mes de s\u00e9curit\u00e9 potentiels, de nombreux fournisseurs de services de messagerie et ISP (Fournisseurs d'Acc\u00e8s Internet) bloquent parfois le trafic sortant sur ce port pour pr\u00e9venir le spam.</p>"},{"location":"cours/08-messagerie/#port-tcp-587-starttls","title":"Port TCP 587 (STARTTLS) :","text":"<p>Pour surmonter les limitations de s\u00e9curit\u00e9 li\u00e9es au port 25, le port 587 est souvent utilis\u00e9 comme alternative. Ce port est d\u00e9di\u00e9 \u00e0 la transmission s\u00e9curis\u00e9e des courriers \u00e9lectroniques en utilisant le m\u00e9canisme STARTTLS. Lorsqu'un client se connecte au serveur SMTP sur le port 587 et indique qu'il souhaite utiliser STARTTLS, une connexion s\u00e9curis\u00e9e est \u00e9tablie avant le transfert du courrier \u00e9lectronique.</p> <p>Le m\u00e9canisme STARTTLS permet d'ajouter une couche de s\u00e9curit\u00e9 (chiffrement) \u00e0 la communication SMTP, rendant difficile l'interception des informations sensibles, telles que le contenu du courrier \u00e9lectronique et les informations d'identification.</p>"},{"location":"cours/08-messagerie/#pop-post-office-protocol","title":"POP (Post Office Protocol)","text":"<p>Le protocole POP (Post Office Protocol) est utilis\u00e9 pour r\u00e9cup\u00e9rer les courriers \u00e9lectroniques d'un serveur et les t\u00e9l\u00e9charger sur l'appareil local de l'utilisateur. Deux versions couramment utilis\u00e9es sont POP3 (non s\u00e9curis\u00e9) et POP3S (s\u00e9curis\u00e9).</p>"},{"location":"cours/08-messagerie/#port-tcp-110-non-securise-pop3","title":"Port TCP 110 (Non s\u00e9curis\u00e9 - POP3) :","text":"<p>Le port 110 est traditionnellement associ\u00e9 \u00e0 la communication POP3 non s\u00e9curis\u00e9e. Lorsqu'un client de messagerie se connecte au serveur POP3 sur ce port, les courriers \u00e9lectroniques sont t\u00e9l\u00e9charg\u00e9s du serveur vers l'appareil local. Cependant, le transfert d'informations sur le port 110 est effectu\u00e9 en texte brut, sans chiffrement, ce qui expose les donn\u00e9es \u00e0 des risques potentiels d'interception.</p>"},{"location":"cours/08-messagerie/#port-tcp-995-securise-pop3s","title":"Port TCP 995 (S\u00e9curis\u00e9 - POP3S) :","text":"<p>Pour rem\u00e9dier aux vuln\u00e9rabilit\u00e9s de s\u00e9curit\u00e9 li\u00e9es \u00e0 la transmission non s\u00e9curis\u00e9e sur le port 110, le port 995 est r\u00e9serv\u00e9 au protocole POP3 avec une couche de s\u00e9curit\u00e9 (SSL/TLS) ajout\u00e9e. Cette version s\u00e9curis\u00e9e est appel\u00e9e POP3S. Lorsqu'un client se connecte au serveur POP3 sur le port 995, la communication est chiffr\u00e9e, garantissant une transmission s\u00e9curis\u00e9e des courriers \u00e9lectroniques entre le serveur et l'appareil local.</p>"},{"location":"cours/08-messagerie/#imap-internet-message-access-protocol","title":"IMAP (Internet Message Access Protocol)","text":"<p>Le protocole IMAP (Internet Message Access Protocol) est con\u00e7u pour permettre une gestion plus avanc\u00e9e des courriers \u00e9lectroniques en synchronisant les messages entre le client de messagerie et le serveur. Deux versions couramment utilis\u00e9es sont IMAP (non s\u00e9curis\u00e9) et IMAPS (s\u00e9curis\u00e9).</p>"},{"location":"cours/08-messagerie/#port-tcp-143-non-securise-imap","title":"Port TCP 143 (Non s\u00e9curis\u00e9 - IMAP) :","text":"<p>Le port 143 est associ\u00e9 \u00e0 la communication IMAP non s\u00e9curis\u00e9e. Lorsqu'un client de messagerie se connecte au serveur IMAP sur ce port, il peut afficher les en-t\u00eates des courriers \u00e9lectroniques et choisir les messages \u00e0 t\u00e9l\u00e9charger. Cependant, le transfert d'informations sur le port 143 est effectu\u00e9 en texte brut, sans chiffrement, exposant potentiellement les donn\u00e9es \u00e0 des risques d'interception.</p>"},{"location":"cours/08-messagerie/#port-tcp-993-securise-imaps","title":"Port TCP 993 (S\u00e9curis\u00e9 - IMAPS) :","text":"<p>Pour renforcer la s\u00e9curit\u00e9 des communications IMAP, le port 993 est r\u00e9serv\u00e9 au protocole IMAP avec une couche de s\u00e9curit\u00e9 (SSL/TLS) ajout\u00e9e. L'utilisation de ce port s\u00e9curis\u00e9, appel\u00e9 IMAPS, garantit que la transmission des donn\u00e9es entre le client et le serveur est chiffr\u00e9e, pr\u00e9servant ainsi la confidentialit\u00e9 des informations.</p> <p>La caract\u00e9ristique principale d'IMAP par rapport \u00e0 POP est la conservation des messages sur le serveur. Les actions effectu\u00e9es sur le client (marquer comme lu/non lu, d\u00e9placer vers un dossier, etc.) sont refl\u00e9t\u00e9es sur le serveur, assurant une synchronisation entre les diff\u00e9rents appareils connect\u00e9s au m\u00eame compte de messagerie. IMAP permet de g\u00e9rer les courriels sur plusieurs appareils. POP t\u00e9l\u00e9charge les courriels, les retirant du serveur, ce qui est moins pratique dans un monde multi-appareils.</p>"},{"location":"cours/08-messagerie/#positionnement-du-serveur-de-messagerie","title":"Positionnement du Serveur de Messagerie","text":""},{"location":"cours/08-messagerie/#zone-reseau-protegee","title":"Zone R\u00e9seau Prot\u00e9g\u00e9e :","text":"<p>Le positionnement du serveur de messagerie au sein d'une zone r\u00e9seau prot\u00e9g\u00e9e est crucial pour garantir la s\u00e9curit\u00e9 des donn\u00e9es et la disponibilit\u00e9 des services. Cette zone, souvent appel\u00e9e le \"r\u00e9seau de p\u00e9rim\u00e8tre\", est configur\u00e9e avec des pare-feu, des syst\u00e8mes de d\u00e9tection d'intrusion et d'autres m\u00e9canismes de s\u00e9curit\u00e9 pour contr\u00f4ler et filtrer le trafic r\u00e9seau.</p>"},{"location":"cours/08-messagerie/#pare-feu","title":"Pare-feu :","text":"<p>Un pare-feu est d\u00e9ploy\u00e9 pour surveiller et filtrer le trafic entrant et sortant du serveur de messagerie. Cela aide \u00e0 pr\u00e9venir les attaques malveillantes, telles que les tentatives d'intrusion ou les attaques par d\u00e9ni de service.</p>"},{"location":"cours/08-messagerie/#detection-dintrusion","title":"D\u00e9tection d'Intrusion :","text":"<p>Les syst\u00e8mes de d\u00e9tection d'intrusion sont mis en place pour d\u00e9tecter les activit\u00e9s suspectes ou malveillantes. Cela inclut la surveillance des journaux d'\u00e9v\u00e9nements, l'analyse du trafic r\u00e9seau, et l'identification des tentatives d'acc\u00e8s non autoris\u00e9es.</p>"},{"location":"cours/08-messagerie/#stockage-des-boites-aux-lettres-sur-un-serveur-de-base-de-donnees-securise","title":"Stockage des Bo\u00eetes aux Lettres sur un Serveur de Base de Donn\u00e9es S\u00e9curis\u00e9 :","text":"<p>Le stockage des bo\u00eetes aux lettres sur un serveur de base de donn\u00e9es s\u00e9curis\u00e9 offre plusieurs avantages en termes de s\u00e9curit\u00e9 et de gestion des donn\u00e9es.</p>"},{"location":"cours/08-messagerie/#chiffrement-des-donnees","title":"Chiffrement des Donn\u00e9es :","text":"<p>Les donn\u00e9es des bo\u00eetes aux lettres peuvent \u00eatre chiffr\u00e9es pour garantir que m\u00eame en cas d'acc\u00e8s non autoris\u00e9, les informations restent illisibles sans la cl\u00e9 de chiffrement appropri\u00e9e.</p> <p>Gestion Centralis\u00e9e :</p> <p>La centralisation des donn\u00e9es sur un serveur de base de donn\u00e9es facilite la gestion des bo\u00eetes aux lettres, les sauvegardes r\u00e9guli\u00e8res, et la mise en \u0153uvre de politiques de s\u00e9curit\u00e9 coh\u00e9rentes.</p> <p>Contr\u00f4le d'Acc\u00e8s :</p> <p>Des m\u00e9canismes de contr\u00f4le d'acc\u00e8s stricts peuvent \u00eatre appliqu\u00e9s pour garantir que seules les personnes autoris\u00e9es ont acc\u00e8s aux donn\u00e9es sensibles des bo\u00eetes aux lettres.</p> <p>En int\u00e9grant ces pratiques dans l'infrastructure, le serveur de messagerie peut op\u00e9rer de mani\u00e8re s\u00e9curis\u00e9e, r\u00e9duisant les risques potentiels li\u00e9s \u00e0 la confidentialit\u00e9 et \u00e0 l'int\u00e9grit\u00e9 des donn\u00e9es.</p>"},{"location":"cours/08-messagerie/#obligations-legales-et-confidentialite-dans-le-contexte-francais","title":"Obligations L\u00e9gales et Confidentialit\u00e9 dans le Contexte Fran\u00e7ais","text":""},{"location":"cours/08-messagerie/#acces-aux-boites-aux-lettres","title":"Acc\u00e8s aux Bo\u00eetes aux Lettres :","text":"<p>En France, l'acc\u00e8s aux bo\u00eetes aux lettres des utilisateurs est soumis \u00e0 des obligations l\u00e9gales strictes visant \u00e0 prot\u00e9ger la vie priv\u00e9e des individus et \u00e0 garantir la confidentialit\u00e9 des communications \u00e9lectroniques. Voici quelques points importants \u00e0 consid\u00e9rer :</p>"},{"location":"cours/08-messagerie/#rgpd-reglement-general-sur-la-protection-des-donnees","title":"RGPD (R\u00e8glement G\u00e9n\u00e9ral sur la Protection des Donn\u00e9es) :","text":"<p>Depuis mai 2018, le RGPD est \u00e9galement applicable en France. Il \u00e9tablit des r\u00e8gles strictes concernant la protection des donn\u00e9es personnelles des citoyens de l'Union europ\u00e9enne, y compris les donn\u00e9es contenues dans les bo\u00eetes aux lettres \u00e9lectroniques. Les entreprises et les administrateurs sont tenus de se conformer aux exigences du RGPD, notamment en mati\u00e8re de consentement, de notification des violations de donn\u00e9es, et de respect des droits individuels.</p>"},{"location":"cours/08-messagerie/#secret-des-correspondances","title":"Secret des Correspondances :","text":"<p>En vertu de l'article 226-15 du Code p\u00e9nal fran\u00e7ais, le secret des correspondances est prot\u00e9g\u00e9. Tout acc\u00e8s non autoris\u00e9 aux communications \u00e9lectroniques, y compris les bo\u00eetes aux lettres, peut \u00eatre passible de sanctions p\u00e9nales.</p>"},{"location":"cours/08-messagerie/#autorisation-prealable","title":"Autorisation Pr\u00e9alable :","text":"<p>Dans de nombreux cas, l'administrateur syst\u00e8me doit obtenir une autorisation pr\u00e9alable avant d'acc\u00e9der aux bo\u00eetes aux lettres des utilisateurs. Cette autorisation peut \u00eatre d\u00e9termin\u00e9e par les politiques internes de l'entreprise et doit \u00eatre conforme aux lois en vigueur.</p>"},{"location":"cours/08-messagerie/#conservation-des-donnees","title":"Conservation des Donn\u00e9es :","text":"<p>Les administrateurs doivent \u00eatre conscients des obligations de conservation des donn\u00e9es, d\u00e9finies par la loi, et s'assurer que les politiques de conservation sont respect\u00e9es.</p>"},{"location":"cours/08-messagerie/#droit-a-loubli","title":"Droit \u00e0 l'Oubli :","text":"<p>Le RGPD accorde \u00e9galement aux individus le droit \u00e0 l'oubli, permettant aux utilisateurs de demander la suppression de leurs donn\u00e9es personnelles. Les administrateurs doivent \u00eatre pr\u00eats \u00e0 r\u00e9pondre \u00e0 de telles demandes de mani\u00e8re conforme \u00e0 la loi.</p> <p>En r\u00e9sum\u00e9, l'acc\u00e8s aux bo\u00eetes aux lettres en France est soumis \u00e0 un cadre juridique rigoureux visant \u00e0 prot\u00e9ger les droits fondamentaux \u00e0 la vie priv\u00e9e et \u00e0 la protection des donn\u00e9es personnelles. Les administrateurs doivent op\u00e9rer dans le respect de ces lois et mettre en place des m\u00e9canismes appropri\u00e9s pour garantir la confidentialit\u00e9 des communications \u00e9lectroniques. Violations de ces lois peuvent entra\u00eener des sanctions s\u00e9v\u00e8res.</p>"},{"location":"cours/08-messagerie/#serveurs-de-messageries-connus","title":"Serveurs de messageries connus","text":""},{"location":"cours/08-messagerie/#sous-windows","title":"Sous Windows","text":"<ul> <li>Microsoft Exchange</li> <li>hmailserver</li> </ul>"},{"location":"cours/08-messagerie/#sous-linux","title":"Sous Linux","text":"<ul> <li>Postfix (smtp)</li> <li>Dovecot (imap)</li> </ul>"},{"location":"cours/08-messagerie/#solution-completes-agenda-contacts-etc","title":"Solution compl\u00e8tes (agenda, contacts etc..)","text":"<ul> <li>Microsoft Exchange</li> <li>Zimbra</li> <li>IBM Notes (Lotus Notes)</li> </ul>"},{"location":"cours/08-messagerie/#clients-de-messagerie","title":"Clients de messagerie","text":"<ul> <li>Microsoft Outlook</li> <li>Mozilla Thunderbird</li> <li>Apple Mail</li> <li>Evolution (Linux)</li> </ul>"},{"location":"cours/09-supervision/","title":"09 - Supervision","text":""},{"location":"cours/09-supervision/#introduction-a-la-supervision","title":"Introduction \u00e0 la Supervision","text":"<p>A. D\u00e9finition de la supervision</p>"},{"location":"cours/09-supervision/#ii-a-definition-de-la-supervision","title":"II. A. D\u00e9finition de la Supervision","text":"<p>La supervision d\u00e9signe l'ensemble des processus, outils et m\u00e9thodes utilis\u00e9s pour surveiller et contr\u00f4ler les \u00e9l\u00e9ments d'un syst\u00e8me informatique ou d'un r\u00e9seau. Son objectif principal est d'assurer la disponibilit\u00e9, la performance et la fiabilit\u00e9 des composants du syst\u00e8me, tout en anticipant et en r\u00e9solvant les \u00e9ventuels probl\u00e8mes.</p>"},{"location":"cours/09-supervision/#1-objectifs-de-la-supervision","title":"1. Objectifs de la Supervision","text":"<p>La supervision vise plusieurs objectifs essentiels dans la gestion d'un r\u00e9seau ou d'un syst\u00e8me informatique :</p> <ul> <li> <p>Disponibilit\u00e9 : S'assurer que les services et les ressources sont accessibles lorsque n\u00e9cessaire, minimisant ainsi les temps d'indisponibilit\u00e9.</p> </li> <li> <p>Performance : Mesurer et optimiser les performances des diff\u00e9rents composants afin de garantir une utilisation efficiente des ressources.</p> </li> <li> <p>Fiabilit\u00e9 : Pr\u00e9venir les pannes et les dysfonctionnements, assurant ainsi une exploitation continue et fiable du syst\u00e8me.</p> </li> <li> <p>S\u00e9curit\u00e9 : Identifier et r\u00e9agir aux menaces potentielles, garantissant la s\u00e9curit\u00e9 des donn\u00e9es et des communications.</p> </li> </ul>"},{"location":"cours/09-supervision/#2-composants-sous-surveillance","title":"2. Composants sous Surveillance","text":"<p>La supervision englobe la surveillance de divers composants, parmi lesquels :</p> <ul> <li> <p>Mat\u00e9riel (Hardware) : Suivi des performances des serveurs, routeurs, commutateurs, et autres \u00e9quipements.</p> </li> <li> <p>Logiciel (Software) : Surveillance des applications, des bases de donn\u00e9es, des syst\u00e8mes d'exploitation pour d\u00e9tecter les erreurs et les d\u00e9faillances.</p> </li> <li> <p>R\u00e9seau : Contr\u00f4le du trafic, de la bande passante, de la latence, et gestion des \u00e9l\u00e9ments r\u00e9seau pour garantir un flux de donn\u00e9es optimal.</p> </li> <li> <p>S\u00e9curit\u00e9 : D\u00e9tection des attaques, gestion des vuln\u00e9rabilit\u00e9s, et contr\u00f4le des acc\u00e8s pour assurer la s\u00e9curit\u00e9 du syst\u00e8me.</p> </li> </ul>"},{"location":"cours/09-supervision/#3-methodes-de-supervision","title":"3. M\u00e9thodes de Supervision","text":"<p>La supervision peut s'effectuer de mani\u00e8re proactive (supervision active) ou r\u00e9active (supervision passive). Les m\u00e9thodes incluent la collecte de donn\u00e9es, l'analyse des journaux, l'utilisation d'alertes, et la g\u00e9n\u00e9ration de rapports.</p> <p>La mise en place d'une strat\u00e9gie de supervision efficace permet non seulement d'am\u00e9liorer la r\u00e9activit\u00e9 face aux incidents, mais \u00e9galement d'anticiper les probl\u00e8mes potentiels, r\u00e9duisant ainsi les temps d'arr\u00eat et les impacts sur les utilisateurs.</p>"},{"location":"cours/09-supervision/#protocole-snmp-simple-network-management-protocol","title":"Protocole SNMP (Simple Network Management Protocol)","text":""},{"location":"cours/09-supervision/#presentation-generale-de-snmp","title":"Pr\u00e9sentation g\u00e9n\u00e9rale de SNMP","text":"<p>Le Simple Network Management Protocol (SNMP) est un protocole (UDP 161) standard de gestion de r\u00e9seau largement utilis\u00e9 pour la supervision et la gestion des \u00e9quipements r\u00e9seau et des syst\u00e8mes informatiques. Con\u00e7u pour \u00eatre simple et efficace, SNMP permet la collecte d'informations et le contr\u00f4le d'appareils r\u00e9seau, facilitant ainsi la surveillance proactive et la r\u00e9solution des probl\u00e8mes.</p> <ol> <li>Architecture SNMP</li> </ol> <p>Agents SNMP : Les agents SNMP sont des logiciels int\u00e9gr\u00e9s dans les \u00e9quipements r\u00e9seau (comme les routeurs, les commutateurs, les serveurs) charg\u00e9s de collecter des informations sur les performances et l'\u00e9tat des dispositifs. Ces agents r\u00e9pondent aux requ\u00eates SNMP et g\u00e9n\u00e8rent des \"traps\" en cas d'\u00e9v\u00e9nements particuliers. Ils \u00e9coutent sur le port UDP 161 (ils s'agit donc d'un processus serveur).</p> <p>Gestionnaire SNMP : Le gestionnaire SNMP est une application logicielle qui effectue des requ\u00eates aux agents SNMP pour obtenir des informations sur les appareils supervis\u00e9s. Il peut \u00e9galement envoyer des commandes pour configurer ou contr\u00f4ler les dispositifs. On le consid\u00e8re au niveau des flux comme le client. Toutefois comme il centralise les r\u00e9ponses SNMP, on le consid\u00e8re comme le serveur de supervision.</p> <ol> <li>Fonctionnement de SNMP</li> </ol> <p>SNMP fonctionne sur la base d'un \u00e9change de messages entre le gestionnaire et les agents. Les messages SNMP, appel\u00e9s Protocol Data Units (PDU), sont utilis\u00e9s pour lire ou \u00e9crire des informations sur les appareils.</p> <p>Les trois versions principales de SNMP sont :</p> <p>SNMPv1 : La premi\u00e8re version, offrant des fonctionnalit\u00e9s de base pour la surveillance. Elle utilise des communaut\u00e9s pour l'authentification.</p> <p>SNMPv2 : Une version am\u00e9lior\u00e9e, introduisant des fonctionnalit\u00e9s telles que la capacit\u00e9 de d\u00e9finir des groupes de variables et des am\u00e9liorations dans la gestion des erreurs.</p> <p>SNMPv3 : La version la plus r\u00e9cente, int\u00e9grant des fonctionnalit\u00e9s de s\u00e9curit\u00e9 robustes, y compris l'authentification et le chiffrement, assurant ainsi une communication s\u00e9curis\u00e9e entre les gestionnaires et les agents.</p> <ol> <li>Avantages et Limitations de SNMP</li> </ol> <p>Avantages :</p> <ul> <li> <p>Universalit\u00e9 : SNMP est largement adopt\u00e9, offrant une compatibilit\u00e9 \u00e9tendue avec une vari\u00e9t\u00e9 d'\u00e9quipements r\u00e9seau et de syst\u00e8mes.</p> </li> <li> <p>Simplicit\u00e9 : La simplicit\u00e9 de la conception de SNMP facilite son d\u00e9ploiement et son utilisation.</p> </li> <li> <p>Extensibilit\u00e9 : Il est possible d'\u00e9tendre SNMP pour prendre en charge de nouveaux types d'\u00e9quipements ou de variables gr\u00e2ce aux MIBs (Management Information Base).</p> </li> </ul> <p>Limitations :</p> <p>S\u00e9curit\u00e9 : Les versions plus anciennes de SNMP (v1 et v2) manquent de fonctionnalit\u00e9s de s\u00e9curit\u00e9 robustes. Cependant, SNMPv3 a rem\u00e9di\u00e9 \u00e0 ces lacunes en introduisant des m\u00e9canismes de s\u00e9curit\u00e9 plus avanc\u00e9s.</p> <p>Complexit\u00e9 des MIBs : Les MIBs peuvent parfois \u00eatre complexes, surtout dans les r\u00e9seaux complexes, n\u00e9cessitant une compr\u00e9hension approfondie pour une configuration efficace</p> <p>B. Structure de la MIB</p> <p>La MIB (Management Information Base) est une structure hi\u00e9rarchique qui organise les informations accessibles via SNMP. Elle est compos\u00e9e d'objets qui repr\u00e9sentent des \u00e9l\u00e9ments sp\u00e9cifiques des \u00e9quipements surveill\u00e9s. Chaque objet a un identifiant unique appel\u00e9 OID (Object Identifier). La MIB d\u00e9finit les variables que les gestionnaires peuvent interroger et modifier.</p> <p>La MIB est organis\u00e9e en diff\u00e9rents groupes, chacun regroupant des objets li\u00e9s \u00e0 une fonction ou une caract\u00e9ristique sp\u00e9cifique. Par exemple, la MIB-II est une partie standard de la MIB qui inclut des informations g\u00e9n\u00e9rales sur le syst\u00e8me, l'interface r\u00e9seau, et d'autres aspects communs.</p> <p>Voici un exemple simplifi\u00e9 d'une partie de la MIB-II, qui est une MIB standard souvent utilis\u00e9e pour superviser des appareils r\u00e9seau. La MIB-II comprend plusieurs groupes, et nous allons explorer le groupe \"System\" pour illustrer quelques-uns de ses objets.</p> <p>Groupe System de la MIB-II :</p> <pre><code>sysDescr (1.3.6.1.2.1.1.1):\n    Type : Cha\u00eene de caract\u00e8res\n    Description : Une description du syst\u00e8me, g\u00e9n\u00e9ralement fournie par le fabricant.\n\nsysObjectID (1.3.6.1.2.1.1.2):\n    Type : Object Identifier\n    Description : L'OID identifiant le type de syst\u00e8me, permettant de d\u00e9terminer le type d'\u00e9quipement.\n\nsysUpTime (1.3.6.1.2.1.1.3):\n    Type : Temps depuis le dernier red\u00e9marrage (en centi\u00e8mes de secondes)\n    Description : Temps \u00e9coul\u00e9 depuis le dernier red\u00e9marrage du syst\u00e8me.\n\nsysContact (1.3.6.1.2.1.1.4):\n    Type : Cha\u00eene de caract\u00e8res\n    Description : Information de contact pour l'administrateur du syst\u00e8me.\n\nsysName (1.3.6.1.2.1.1.5):\n    Type : Cha\u00eene de caract\u00e8res\n    Description : Le nom de l'\u00e9quipement.\n\nsysLocation (1.3.6.1.2.1.1.6):\n    Type : Cha\u00eene de caract\u00e8res\n    Description : L'emplacement physique du syst\u00e8me.\n\nsysServices (1.3.6.1.2.1.1.7):\n    Type : Entier\n    Description : Indique quels services sont disponibles sur le syst\u00e8me.\n</code></pre> <p>Chaque objet de la MIB est accessible via un identifiant unique (OID), et le gestionnaire SNMP peut interroger ces objets pour obtenir des informations sur le syst\u00e8me. Par exemple, en interrogeant sysDescr, le gestionnaire pourrait recevoir une r\u00e9ponse avec une description d\u00e9taill\u00e9e du syst\u00e8me.</p>"},{"location":"cours/09-supervision/#interaction-snmp","title":"Interaction SNMP","text":"<p>L'interaction entre le gestionnaire et l'agent s'effectue \u00e0 travers des PDUs (Protocol Data Units) On peux utiliser snmpwalk sous linux pour tester le protocole snmp:</p> <p>Get Request : Le gestionnaire envoie une requ\u00eate demandant la valeur d'un objet sp\u00e9cifique dans la MIB de l'agent.</p> <p>Get Response : L'agent r\u00e9pond avec la valeur de l'objet demand\u00e9.</p> <p>Set Request : Le gestionnaire envoie une requ\u00eate pour modifier la valeur d'un objet dans la MIB de l'agent.</p> <p>Trap : L'agent peut \u00e9galement envoyer un \"trap\" (UDP 162) au gestionnaire pour signaler un \u00e9v\u00e9nement, sans attendre une requ\u00eate sp\u00e9cifique</p> <p>IV. Supervision Active et Passive</p> <p>A. Supervision Active</p>"},{"location":"cours/09-supervision/#iv-a-supervision-active","title":"IV. A. Supervision Active","text":"<p>La supervision active, \u00e9galement appel\u00e9e monitoring actif, d\u00e9signe une approche proactive dans laquelle le gestionnaire r\u00e9seau g\u00e9n\u00e8re d\u00e9lib\u00e9r\u00e9ment des requ\u00eates pour obtenir des informations sur les dispositifs surveill\u00e9s. Cette m\u00e9thode permet de mesurer en temps r\u00e9el la performance, la disponibilit\u00e9 et d'autres param\u00e8tres cl\u00e9s des composants r\u00e9seau. Voici une exploration plus approfondie de la supervision active :</p>"},{"location":"cours/09-supervision/#1-methodes-de-supervision-active","title":"1. M\u00e9thodes de Supervision Active","text":"<p>La supervision active implique l'utilisation de diff\u00e9rentes m\u00e9thodes pour interroger les \u00e9quipements r\u00e9seau et collecter des donn\u00e9es. Parmi les m\u00e9thodes couramment utilis\u00e9es, on trouve :</p> <ul> <li> <p>Ping (ICMP Echo) : Envoi de paquets ICMP Echo Request aux appareils r\u00e9seau pour v\u00e9rifier leur disponibilit\u00e9 et mesurer les temps de r\u00e9ponse.</p> </li> <li> <p>SNMP Polling : Interrogation r\u00e9guli\u00e8re des agents SNMP pour r\u00e9cup\u00e9rer des informations sur les performances, la charge CPU, la m\u00e9moire, et d'autres param\u00e8tres.</p> </li> <li> <p>Tests de bande passante : Envoi de flux de donn\u00e9es pour \u00e9valuer la bande passante disponible et d\u00e9tecter les goulots d'\u00e9tranglement.</p> </li> <li> <p>Test de connectivit\u00e9 : V\u00e9rification de la connectivit\u00e9 entre les diff\u00e9rents n\u0153uds du r\u00e9seau pour identifier les \u00e9ventuels probl\u00e8mes de routage.</p> </li> </ul>"},{"location":"cours/09-supervision/#2-avantages-de-la-supervision-active","title":"2. Avantages de la Supervision Active","text":"<ul> <li> <p>R\u00e9activit\u00e9 : La supervision active permet une d\u00e9tection rapide des probl\u00e8mes. Les gestionnaires peuvent recevoir des alertes imm\u00e9diates lorsqu'une d\u00e9faillance ou un probl\u00e8me de performance est d\u00e9tect\u00e9.</p> </li> <li> <p>Collecte de donn\u00e9es en temps r\u00e9el : Les mesures sont effectu\u00e9es en temps r\u00e9el, offrant une vue instantan\u00e9e de l'\u00e9tat du r\u00e9seau.</p> </li> <li> <p>Analyse proactive : L'analyse des tendances \u00e0 partir des donn\u00e9es collect\u00e9es permet d'anticiper les probl\u00e8mes potentiels et de prendre des mesures pr\u00e9ventives.</p> </li> <li> <p>Contr\u00f4le cibl\u00e9 : Les gestionnaires peuvent cibler sp\u00e9cifiquement des dispositifs, des interfaces ou des services pour une supervision plus pr\u00e9cise.</p> </li> </ul>"},{"location":"cours/09-supervision/#3-outils-de-supervision-active","title":"3. Outils de Supervision Active","text":"<p>Plusieurs outils de supervision active sont disponibles pour mettre en \u0153uvre cette approche. Certains des outils les plus couramment utilis\u00e9s incluent :</p> <ul> <li> <p>Nagios : Utilis\u00e9 pour surveiller la disponibilit\u00e9, les ressources syst\u00e8me, et les services.</p> </li> <li> <p>PRTG : Permet la surveillance en temps r\u00e9el de la bande passante, des serveurs, des applications, etc.</p> </li> <li> <p>Zabbix : Offre une supervision compl\u00e8te avec la possibilit\u00e9 de configurer des d\u00e9clencheurs et des alertes.</p> </li> <li> <p>Wireshark : Un outil d'analyse r\u00e9seau qui peut \u00eatre utilis\u00e9 pour examiner le trafic en temps r\u00e9el et diagnostiquer des probl\u00e8mes.</p> </li> </ul>"},{"location":"cours/09-supervision/#4-exemple-de-configuration","title":"4. Exemple de Configuration","text":"<p>Un exemple simple de configuration de supervision active pourrait \u00eatre la mise en place d'une sonde SNMP pour interroger p\u00e9riodiquement les dispositifs r\u00e9seau et collecter des donn\u00e9es sur la charge CPU, l'utilisation de la m\u00e9moire, et le trafic r\u00e9seau.</p> <pre><code>Device:\n  - Name: RouteurA\n    IP: 192.168.1.1\n    SNMP:\n      Community: public\n      Metrics:\n        - CPUUsage\n        - MemoryUsage\n        - NetworkTraffic\n  - Name: SwitchB\n    IP: 192.168.1.2\n    SNMP:\n      Community: public\n      Metrics:\n        - PortStatus\n        - VLANStatus\n</code></pre>"},{"location":"cours/09-supervision/#exemple-avec-nagios","title":"Exemple avec Nagios","text":"<p>IV. A. Supervision Active avec Nagios</p> <p>Nagios est un puissant outil de supervision open source qui permet la surveillance active des ressources r\u00e9seau. Voici un exemple simplifi\u00e9 de configuration pour superviser un routeur et un commutateur avec Nagios :</p> <ol> <li>Configuration des H\u00f4tes dans Nagios</li> </ol> <p>La configuration des h\u00f4tes dans Nagios se fait g\u00e9n\u00e9ralement dans le fichier hosts.cfg. Voici un exemple :</p> <pre><code># Fichier : /etc/nagios/objects/hosts.cfg\n\ndefine host {\n    use                 generic-host\n    host_name           RouteurA\n    alias               Routeur A - Description\n    address             192.168.1.1\n}\n\ndefine host {\n    use                 generic-host\n    host_name           SwitchB\n    alias               Switch B - Description\n    address             192.168.1.2\n}\n</code></pre> <p>Dans cet exemple, deux h\u00f4tes, \"RouteurA\" et \"SwitchB\", sont d\u00e9finis avec leurs adresses IP respectives.</p> <ol> <li>Configuration des Services dans Nagios</li> </ol> <p>La configuration des services sp\u00e9cifiques \u00e0 surveiller se fait dans le fichier services.cfg. Voici un exemple :</p> <pre><code># Fichier : /etc/nagios/objects/services.cfg\n\ndefine service {\n    use                 generic-service\n    host_name           RouteurA\n    service_description CPU Usage\n    check_command       check_snmp!-C public -o hrProcessorLoad.1 -w 80 -c 90\n}\n\ndefine service {\n    use                 generic-service\n    host_name           RouteurA\n    service_description Memory Usage\n    check_command       check_snmp!-C public -o hrStorageUsed.1 -w 80% -c 90%\n}\n\ndefine service {\n    use                 generic-service\n    host_name           SwitchB\n    service_description Port Status\n    check_command       check_snmp!-C public -o ifOperStatus.1\n}\n\ndefine service {\n    use                 generic-service\n    host_name           SwitchB\n    service_description VLAN Status\n    check_command       check_snmp!-C public -o dot1qVlanStatus.1\n}\n</code></pre> <p>Dans cet exemple, des services sp\u00e9cifiques tels que \"CPU Usage\" et \"Memory Usage\" pour le routeur, ainsi que \"Port Status\" et \"VLAN Status\" pour le commutateur, sont d\u00e9finis. Les commandes check_snmp permettent d'interroger les dispositifs via SNMP.</p> <ol> <li>Commandes personnalis\u00e9es</li> </ol> <p>Nagios utilise des commandes pour effectuer des v\u00e9rifications. Voici comment d\u00e9finir une commande pour interroger un dispositif via SNMP :</p> <pre><code># Fichier : /etc/nagios/objects/commands.cfg\n\ndefine command {\n    command_name    check_snmp\n    command_line    $USER1$/check_snmp -H $HOSTADDRESS$ $ARG1$\n}\n</code></pre> <ol> <li>R\u00e9sultat</li> </ol> <p>Une fois que Nagios est configur\u00e9 avec ces informations, il surveillera activement les services sp\u00e9cifi\u00e9s et g\u00e9n\u00e9rera des alertes en cas de probl\u00e8me. Les seuils de d\u00e9clenchement d'alertes (warning et critical) peuvent \u00eatre ajust\u00e9s en fonction des besoins sp\u00e9cifiques.</p>"},{"location":"cours/09-supervision/#supervision-passive","title":"Supervision Passive","text":"<p>La supervision passive, \u00e9galement connue sous le nom de monitoring passif, est une approche o\u00f9 les dispositifs r\u00e9seau envoient activement des informations \u00e0 un serveur de supervision sans qu'il ait \u00e0 les interroger. Cela est g\u00e9n\u00e9ralement r\u00e9alis\u00e9 \u00e0 l'aide de Traps SNMP. La supervision passive offre une visibilit\u00e9 en temps r\u00e9el des \u00e9v\u00e9nements sur le r\u00e9seau sans avoir \u00e0 effectuer des requ\u00eates constantes. Voici un aper\u00e7u d\u00e9taill\u00e9 de la supervision passive :</p>"},{"location":"cours/09-supervision/#1-traps-snmp","title":"1. Traps SNMP","text":"<ul> <li> <p>D\u00e9finition : Un Trap SNMP est une notification instantan\u00e9e qu'un agent SNMP envoie \u00e0 un gestionnaire SNMP lorsqu'un \u00e9v\u00e9nement pr\u00e9d\u00e9fini se produit. Les Traps peuvent signaler diverses conditions, telles que des pannes, des changements d'\u00e9tat, ou d'autres \u00e9v\u00e9nements sp\u00e9cifiques.</p> </li> <li> <p>Fonctionnement : Lorsqu'un \u00e9v\u00e9nement survient, l'agent SNMP g\u00e9n\u00e8re un Trap et l'envoie au gestionnaire SNMP. Le gestionnaire r\u00e9agit en cons\u00e9quence, pouvant d\u00e9clencher des alertes, des scripts, ou d'autres actions d\u00e9finies.</p> </li> </ul>"},{"location":"cours/09-supervision/#2-avantages-de-la-supervision-passive","title":"2. Avantages de la Supervision Passive","text":"<ul> <li> <p>R\u00e9activit\u00e9 accrue : Les Traps permettent une d\u00e9tection instantan\u00e9e des \u00e9v\u00e9nements, fournissant une r\u00e9activit\u00e9 accrue aux changements dans le r\u00e9seau.</p> </li> <li> <p>R\u00e9duction du trafic r\u00e9seau : Par rapport \u00e0 la supervision active, la supervision passive g\u00e9n\u00e8re moins de trafic r\u00e9seau car les informations sont transmises uniquement lorsque des \u00e9v\u00e9nements surviennent.</p> </li> <li> <p>Visibilit\u00e9 en temps r\u00e9el : La supervision passive offre une visibilit\u00e9 imm\u00e9diate sur les \u00e9v\u00e9nements critiques, ce qui peut \u00eatre crucial pour la r\u00e9solution rapide des probl\u00e8mes.</p> </li> </ul>"},{"location":"cours/09-supervision/#3-configuration-des-traps-snmp","title":"3. Configuration des Traps SNMP","text":"<ul> <li> <p>Au niveau de l'Agent SNMP : La configuration des Traps SNMP se fait au niveau de l'agent SNMP sur chaque dispositif. Les \u00e9v\u00e9nements sp\u00e9cifiques qui d\u00e9clenchent l'envoi d'un Trap sont d\u00e9finis dans la configuration de l'agent.</p> </li> <li> <p>Au niveau du Gestionnaire SNMP : Le gestionnaire SNMP doit \u00eatre configur\u00e9 pour recevoir et interpr\u00e9ter les Traps. Cela implique la d\u00e9finition des actions \u00e0 entreprendre lorsqu'un Trap sp\u00e9cifique est re\u00e7u.</p> </li> </ul>"},{"location":"cours/09-supervision/#4-exemple-de-configuration_1","title":"4. Exemple de Configuration","text":"<ul> <li>Configuration de l'Agent SNMP : </li> </ul> <p>Dans la configuration de l'agent sur un routeur, vous pourriez sp\u00e9cifier qu'un Trap doit \u00eatre g\u00e9n\u00e9r\u00e9 en cas de changement d'\u00e9tat d'une interface r\u00e9seau.</p> <pre><code>snmp-server enable traps\nsnmp-server host 192.168.1.100 public SNMP-TRAP\n</code></pre> <p>Dans cet exemple, le routeur envoie des Traps \u00e0 l'adresse IP 192.168.1.100 avec la communaut\u00e9 SNMP \"public\" lorsqu'un \u00e9v\u00e9nement d\u00e9fini survient.</p> <ul> <li>Configuration du Gestionnaire SNMP :</li> </ul> <p>Dans le gestionnaire SNMP (par exemple, avec un outil comme Nagios ou Centreon), vous devez configurer la r\u00e9ception des Traps SNMP et d\u00e9finir des r\u00e8gles pour g\u00e9rer ces \u00e9v\u00e9nements.</p>"},{"location":"cours/09-supervision/#5-outils-de-supervision-passive","title":"5. Outils de Supervision Passive","text":"<p>Plusieurs outils de supervision passifs sont disponibles, certains construits au-dessus de protocoles comme SNMP, et d'autres utilisant des m\u00e9canismes sp\u00e9cifiques aux fournisseurs. Certains exemples incluent :</p> <ul> <li> <p>Nagios : Peut \u00eatre configur\u00e9 pour recevoir et traiter des Traps SNMP.</p> </li> <li> <p>Centreon : Offre la gestion des Traps SNMP et une interface graphique conviviale pour d\u00e9finir des actions en r\u00e9ponse \u00e0 des \u00e9v\u00e9nements.</p> </li> <li> <p>Zabbix : Supporte la r\u00e9ception et le traitement des Traps SNMP.</p> </li> </ul> <p>La supervision passive, avec l'utilisation judicieuse des Traps SNMP, offre une approche puissante pour la d\u00e9tection et la gestion rapides des \u00e9v\u00e9nements dans un r\u00e9seau, permettant ainsi une r\u00e9solution proactive des probl\u00e8mes.</p>"},{"location":"infrastructure/01-introduction/","title":"Introduction sur l'infrastructure","text":""},{"location":"infrastructure/01-introduction/#dossier-technique-de-linfrastructure-du-reseau-sportludique","title":"Dossier technique de l\u2019infrastructure du r\u00e9seau SportLudique","text":""},{"location":"infrastructure/01-introduction/#lycee-fulbert-chartres-2023-2024","title":"Lyc\u00e9e Fulbert Chartres 2023-2024","text":"<p>Auteur : Ludovic MERY</p>"},{"location":"infrastructure/01-introduction/#introduction","title":"Introduction\u00a0:","text":"<p>Les Projets Personnels Encadr\u00e9s (PPE) seront d\u00e9velopp\u00e9s autour du contexte SportLudique. Cet environnement permettra \u00e0 l\u2019\u00e9tudiant de r\u00e9aliser un ensemble de projets autour de diff\u00e9rentes situations professionnelles (les missions) et acqu\u00e9rir ainsi les comp\u00e9tences en conformit\u00e9 avec le r\u00e9f\u00e9rentiel.</p>"},{"location":"infrastructure/01-introduction/#rappel-du-contexte","title":"Rappel du contexte\u00a0:","text":"<p>SportLudique est une soci\u00e9t\u00e9 bas\u00e9e sur 4 sites distants Chartres, Tours, Orl\u00e9ans et Ch\u00e2teauroux. Elle est sp\u00e9cialis\u00e9e dans la conception et la production d\u2019articles de sports non conventionnels.</p> <p>L\u2019infrastructure informatique et r\u00e9seau est prise en charge par le d\u00e9partement \"Solutions d\u2019Infrastructure Syst\u00e8me et R\u00e9seau\" (SISR) qui se charge de l\u2019exploitation de l\u2019ensemble des \u00e9quipements du parc ainsi que de la r\u00e9alisation des projets informatiques.</p> <p>La DSI d\u00e9l\u00e8gue les taches techniques de r\u00e9alisation, d\u00e9ploiement, maintenance et support \u00e0 son prestataire ma\u00eetre d\u2019\u0153uvre autour d\u2019un contrat de service dans lequel il assure la ma\u00eetrise d\u2019ouvrage.</p>"},{"location":"infrastructure/01-introduction/#presentation-generale-de-linfrastructure","title":"Pr\u00e9sentation G\u00e9n\u00e9rale de l\u2019infrastructure :","text":"<p>L\u2019infrastructure est d\u00e9coup\u00e9e en 3 parties comprenant le si\u00e8ge ainsi que les diff\u00e9rents sites distants et le r\u00e9seau d\u2019acc\u00e8s \u00e0 Internet. La DSI est responsable de l\u2019administration de l\u2019infrastructure, de la fourniture de services et de la s\u00e9curisation des donn\u00e9es en d\u00e9l\u00e9guant ces t\u00e2ches \u00e0 son prestataire homologu\u00e9 qui est le ma\u00eetre d\u2019\u0153uvre pour la r\u00e9alisation des op\u00e9rations d\u2019administration du syst\u00e8me d\u2019information de SportLudique.</p> <p>Le service Informatique de SportLudique est mandat\u00e9 pour l\u2019ex\u00e9cution de tous les projets qui concernent le parc informatique de l\u2019entreprise et agit comme prestataire au travers de contrats de service vis-\u00e0-vis des diff\u00e9rents sites distants. Chaque site dispose d\u2019une infrastructure avec un domaine &lt;nomville&gt;.sportludique.fr . Un Controlleur de domaine disposant d'un service d\u2019annuaire Active Directory assure la gestion et l\u2019administration du r\u00e9seau.</p> <p>Le nom de domaine sportludique.fr a \u00e9t\u00e9 r\u00e9serv\u00e9 aupr\u00e8s de l\u2019AFNIC et le bureau d\u2019enregistrement (registar) g\u00e9rant ce nom de domaine est nordnet (en r\u00e9alit\u00e9 il est g\u00e9r\u00e9 par l\u2019enseignant M MERY et n'est donc pas accessible sur le web de chez vous, il le sera via l'utilisation d'un VPN mis \u00e0 disposition par votre enseignant).</p>"},{"location":"infrastructure/01-introduction/#whois","title":"WHOIS","text":"<p>Le nom de domaine \"sportludique.fr\" est d\u00e9j\u00e0 d\u00e9pos\u00e9.</p> <p>R\u00e9sultat de votre recherche</p> <ul> <li> <p>Nom de domaine :\u00a0sportludique.fr</p> </li> <li> <p>\u00c9tat :\u00a0Actif</p> </li> <li> <p>DNSSEC :\u00a0inactif</p> </li> <li> <p>Bureau d'enregistrement     &gt; : NORDNET</p> </li> <li> <p>Date de cr\u00e9ation :\u00a029 mai 2020 17:37</p> </li> <li> <p>Date d'expiration :\u00a029 mai 2030 17:37</p> </li> <li> <p>Serveurs de noms (DNS)</p> <ul> <li> <p>Serveur n\u00b0 1:\u00a0ns2.lerelaisinternet.com</p> </li> <li> <p>Serveur n\u00b0 2:\u00a0ns1.lerelaisinternet.com</p> </li> </ul> </li> </ul>"},{"location":"infrastructure/02-serveurs/","title":"Liste des serveurs et services","text":""},{"location":"infrastructure/02-serveurs/#liste-des-serveurs-obligatoires-pour-lexamen","title":"Liste des serveurs obligatoires pour l'examen:","text":"<p>Les machines virtuelles \u00e0 cr\u00e9er et \u00e0 h\u00e9berger sur la ferme de serveur sur chaque site (donc dans chaque VLAN d\u2019\u00eelot) :</p>"},{"location":"infrastructure/02-serveurs/#controleurs-de-domaine","title":"Contr\u00f4leurs de domaine","text":"<ul> <li>Contr\u00f4leur de domaine AD-DC</li> <li>Service DNS</li> <li>Service DHCP</li> </ul> <p>Dans le cadre de la gestion de l'infrastructure informatique, la mise en place de contr\u00f4leurs de domaine est cruciale pour assurer l'administration centralis\u00e9e et s\u00e9curis\u00e9e des ressources du r\u00e9seau. Il existe deux types principaux de contr\u00f4leurs de domaine : le contr\u00f4leur de domaine principal et le contr\u00f4leur de domaine secondaire.</p>"},{"location":"infrastructure/02-serveurs/#controleur-de-domaine-principal","title":"Contr\u00f4leur de domaine principal","text":"<p>Le contr\u00f4leur de domaine principal, \u00e9galement appel\u00e9 PDC (Primary Domain Controller), occupe une place centrale dans l'architecture du domaine. Il est responsable de la gestion des op\u00e9rations de base li\u00e9es \u00e0 l'authentification des utilisateurs, \u00e0 l'autorisation d'acc\u00e8s aux ressources et \u00e0 la gestion des politiques de s\u00e9curit\u00e9. En cas de modification des informations du domaine, le contr\u00f4leur de domaine principal est le point de r\u00e9f\u00e9rence.</p>"},{"location":"infrastructure/02-serveurs/#controleur-de-domaine-secondaire","title":"Contr\u00f4leur de domaine secondaire","text":"<p>Les contr\u00f4leurs de domaine secondaires, ou BDC (Backup Domain Controllers), jouent un r\u00f4le de sauvegarde et de r\u00e9partition de la charge par rapport au contr\u00f4leur de domaine principal. Ils reproduisent les informations du contr\u00f4leur de domaine principal pour garantir une redondance et une disponibilit\u00e9 \u00e9lev\u00e9es. En cas de panne du contr\u00f4leur de domaine principal, les contr\u00f4leurs de domaine secondaires peuvent prendre en charge les op\u00e9rations critiques, \u00e9vitant ainsi une interruption majeure des services.</p> <p>Il est important de noter que la mise en place d'un contr\u00f4leur de domaine principal et de contr\u00f4leurs de domaine secondaires permet une gestion fiable et s\u00e9curis\u00e9e de l'annuaire, des comptes d'utilisateurs et des strat\u00e9gies de groupe. Cette architecture renforce la disponibilit\u00e9 des services et facilite la gestion du r\u00e9seau, tout en minimisant les risques de perte de donn\u00e9es et de temps d'arr\u00eat.</p> <p>La combinaison d'un contr\u00f4leur de domaine principal et de contr\u00f4leurs de domaine secondaires constitue un \u00e9l\u00e9ment cl\u00e9 de la gestion de l'infrastructure d'un r\u00e9seau, qu'il soit de petite ou de grande taille.</p>"},{"location":"infrastructure/02-serveurs/#un-serveur-de-deploiement-dimage-de-stations-de-travail","title":"Un serveur de d\u00e9ploiement d\u2019image de stations de travail","text":"<p>- Au choix parmi les solutions suivantes\u00a0\u00e0 documenter (gestion du multicast):</p> <ul> <li>ServeurMicrosoft WDS</li> <li>Serveur FOG</li> <li>Serveur CloneZilla</li> </ul> D\u00e9finition <p>Le multicast en informatique est une m\u00e9thode de communication r\u00e9seau o\u00f9 un exp\u00e9diteur envoie des donn\u00e9es \u00e0 un groupe sp\u00e9cifique de destinataires plut\u00f4t qu'\u00e0 tous les n\u0153uds du r\u00e9seau (broadcast). Cela permet d'\u00e9conomiser la bande passante en envoyant une seule copie des donn\u00e9es aux membres du groupe int\u00e9ress\u00e9s, au lieu de multiplier les envois comme dans les envois en unicast. Le multicast est couramment utilis\u00e9 pour la diffusion de contenu en streaming, les mises \u00e0 jour de logiciels et d'autres applications n\u00e9cessitant la transmission d'informations \u00e0 un groupe cibl\u00e9. C'est la solution utilis\u00e9 pour d\u00e9ployer vos poste de travail en d\u00e9but d'ann\u00e9e (via le boot PXE au demarrage de la machine physique).</p>"},{"location":"infrastructure/02-serveurs/#un-logiciel-de-bonne-pratiques-itil","title":"Un logiciel de bonne pratiques ITIL","text":""},{"location":"infrastructure/02-serveurs/#utilisation-de-logiciels-conformes-aux-bonnes-pratiques-itil","title":"Utilisation de logiciels conformes aux bonnes pratiques ITIL","text":"<p>Dans le cadre de l'alignement sur les meilleures pratiques de gestion des services informatiques ITIL (Information Technology Infrastructure Library), l'utilisation de certains logiciels sp\u00e9cifiques peut grandement faciliter la gestion et l'organisation des processus IT.</p>"},{"location":"infrastructure/02-serveurs/#gestion-de-parc-informatique-et-incidents","title":"Gestion de parc informatique et incidents","text":"<p>Pour la gestion efficace du parc informatique et le suivi des incidents, l'outil GLPI associ\u00e9 \u00e0 Fusion Inventory s'av\u00e8re tr\u00e8s utile. Ces solutions permettent de cr\u00e9er un inventaire pr\u00e9cis des \u00e9quipements, de g\u00e9rer les tickets d'incidents et de fournir une vue globale des ressources informatiques.</p>"},{"location":"infrastructure/02-serveurs/#gestion-des-configurations-et-des-outils-associes","title":"Gestion des configurations et des outils associ\u00e9s","text":"<p>La gestion des configurations est un \u00e9l\u00e9ment fondamental pour maintenir une infrastructure informatique coh\u00e9rente et conforme aux bonnes pratiques ITIL. Les outils suivants jouent un r\u00f4le cl\u00e9 dans ce processus :</p>"},{"location":"infrastructure/02-serveurs/#outils-de-gestion-des-configurations","title":"Outils de gestion des configurations","text":"<p>Deux outils largement adopt\u00e9s et conformes aux bonnes pratiques ITIL sont Ansible et Puppet. Ils automatisent le d\u00e9ploiement, la configuration et la gestion des syst\u00e8mes et des applications. Ces outils vous permettent de garantir la coh\u00e9rence et la conformit\u00e9 des configurations tout en simplifiant l'administration.</p> <p>Dans les environnements Windows, l'utilisation de GPO (Group Policy Objects) est courante pour d\u00e9finir et g\u00e9rer les politiques de s\u00e9curit\u00e9 et de configuration. Par ailleurs, GLPI peut \u00eatre utilis\u00e9 comme service de d\u00e9ploiement de logiciels. Pour les environnements Microsoft, l'outil chocolatey simplifie le processus de gestion et de d\u00e9ploiement des logiciels.</p>"},{"location":"infrastructure/02-serveurs/#un-service-de-proxy-filtrant-implementation-au-choix-apres-etudes-des-possibilites","title":"Un service de Proxy filtrant (impl\u00e9mentation au choix apr\u00e8s \u00e9tudes des possibilit\u00e9s)","text":"<ul> <li>Proxy filtrant\u00a0: (Exemple SquidGuard)</li> <li>Authentification transparente et tra\u00e7abilit\u00e9 des acc\u00e8s dans un serveur de logs</li> <li>Possibilit\u00e9 d'utiliser le service correspondant d'un parefeux UTM</li> </ul> D\u00e9finition <p>Un pare-feu UTM (Unified Threat Management) est une solution de s\u00e9curit\u00e9 r\u00e9seau int\u00e9gr\u00e9e qui combine plusieurs fonctionnalit\u00e9s de s\u00e9curit\u00e9 au sein d'un seul appareil. Contrairement aux pare-feux traditionnels qui se concentrent principalement sur le filtrage de paquets \u00e0 la couche 3 et 4, les pare-feux UTM offrent une protection plus compl\u00e8te en int\u00e9grant diverses capacit\u00e9s de s\u00e9curit\u00e9 au sein d'une seule plateforme. Voici les principales caract\u00e9ristiques et fonctionnalit\u00e9s d'un pare-feu UTM :</p> <ul> <li> <p>Filtrage des paquets traditionnel : Comme les pare-feux classiques, les UTM assurent le filtrage des paquets en fonction des adresses IP sources et de destination, ainsi que des ports utilis\u00e9s.</p> </li> <li> <p>Protection antivirus et antimalware : Les pare-feux UTM int\u00e8grent des moteurs antivirus et antimalware pour d\u00e9tecter et bloquer les logiciels malveillants et les virus dans le trafic r\u00e9seau.</p> </li> <li> <p>Filtrage d'URL et de contenu : Ils peuvent filtrer le trafic Web en fonction de cat\u00e9gories d'URL pour emp\u00eacher l'acc\u00e8s \u00e0 des sites malveillants, inappropri\u00e9s ou non conformes. (Pornographie, jeux en ligne, racisme etc...)</p> </li> <li> <p>Pr\u00e9vention des intrusions (IPS) : Les UTM surveillent le trafic r\u00e9seau pour d\u00e9tecter les tentatives d'intrusion et les activit\u00e9s suspectes, puis prennent des mesures pour les bloquer.</p> </li> <li> <p>Filtrage d'email et de spam : Ils incluent des fonctionnalit\u00e9s de filtrage d'email pour bloquer les courriers ind\u00e9sirables, les spams et les attaques par email.</p> </li> <li> <p>VPN (Virtual Private Network) : Ils offrent des capacit\u00e9s VPN pour \u00e9tablir des connexions s\u00e9curis\u00e9es entre diff\u00e9rents sites ou utilisateurs distants.</p> </li> <li> <p>Journalisation et rapports : Les UTM offrent des fonctionnalit\u00e9s de journalisation d\u00e9taill\u00e9e et de cr\u00e9ation de rapports pour aider \u00e0 surveiller l'activit\u00e9 du r\u00e9seau et \u00e0 identifier les menaces potentielles.</p> </li> <li> <p>Gestion centralis\u00e9e : Souvent, les pare-feux UTM peuvent \u00eatre g\u00e9r\u00e9s de mani\u00e8re centralis\u00e9e, ce qui facilite la configuration, la surveillance et la gestion de plusieurs appareils.</p> </li> </ul>"},{"location":"infrastructure/02-serveurs/#un-serveur-de-centralisation-des-evennements-ou-un-siem","title":"Un serveur de centralisation des \u00e9vennements ou un SIEM","text":"<p>Serveur de log</p> <p>Serveur de log (syslog) : Un serveur de logs est un syst\u00e8me qui collecte, stocke et g\u00e8re les logs (journaux) g\u00e9n\u00e9r\u00e9s par divers dispositifs, applications et syst\u00e8mes au sein d'un r\u00e9seau informatique. Les logs peuvent inclure des informations sur les activit\u00e9s, les erreurs, les \u00e9v\u00e9nements et les incidents qui se produisent dans l'environnement informatique. Le principal objectif d'un serveur de logs est de centraliser ces donn\u00e9es pour une surveillance ult\u00e9rieure, la recherche de probl\u00e8mes et la conformit\u00e9 r\u00e9glementaire.  Cependant, les serveurs de logs ne sont pas toujours \u00e9quip\u00e9s d'outils avanc\u00e9s d'analyse ou de corr\u00e9lation des donn\u00e9es.</p> <p>SIEM</p> <p>SIEM (Security Information and Event Management) : Un SIEM est une solution plus avanc\u00e9e qui va au-del\u00e0 de la simple collecte de logs. Il int\u00e8gre la collecte, la corr\u00e9lation, l'analyse et la visualisation des donn\u00e9es de s\u00e9curit\u00e9 \u00e0 partir de diverses sources, telles que les serveurs, les r\u00e9seaux, les applications et les syst\u00e8mes. Les SIEM identifient les sch\u00e9mas et les anomalies dans les \u00e9v\u00e9nements pour d\u00e9tecter les menaces potentielles ou les incidents de s\u00e9curit\u00e9.</p>"},{"location":"infrastructure/02-serveurs/#un-serveur-de-supervision-implementation-au-choix-apres-etudes-des-possibilites","title":"Un serveur de supervision (impl\u00e9mentation au choix apr\u00e8s \u00e9tudes des possibilit\u00e9s)","text":"<p>- A choisir parmis les solutions suivantes:</p> <ul> <li>PRTG (windows)</li> <li>Zabbix</li> <li>Centreon</li> <li>Autre solution pertinente possible non test\u00e9 (Promteus / Grafana)</li> </ul>"},{"location":"infrastructure/02-serveurs/#services-web","title":"Services Web","text":"<p>Serveurs h\u00e9berg\u00e9s dans la DMZ de chaque site \u00e0 isoler et \u00e0 prot\u00e9ger via une parefeux. On montera chaque service de la DMZ dans l\u2019une ou l\u2019autre des technologies \u00e0 savoir Windows et Linux. Les deux technologies doivent \u00eatre maitris\u00e9es (administration syst\u00e8me windows ET linux)</p> <ul> <li>Possibit\u00e9 de mettre en place un ReverseProxy afin de partager l'IP Publique unique disponible entre plusieurs serveurs priv\u00e9.</li> <li>Mise en place de services web obligatoirement chiffr\u00e9 via technologie TLS</li> <li>Serveur SFTP, en t\u00e9l\u00e9chargement de documents mis en ligne</li> <li>Haute disponibilit\u00e9 des services (High Availability)</li> <li>R\u00e9partition de charge (Load Balancing)</li> </ul> D\u00e9finition <p>High Availability : La haute disponibilit\u00e9 des services, souvent d\u00e9sign\u00e9e par l'anglais \"High Availability\" (HA), est un concept et une approche de conception qui vise \u00e0 garantir un niveau \u00e9lev\u00e9 de continuit\u00e9 et de disponibilit\u00e9 des services informatiques. L'objectif principal de la haute disponibilit\u00e9 est d'assurer que les syst\u00e8mes, applications et services critiques sont accessibles et fonctionnels en permanence, m\u00eame en cas de d\u00e9faillance mat\u00e9rielle, logicielle ou de tout autre probl\u00e8me.</p> D\u00e9finition <p>Load Balancing : La r\u00e9partition de charge, \u00e9galement appel\u00e9e \"load balancing\" en anglais, est une technique utilis\u00e9e pour distribuer \u00e9quitablement la charge de travail et le trafic r\u00e9seau entre plusieurs ressources, telles que des serveurs, des machines virtuelles ou des n\u0153uds de r\u00e9seau. L'objectif principal de la r\u00e9partition de charge est d'optimiser les performances, d'assurer une utilisation \u00e9quilibr\u00e9e des ressources et de garantir une disponibilit\u00e9 \u00e9lev\u00e9e des services.</p>"},{"location":"infrastructure/02-serveurs/#services-de-base-de-donnees","title":"Services de base de donn\u00e9es","text":"<p>Pour assurer le bon fonctionnement des diff\u00e9rentes applications (web ou autres), il sera n\u00e9cessaire de mettre en place un ou plusieurs serveurs de base de donn\u00e9es. Ces serveurs joueront un r\u00f4le central dans le syst\u00e8me d'information (SI) de l'organisation. Ils devront \u00eatre soigneusement s\u00e9curis\u00e9s et maintenus \u00e0 l'int\u00e9rieur du r\u00e9seau, sans exposition directe \u00e0 l'ext\u00e9rieur. Pour cela, nous aurons le choix entre plusieurs options : utiliser MariaDB ou PostgreSQL sous Linux pour une approche open source, ou opter pour SQL Server chez Microsoft Windows.</p>"},{"location":"infrastructure/02-serveurs/#service-de-messagerie","title":"Service de messagerie","text":"<p>La communication au sein de l'entreprise est essentielle, et pour cela, un serveur de messagerie sera mis en place. Ce serveur devra prendre en charge les bo\u00eetes aux lettres des utilisateurs de chaque domaine, par exemple antoine.dupond@chartres.sportludique.fr. Pour cette t\u00e2che, nous utiliserons hMailServer sous Windows. Cependant, si un \u00e9tudiant souhaite s'investir davantage, des options plus avanc\u00e9es sont envisageables, telles que Microsoft Exchange ou une solution open source comme Zimbra (combinant Postfix et Dovecot). Quelle que soit la solution retenue, elle devra \u00eatre op\u00e9rationnelle afin de g\u00e9rer les notifications provenant des solutions de supervision et autres outils SIEM.</p>"},{"location":"infrastructure/02-serveurs/#bastion-dauthentification","title":"Bastion d'authentification","text":"<p>Pour s\u00e9curiser l'acc\u00e8s aux comptes privil\u00e9gi\u00e9s, la mise en place d'un bastion d'authentification est essentielle. Cet \u00e9l\u00e9ment central du syst\u00e8me garantira que les acc\u00e8s aux comptes \u00e0 haut niveau d'autorisation sont contr\u00f4l\u00e9s et surveill\u00e9s. Cette solution permet de garantir la tra\u00e7abilit\u00e9 des acc\u00e8s aux serveurs. \u00c0 cette fin, nous adopterons la solution leader du march\u00e9, \u00e0 savoir Wallix. </p>"},{"location":"infrastructure/03-infrastructure/","title":"Infrastructure","text":""},{"location":"infrastructure/03-infrastructure/#linfrastructure-reseau-du-lycee-fulbert-simulant-le-reseau-sportludique","title":"L\u2019Infrastructure r\u00e9seau du lyc\u00e9e Fulbert simulant le r\u00e9seau SportLudique","text":"<p>L\u2019infrastructure comporte plusieurs p\u00e9rim\u00e8tres de s\u00e9curit\u00e9. Les services de SportLudique sont organis\u00e9s en VLAN de niveau 1 (vlan par ports).</p> <p>Les machines h\u00f4tes utilisables par les \u00e9tudiants sont c\u00e2bl\u00e9es via des prises Ethernet murale de labo dont le num\u00e9ro est pair (2-4-6-8). Ces prises sont ensuite brass\u00e9es sur les \u00e9quipements dont vous avez la charge.</p> <p>Les prises impaires respectivement (1,3,5,7) ne doivent pas \u00eatre deconnect\u00e9s du Switch HP (ou Huawei) sur leur port respectif (1, 3, 5, 7) dans le vlan 117. On vous demande de ne pas modifier ces ports afin de revenir facilement dans une configuration classique pour l\u2019apprentissage et la connectivit\u00e9 au domaine lan.sio.lyceefulbert.fr</p> <p></p>"},{"location":"infrastructure/03-infrastructure/#etape-prealable-pour-travailler-sur-le-contexte-sportludique","title":"Etape pr\u00e9alable pour travailler sur le contexte SportLudique","text":"<p>Le VLAN 200 est le VLAN Labo pour toute la promotion des deuxi\u00e8mes ann\u00e9es SISR. Le VLAN 210 est le VLAN Labo de l\u2019 \u00eelot 1. Le 220 celui de l\u2019 \u00eelot 2 etc\u2026</p> <p></p> <p>Chaque site Chartres, Tours, Orl\u00e9ans et Ch\u00e2teauroux correspond \u00e0 un \u00eelot et poss\u00e8de donc son propre VLAN isol\u00e9 du reste du r\u00e9seau du Labo du lyc\u00e9e Fulbert.</p> <p>L'ensemble des machnies clientes (OS utilisateurs) se ferra via des machines virtuelles locales g\u00e9r\u00e9es via VirtualBox connect\u00e9 en mode bridge. La machine physique devra donc \u00eatre brass\u00e9 correctement sur vos \u00e9quipements, mais devra r\u00e9ster sur le domaine auquel elle a \u00e9t\u00e9 attribu\u00e9 en d\u00e9but d'ann\u00e9e.</p> <p>Ainsi \u00e0 chaque d\u00e9but de s\u00e9ance vous vous brasserez, apr\u00e8s avoir ouvert votre session windows, correctement sur votre infrastructure via une prise murale paire.</p> <p>Puis, \u00e0 chaque fin de s\u00e9ance vous v\u00e9rifierez que le poste est brass\u00e9 sur une prise impaire.</p>"},{"location":"infrastructure/03-infrastructure/#gestion-des-serveurs","title":"Gestion des serveurs","text":"<p>L'ensemble des serveurs n\u00e9cessaires \u00e0 vos infrastructure devra ^tre g\u00e9r\u00e9 via la solution d'hyperconvergence Nutanix mis \u00e0 disposition par vos enseignants. Chaque machine virtuelle devra poss\u00e9der un nom logique permettant de l'identifier sans ambiguit\u00e9. Ayant acc\u00e8s \u00e0 l'ensemble des VM (y compris celle de l'infrastructure du BTS) merci de r\u00e9specter la convention de nom suivante sous peine de suppression pure est simple de celle ci:</p>"},{"location":"infrastructure/03-infrastructure/#prefixe-a-utiliser-dans-les-noms-des-vm-sur-la-ferme","title":"Pr\u00e9fixe \u00e0 utiliser dans les noms des VM sur la ferme","text":"Ville Prefixe Chartres CHA Tours TRS Orl\u00e9ans ORL Ch\u00e2teauroux CHX"},{"location":"infrastructure/03-infrastructure/#configuration-materielle-gere-par-lhyperviseur","title":"Configuration materielle g\u00e9r\u00e9 par l'hyperviseur","text":"<p>Les capacit\u00e9s physiques des serveurs qui h\u00e9bergent vos machines virtuelles ne sont pas infinies. Par cons\u00e9quent, il est crucial de proc\u00e9der \u00e0 un dimensionnement optimal lors de la cr\u00e9ation de vos machines virtuelles. Par exemple, il est recommand\u00e9 d'\u00e9viter d'allouer 16 Go de RAM \u00e0 une machine virtuelle Windows. En ce qui concerne l'espace disque, une capacit\u00e9 de 500 Go est g\u00e9n\u00e9ralement suffisante pour la plupart des cas d'utilisation, \u00e0 moins que les machines ne n\u00e9cessitent de fortes activit\u00e9s d'\u00e9criture sur le disque, telles que les syst\u00e8mes SIEM, les serveurs de journaux centralis\u00e9s, les bastions, et ainsi de suite.</p>"},{"location":"infrastructure/03-infrastructure/#login-et-password-non-securise-a-posseder","title":"Login et password non s\u00e9curis\u00e9 \u00e0 poss\u00e9der","text":"Microsoft Windows administrateur / P@ssw0rd123456! Serveur nomuser / nomuser (g\u00e9r\u00e9 dans l\u2019annuaire AD) Stations Distribution linux prefix-admin /   P@ssw0rd123456! Switch / Routeurs admin / P@ssw0rd123456! Mode privil\u00e9gi\u00e9 (enable) P@ssw0rd123456! <p>prefix correspond \u00e0 TRS, CHX, CHA, ORL respectivement pour Tours, Chateauroux, Chartres et Orl\u00e9ans </p> <p>Il vous sera demand\u00e9 de cr\u00e9er d'autres comptes plus personnalis\u00e9s, qui seront par ailleurs g\u00e9r\u00e9s par un bastion d'acc\u00e8s. Ces comptes vous offriront un moyen d'acc\u00e9der \u00e0 votre infrastructure en cas de panne g\u00e9n\u00e9rale, ce qui les rend similaires \u00e0 des portes d\u00e9rob\u00e9es indispensables pour vos activit\u00e9s d'apprentissage. </p> <p>Attention</p> <p>D'autres comptes devront \u00eatre cr\u00e9\u00e9s et seront g\u00e9r\u00e9s par un bastion d'acc\u00e8s. Ces comptes vous permettront d'avoir un acc\u00e8s en cas de dysfonctionnement g\u00e9n\u00e9ral dans votre infrastructure. Ils peuvent \u00eatre consid\u00e9r\u00e9s comme une porte d\u00e9rob\u00e9e n\u00e9cessaire pour votre apprentissage. Cependant, ils ne doivent pas \u00eatre utilis\u00e9s en production normale.</p>"},{"location":"infrastructure/03-infrastructure/#linfrastructure-reseau","title":"L\u2019Infrastructure r\u00e9seau","text":"<p>La structure g\u00e9n\u00e9rale du r\u00e9seau comprend\u00a0:</p> <p>- Les sous r\u00e9seaux des sites distants</p> <p>- Les sous r\u00e9seaux des d\u00e9partements</p> <p>- Le r\u00e9seau Backbone</p> <p>- Le r\u00e9seau WIFI</p> <p>- La DMZ de chaque site g\u00e9ographique</p> <p>- Le r\u00e9seau d\u2019acc\u00e8s \u00e0 Internet</p> <p>Le r\u00e9seau sportLudique h\u00e9berge tous les serveurs dans une baie de serveurs install\u00e9e dans le service Informatique du d\u00e9partement R\u00e9seau. Les serveurs h\u00e9bergent les applications de gestion et de supervision du parc informatique.</p> <p>Le r\u00e9seau mobile WIFI permet de servir les postes nomades du personnel des diff\u00e9rents sites. Ce r\u00e9seau doit \u00eatre assez souple et adaptable pour fournir un acc\u00e8s \u00e0 Internet au public externe sans toutefois compromettre la s\u00e9curit\u00e9 du SI. </p>"},{"location":"infrastructure/03-infrastructure/#plan-dadressage-ip","title":"Plan d\u2019adressage IP","text":"<p>Le r\u00e9seau g\u00e9n\u00e9ral est construit autour de l\u2019adresse 172.28.0.0 avec un masque de 16 bits. Ceci permet de couvrir l\u2019ensemble du plan d\u2019adressage de l\u2019entreprise mais aussi pour les \u00e9volutions. L\u2019administrateur vous demande de r\u00e9fl\u00e9chir aux d\u00e9coupages en sous r\u00e9seau pour s\u00e9curiser les diff\u00e9rents services de chaque site. Le plan d\u2019adressage IP 192.168.x.0 /24 est attribu\u00e9 \u00e0 la DMZ de chaque site.</p> <p>Les tableaux en annexe \u00e0 compl\u00e9ter contiennent le plan d\u2019adressage IP de l\u2019ensemble du r\u00e9seau.  Ce plan d\u2019adressage tient compte d\u2019une exploitation des adresses IP en mode dynamique par 2 serveurs DHCP.</p> <p>La maintenance de ce plan d'adressage devra obligatoirement s'effectuer via la solution phpipam mis en place par votre enseignant (https://ipam.sio.lyceefulbert.fr).</p> <p>Un bloc d\u2019adresse est r\u00e9serv\u00e9 pour les \u00e9quipements en adressage fixe et ceci pour chaque sous r\u00e9seaux. Des r\u00e8gles d\u2019ing\u00e9nierie ont \u00e9t\u00e9 d\u00e9finies et imposent de placer les plages d\u2019adresses fixes sur les adresses les plus hautes de chaque sous r\u00e9seau.</p>"},{"location":"infrastructure/03-infrastructure/#les-elements-du-reseau","title":"Les \u00e9l\u00e9ments du r\u00e9seau","text":"<p>Ce r\u00e9seau regroupe les fonctions suivantes :</p> <p>- Une structure de VLAN de niveau 3 est utilis\u00e9e pour la structuration des r\u00e9seaux WIFI. Cette structure permet de limiter les domaines de diffusion. Les VLANs de sportludique sont organis\u00e9s selon une structure hi\u00e9rarchique par d\u00e9partement.</p> <p>- Un VLAN de gestion permet d\u2019acc\u00e9der aux \u00e9quipements de r\u00e9seau via les postes Administrateur du service Informatique du d\u00e9partement r\u00e9seau. La gestion des \u00e9quipements permet d\u2019assurer la maintenance, les mises \u00e0 jour des configurations ou des IOS et les op\u00e9rations ponctuelles de surveillance et de test du r\u00e9seau.</p> <p>- Le routage des VLAN utilise la technique des sous interfaces VLAN et l\u2019encapsulation 802.1Q impl\u00e9ment\u00e9s dans les switch et routeurs.</p> <p>- Un connexion Haut d\u00e9bit assure une liaison \u00e0 l\u2019Internet. Chaque site est connect\u00e9 via \u00e0 routeur au r\u00e9seau publique via un prestataire (g\u00e9r\u00e9 par votre professeur qui vous donnera en temps utile les adresses IP publiques utilisables).</p> <p>- Chaque site dispose d\u2019une connexion de secours de type xDSL fournie par un second FAI afin d\u2019assurer une haute disponibilit\u00e9 de l\u2019acc\u00e8s Internet. On r\u00e9fl\u00e9chira \u00e0 une solution pour rendre les services web offerts par chaque site hautement disponible eux aussi.</p> <p>- les serveurs DHCP et serveurs de nom DNS assurent la gestion des machines. Ces services doivent \u00eatre install\u00e9s sur 2 serveurs physiquement s\u00e9par\u00e9s pour assurer la tol\u00e9rance aux pannes (HA).</p> <p>- Un routeur filtrant assure les fonctions de pare feu entre le LAN, la DMZ et l\u2019internet (WAN), l'appliance SN210 de Stormshield ou la distribution pfsense bas\u00e9e sur l'OS BSD (r\u00e9put\u00e9 pour son \u00e9fficacit\u00e9 en s\u00e9curit\u00e9) devront \u00eatre privil\u00e9gi\u00e9e pour cette t\u00e2che. Ce point n\u00e9vralgique devra \u00eatre hautement disponible (impossible pour les SN210) lui aussi au moins sur le site physique de chartres.</p>"},{"location":"infrastructure/03-infrastructure/#infrastructure-sportludique-au-siege-a-chartres","title":"Infrastructure SportLudique (au si\u00e8ge \u00e0 chartres)","text":"<p>L\u2019entreprise comporte 6 services (6 VLANs minimum) dont le d\u00e9partement r\u00e9seau qui renferme le service Informatique. Ce service assure la gestion et administration du r\u00e9seau et du parc informatique.</p> <p>Les ressources informatiques (serveurs, bases de donn\u00e9es, syst\u00e8mes de supervision\u2026) sont situ\u00e9es dans une baie de serveurs.</p> <p>Parmi ces serveurs on trouve les 2 serveurs DHCP en redondance \u00e0 chaud et le serveur Proxy qui se charge des requ\u00eates http des personnels de l\u2019entreprise</p> <p>Les salles ressources au rez de chauss\u00e9e du b\u00e2timent offrent des acc\u00e8s aux \u00e9quipements multim\u00e9dia, vid\u00e9o, t\u00e9l\u00e9phones IP, imprimantes et ordinateurs pour les utilisateurs externes tel que des clients ou des fournisseurs.</p> <p>Ces salles sont regroup\u00e9es dans le n<sup>i\u00e8me</sup> VLAN int\u00e9gr\u00e9 dans le r\u00e9seau.</p>"},{"location":"infrastructure/03-infrastructure/#abonnements-internet-pour-chaque-site","title":"Abonnements Internet pour chaque site","text":"<p>Un abonnement FAI haut d\u00e9bit Fibre est g\u00e9r\u00e9 par un routeur CISCO qui supporte le trafic principal. Un abonnement FAI ADSL de secours devra \u00eatre mis en place charg\u00e9 de prendre le relais en cas de panne de l\u2019abonnement du routeur primaire. Lorsque le lien primaire retrouve un \u00e9tat op\u00e9rationnel il reprend la gestion du trafic (Protocole propri\u00e9taire Cisco HSRP).</p> <p>Les 2 abonnements Internet sont souscris avec les op\u00e9rateurs Orange et SFR qui d\u00e9livrent un contrat de service Pro Fibre 100Mb/s avec une SLA GTR 4heures pour l\u2019abonnement principal Fibre et un contrat bas d\u00e9bit ASDL GTR 48Heures pour l\u2019abonnement de secours.</p> idVLAN Chartres Tours Orl\u00e9ans Chateauroux Abonnement FIBRE : 200 183.44.28.2 /30 183.44.37.2 /30 183.44.45.2 /30 183.44.36.2 /30 Abonnement ADSL : 100 221.87.128.1 /30 221.87.137.1 /30 221.87.145.1 /30 221.87.136.1 /30"},{"location":"infrastructure/03-infrastructure/#acces-internet-et-dmz","title":"Acc\u00e8s Internet et DMZ","text":"<p>Cette partie repr\u00e9sente le p\u00e9rim\u00e8tre de s\u00e9curit\u00e9 pour l\u2019acc\u00e8s \u00e0 Internet. Une zone DMZ est int\u00e9gr\u00e9e dans le routeur pare-feu qui r\u00e8glemente les \u00e9changes l\u2019acc\u00e8s \u00e0 Internet. Ce routeur assure la gestion du sous r\u00e9seau DMZ qui renferme les services WEB et FTP, la fonction de pare feu et l\u2019interconnexion au r\u00e9seau priv\u00e9 et Internet. Son impl\u00e9mentation sera cr\u00e9\u00e9e avec une VM connect\u00e9 aux diff\u00e9rents VLANS du lyc\u00e9e Fulbert pour isoler les flux et simuler un v\u00e9ritable routeur d\u00e9di\u00e9.</p> <p>Les 2 services SFTP et WEB de la DMZ sont int\u00e9gr\u00e9s dans une VM dans une machine Windows ou linux pour h\u00e9berger le site WEB de chaque site. Ces services sont accessibles depuis l\u2019Internet (simul\u00e9 dans le labo) et le r\u00e9seau interne sous certaines conditions.</p> <p>Le p\u00e9rim\u00e8tre de s\u00e9curit\u00e9 est repr\u00e9sent\u00e9 par les fonctions suivantes\u00a0:</p> <p>- Pare Feu entre le r\u00e9seau interne, la DMZ et Internet avec s\u00e9curisation par des r\u00e8gles de contr\u00f4le d\u2019acc\u00e8s. Ces r\u00e8gles sont d\u00e9finies ci-dessous.</p> <p>- Haute disponibilit\u00e9 sur l\u2019acc\u00e8s \u00e0 Internet assur\u00e9 par 2 routeurs en HSRP avec fonction NAT/PAT. Une fonction port forwarding permet de rediriger les requ\u00eates provenant de l\u2019Internet (du routeur principal fibre) vers les ressources accessibles de l\u2019association (http, FTP\u2026).</p> <p>- Pour compl\u00e9ter le p\u00e9rim\u00e8tre de s\u00e9curit\u00e9, un serveur Proxy WEB (Proxy squid) r\u00e9glemente l\u2019acc\u00e8s \u00e0 Internet pour l\u2019ensemble des utilisateurs internes de chaque site en les tra\u00e7ant except\u00e9 pour les postes d\u2019administration du service Informatique.</p> <p>R\u00e8gles de contr\u00f4le d\u2019acc\u00e8s\u00a0:</p> <p>1/ Seuls les requ\u00eates du serveur Proxy peut acc\u00e9der \u00e0 Internet.</p> <p>2/ Les Internautes peuvent acc\u00e9der \u00e0 la DMZ mais pas au r\u00e9seau priv\u00e9.</p> <p>3/ Les sous r\u00e9seaux de SportLudique peuvent acc\u00e9der aux ressources de la DMZ.</p> <p>4/ Les postes nomades du r\u00e9seau Wifi \u00a8Visiteurs\u00a8 n\u2019ont acc\u00e8s qu\u2019\u00e0 Internet. Les postes du r\u00e9seau Wifi \u00a8Employ\u00e9s\u00a8 peuvent acc\u00e9der au r\u00e9seau Interne et \u00e0 Internet.</p> <p>5/ Le trafic ICMP est autoris\u00e9 pour les postes du service Informatique.</p> <p>6/ Le trafic ICMP provenant de l\u2019Internet est interdit.</p>"},{"location":"infrastructure/03-infrastructure/#messagerie-electronique","title":"Messagerie Electronique","text":"<p>Un serveur de messagerie sera aussi disponible sur chaque site. Le nom de domaine sportludique.fr \u00e9tant r\u00e9serv\u00e9, les adresses auront la forme utilisateur@&lt;ville&gt;.sportludique.fr</p> <p>Les utilisateurs devront pouvoir consulter leur messagerie du r\u00e9seau internet et du r\u00e9seau publique. Des \u00e9changes seront \u00e9videmment possibles entre chaque site g\u00e9ographique.</p>"},{"location":"infrastructure/03-infrastructure/#reseau-wifi","title":"R\u00e9seau WIFI","text":"<p>Pour cette maquette le r\u00e9seau WIFI interne couvre la surface occup\u00e9e dans le b\u00e2timent Hall d\u2019accueil et l\u2019espace ext\u00e9rieur qui couvrira les zones utilis\u00e9es pour les journ\u00e9es \u00e9v\u00e8nementielles porte ouverte. Ce point d\u2019acc\u00e8s contr\u00f4le 2 r\u00e9seaux radios identifi\u00e9s par un SSID.</p> <p>Un SSID \u00a8Visiteurs\u00a8 permet de fournit une connectivit\u00e9 Internet au public externe \u00e0 l\u2019association dans le cadre de leur visite dans les locaux ou lors d\u2019activit\u00e9s \u00e9v\u00e9nementielles type journ\u00e9es portes ouvertes qui accueille du public ou des invit\u00e9s. Ce r\u00e9seau offre une connectivit\u00e9 ouverte non s\u00e9curis\u00e9e \u00e0 Internet. L\u2019identification du r\u00e9seau est diffus\u00e9e.</p> <p>Un SSID \u00a8Employ\u00e9s\u00a8 fournit au personnel interne munis de postes portables l\u2019accessibilit\u00e9 Internet et vers le r\u00e9seau priv\u00e9. Pour ce SSID on utilise la s\u00e9curisation WPA et une authentification WPA2-Entreprise. Pour ce r\u00e9seau, le cryptage AES est utilis\u00e9 et le SSID de r\u00e9seau n\u2019est pas diffus\u00e9e. L\u2019authentification sera assur\u00e9e via le contr\u00f4leur de domaine ActiveDirectory et une strat\u00e9gie d\u2019acc\u00e8s au r\u00e9seau sera diff\u00e9rente en fonction des groupes utilisateurs. Un test sera fait avec une authentification par certificats \u00e9lectroniques.</p> <p>Ces 2 r\u00e9seaux sont s\u00e9par\u00e9s par des VLAN de niveau 3 et une r\u00e8gle sur le routeur PRF permet d\u2019\u00e9viter que les visiteurs puissent acc\u00e9der au r\u00e9seau interne priv\u00e9.</p>"},{"location":"infrastructure/03-infrastructure/#supervision-de-reseau-maintenance-et-deploiement","title":"Supervision de r\u00e9seau, Maintenance et d\u00e9ploiement","text":"<p>En cas de panne l\u2019analyse de probl\u00e8me r\u00e9seau s\u2019effectue via l\u2019outil d\u2019analyse de trame Wireshark qui permettra de v\u00e9rifier les anomalies de fonctionnement du r\u00e9seau pour la validation, les tests ou la mise en service mais aussi le d\u00e9pannage de situation en cas de blocage.</p> <p>Une fonction de port mirroring sur les commutateurs Cisco permet d\u2019analyser les trafics sur les liens strat\u00e9giques</p> <p>Un service d\u2019administration \u00e0 distance utilisant le protocole SSH version 2 permet une prise de contr\u00f4le \u00e0 distance des \u00e9quipements routeurs et commutateurs du r\u00e9seau en mode s\u00e9curis\u00e9. L\u2019application SSH sera install\u00e9e sur les \u00e9quipements de r\u00e9seau. Ce protocole utilise le mode de chiffrement \u00e0 cl\u00e9s asym\u00e9triques RSA (longueur de cl\u00e9 1024).</p> <p>Les \u00e9quipements de r\u00e9seau sont accessibles en SNMP pour permettre l\u2019exploitation du r\u00e9seau par le logiciel de superivision (Centreon ou autre solution compatible avec le protocole SNMP). On utilise la communaut\u00e9 \u00a8spludique\u00a8 pour les relations agent/serveur avec droits en lecture. On utilisera les traps ou notifications snmp d\u00e9finies par Cisco pour surveiller le fonctionnement du protocole HSRP sur les liaisons internet, les ruptures de liens et les pannes et red\u00e9marrages des \u00e9quipements.</p> <p>Le superviseur est d\u00e9di\u00e9 \u00e0 la supervision des \u00e9quipements de r\u00e9seau (commutateurs, routeurs, passerelles, Points d\u2019acc\u00e8s).</p> <p>L\u2019outil de gestion de parc et gestion d\u2019incidents GLPI permet d\u2019assurer le suivi et la gestion des postes et serveurs informatiques. Un service de t\u00e9l\u00e9 d\u00e9ploiement de logiciel devra \u00eatre mis en place dans chaque site par les \u00e9quipes techniques.</p>"},{"location":"infrastructure/04-annexes/","title":"Annexes","text":""},{"location":"infrastructure/04-annexes/#annexe-1-schema-de-linfrastructure-de-chaque-site-geographique","title":"Annexe 1 - Sch\u00e9ma de l\u2019infrastructure de chaque site g\u00e9ographique","text":""},{"location":"infrastructure/04-annexes/#annexe-2-plan-dadressage-ip","title":"Annexe 2 - Plan d'adressage IP","text":"Site de LAN global Nombre d'h\u00f4tes Nombre de serveurs Adresse r\u00e9seau Masque Plan adressage sous r\u00e9seau (VLAN) VLAN service + ID ferme de serveur ** ** ** ** ** ** ** ** Nombre d'h\u00f4tes Masque CIDR Masque d\u00e9cimal Adresse du r\u00e9seau Adresse de diffusion Plage fixe Plage DHCP principal Plage DHCP secondaire Passerelle relai DHCP (oui / non) Site de Routeur Pare Feu Vlan Transport VLAN ID Interface eth0 Interface eth1 Interface eth2 Interface eth3 vers service Adresse Masque Routeurs FAI Interface eth0 (publique) Interface eth1 (priv\u00e9e) Interface virtuelle R1 VLAN 100 Adresse Masque Passerelle R2 VLAN 200 Adresse Masque Passerelle"},{"location":"infrastructure/04-annexes/#annexe-2-bis-plan-dadressage-ip-des-serveurs-suite","title":"Annexe 2 bis - Plan d'adressage IP des serveurs (suite)","text":"Site de Nom VM sur la ferme VLAN (\u00e9tiquette r\u00e9seau) Adresse IP et masque CIDR Masque (notation d\u00e9cimale Passerelle login password OS"},{"location":"infrastructure/04-annexes/#serveurs-publiques-internet-simule-et-serveurs-heberges-dans-dmz","title":"Serveurs publiques (Internet simul\u00e9) et serveurs h\u00e9berg\u00e9s dans DMZ","text":"Nom VM sur la ferme VLAN (\u00e9tiquette r\u00e9seau) Adresse IP et masque CIDR Masque (notation d\u00e9cimale Passerelle login password OS Registar DNS 200 121.283.90.205 / 29 255.255.255.248 121.283.90.206"},{"location":"infrastructure/04-annexes/#annexe-3-plan-de-brassage","title":"Annexe 3 - Plan de brassage.","text":"SW1 2960-24 Ports VLAN SW1 2960-24 Ports VLAN Fa0/1 Fa0/1 Fa0/2 Fa0/2 Fa0/3 Fa0/3 Fa0/4 Fa0/4 Fa0/5 Fa0/5 Fa0/6 Fa0/6 Fa0/7 Fa0/7 Fa0/8 Fa0/8 Fa0/9 Fa0/9 Fa0/10 Fa0/10 Fa0/11 Fa0/11 Fa0/12 Fa0/12 Fa0/13 Fa0/13 Fa0/14 Fa0/14 Fa0/15 Fa0/15 Fa0/16 Fa0/16 Fa0/17 Fa0/17 Fa0/18 Fa0/18 Fa0/19 Fa0/19 Fa0/20 Fa0/20 Fa0/21 Fa0/21 Fa0/22 Fa0/22 Fa0/23 Fa0/23 Gi0/1 Gi0/1 Gi0/2 Gi0/2"},{"location":"infrastructure/04-annexes/#annexe-4-identifiants-mots-de-passe","title":"Annexe 4 - Identifiants &amp; mots de passe","text":"<p>Tables des noms DNS</p> nom ip"},{"location":"infrastructure/04-annexes/#annexe-5-infrastructure-publique-simulee-dans-le-labo-du-lycee-fulbert","title":"Annexe 5 - Infrastructure Publique simul\u00e9e dans le labo du lyc\u00e9e Fulbert","text":""},{"location":"infrastructure/04-annexes/#annexe-5-bis","title":"Annexe 5 bis","text":""},{"location":"infrastructure/04-annexes/#adressage-ip-publique-des-sites","title":"Adressage IP publique des sites","text":"VLAN ID Routeur FAI interface publique Chartres Orl\u00e9ans Tours Chateauroux 100 R1 adresse IP 221.87.128.2 /30 221.87.145.2 /30 221.87.137.2 /30 221.87.136.2 /30 masque 255.255.255.252 255.255.255.252 255.255.255.252 255.255.255.252 passerelle 221.87.128.1 221.87.145.1 221.87.137.1 221.87.136.1 200 R2 adresse IP 183.44.28.1 /30 183.44.45.1 /30 183.44.37.1 /30 183.44.36.1 /30 masque 255.255.255.252 255.255.255.252 255.255.255.252 255.255.255.252 passerelle 183.44.28.2 183.44.45.2 183.44.37.2 183.44.36.2"},{"location":"infrastructure/04-annexes/#routeurs-simulant-internet-dans-linfrastructure-du-lycee-fulbert","title":"Routeurs simulant internet dans l\u2019infrastructure du lyc\u00e9e Fulbert","text":"VLAN ID Routeur internet interface IP Masque R\u00e9seau Broadcast 100 R1 chartres 221.87.128.1 /30 255.255.255.252 221.87.128.0 221.87.128.3 orl\u00e9ans 221.87.145.1 /30 255.255.255.252 221.87.145.0 221.87.145.3 tours 221.87.137.1 /30 255.255.255.252 221.87.137.0 221.87.137.3 chateauroux 221.87.136.1 /30 255.255.255.252 221.87.136.0 221.87.136.3 reste du monde 121.183.90.201 /29 255.255.255.248 121.183.90.200 121.183.90.207 PASSERELLE 121.183.90.206 200 R2 chartres 183.44.28.1 /30 255.255.255.252 183.44.28.0 183.44.28.3 orl\u00e9ans 183.44.45.1 /30 255.255.255.252 183.44.45.0 183.44.45.3 tours 183.44.37.1 /30 255.255.255.252 183.44.37.0 183.44.37.3 chateauroux 183.44.36.1 /30 255.255.255.252 183.44.36.0 183.44.36.3 reste du monde 121.183.90.202 /29 255.255.255.248 121.183.90.200 121.183.90.207 PASSERELLE 121.183.90.206 RSportFulbert Vers Internet simul\u00e9 121.183.90.206/29 255.255.255.248 121.183.90.200 Vers Fulbert 10.200.255.1/16 255.255.0.0 10.200.0.0 PASSERELLE 10.200.255.254 Commentaire NAT r\u00e9seau 128.183.90.200 --&gt; 10.200.255.1"},{"location":"infrastructure/04-annexes/#annexe-6","title":"Annexe 6","text":"<p>Les \u00e9quipements de r\u00e9seau</p>"},{"location":"infrastructure/04-annexes/#dlink-3200-ap","title":"DLINK 3200 AP","text":"DLINK 3200 AP D\u00e9signation Point d\u2019Acc\u00e8s WIFI Caract\u00e9ristiques mat\u00e9riels - Bo\u00eetier solide en m\u00e9tal certifi\u00e9 Plenum  - Technologie Power over Ethernet (PoE) 802.3af int\u00e9gr\u00e9e- Deux antennes \u00e0 gain \u00e9lev\u00e9 amovibles- Base PoE (Power over Ethernet) fournie- Supports de verrouillage inclus Mode de fonctionnement - AP- WDS- AP + WDS Connectivit\u00e9 haute performance - D\u00e9bits sans fil conformes \u00e0 la norme 802.11g- D\u00e9bits de transfert de donn\u00e9es sans fil pouvant atteindre 54 Mbps- D\u00e9bit sans fil de 108 Mbps avec la technologie 108G D-Link *Le d\u00e9bit maximal du signal sans fil est bas\u00e9 sur les sp\u00e9cifications de la norme IEEE 802.11g. Dans la r\u00e9alit\u00e9, sa valeur pourra varier. En effet, les conditions r\u00e9seau et les facteurs environnementaux peuvent restreindre le d\u00e9bit r\u00e9el des donn\u00e9es. S\u00e9curit\u00e9 - Chiffrement des donn\u00e9es WEP 64/128/152 bits- WPA Personal/WPA Enterprise- WPA2 Personal/WPA2 Enterprise- Authentification utilisateur 802.1x- AES- SSID multiples 802.1Q/segmentation r\u00e9seau- Filtrage des adresses MAC Administration - Logiciel AP Manager- Navigateur Web (HTTP)- Telnet- SNMP v.3"},{"location":"infrastructure/04-annexes/#routeurs-cisco","title":"Routeurs Cisco","text":"Routeur Cisco Model Brand CISCO Series 1900 Model CISCO1921/K9 SPEC Speed 10/100/1000Mbps LAN Ports 2 x 10/100/1000Mbps VPN IPSec, PPTP, L2TP Features Interfaces/Ports: 2 x RJ-45 10/100/1000Base-T Network LAN 1 x RJ-45 Auxiliary Management 1 x RJ-45 Console Management 1 x Type A USB 2.0 USB 1 x Type B USB Management I/O Expansions: Number of Expansion Slots: 2 Expansion Slots: (2 Total) HWIC Management: SNMP RMON Syslog NetFlow TR-069 IEEE 802.1p QoS IEEE 802.1q VLAN Web Based Management Cisco Configuration Professional CiscoWorks LMS CiscoWorks NCM Cisco Security Manager Cisco Unified Provisioning Manager Cisco License Manager Cisco Configuration Engine Memory: Standard Memory: 512 MB Maximum Memory: 512 MB Memory Technology: DRAM Flash Memory: 256 MB The Cisco 1921 builds on the best-in-class offering of the Cisco 1841 Integrated Services Routers. All Cisco 1900 Series Integrated Services Routers offer embedded hardware encryption acceleration, optional firewall, intrusion prevention, and advanced security services. In addition, the platforms support the industry's widest range of wired and wireless connectivity options such as Serial, T1/E1, xDSL, Gigabit Ethernet, and third-generation (3G) wireless."},{"location":"infrastructure/04-annexes/#switch-cisco-2960","title":"Switch CISCO 2960","text":"Switch CISCO 2960 - 48 ports Description du produit Cisco Catalyst 2960-24TC-S - commutateur - 24 ports - G\u00e9r\u00e9 - Montable sur rack Type de p\u00e9riph\u00e9rique Commutateur - 24 ports - G\u00e9r\u00e9 Type de ch\u00e2ssis Montable sur rack 1U Interfaces Fast Ethernet Ports 24 x 10/100 + 2 x SFP Gigabit combin\u00e9 Performances Capacit\u00e9 de commutation : 16 Gbps Performances de transfert (taille de paquet 64 octets) : 6,5 Gbps Taille de la table d'adresses MAC 8 000 entr\u00e9es Protocole de gestion \u00e0 distance SNMP 1, SNMP 2, RMON 1, RMON 2, Telnet, SNMP 3, SNMP 2c, HTTP, HTTPS, TFTP, SSH-2 Caract\u00e9ristiques Layer 2 switching, auto-d\u00e9tection par dispositif, compatible DHCP, auto-n\u00e9gociation, prise en charge du r\u00e9seau local (LAN) virtuel, auto-uplink (MDI/MDI-X auto), IGMP snooping, prise en charge de Syslog, prise en charge DiffServ, contr\u00f4le de la temp\u00eate de Broadcast, Multicast Storm Control, Unicast Storm Control, prise en charge du protocole RSTP (Rapid Spanning Tree Protocol), prise en charge du protocole Multiple Spanning Tree Protocol (MSTP), assistance Dynamic Trunking Protocol (DTP), assistance Port Aggregation Protocol (PAgP), qualit\u00e9 de service (QDS), Link Aggregation Control Protocol (LACP), Port Security, notification de l'adresse MAC Conformit\u00e9 aux normes IEEE 802.3, IEEE 802.3u, IEEE 802.3z, IEEE 802.1D, IEEE 802.1Q, IEEE 802.3ab, IEEE 802.1p, IEEE 802.3x, IEEE 802.3ad (LACP), IEEE 802.1w, IEEE 802.1x, IEEE 802.1s, IEEE 802.3ah, IEEE 802.1ab (LLDP) Alimentation CA 120/230 V ( 50/60 Hz ) Dimensions (LxPxH) 44.5 cm x 23.6 cm x 4.4 cm Poids 3.65 kg Garantie du fabricant Garantie limit\u00e9e \u00e0 vie"},{"location":"infrastructure/05-fiche-recette/","title":"Fiche de Recette","text":""},{"location":"infrastructure/05-fiche-recette/#objectif","title":"Objectif","text":"<p>Cette fiche de recette vise \u00e0 tester l'acc\u00e8s \u00e0 Internet depuis plusieurs niveaux du r\u00e9seau en prenant en compte les 4 couches du mod\u00e8le TCP/IP : ICMP, DNS, et les services. Les tests seront effectu\u00e9s \u00e0 cinq emplacements diff\u00e9rents : routeur de jonction, VLAN de transport, DMZ, c\u0153ur du r\u00e9seau, et VLAN serveurs et usagers.</p>"},{"location":"infrastructure/05-fiche-recette/#materiel-requis","title":"Mat\u00e9riel Requis","text":"<ul> <li>Ordinateur portable / PC fixe brass\u00e9 \u00e0 un niveau diff\u00e9rent du r\u00e9seau</li> <li>Outils de test r\u00e9seau (ping, nslookup, navigateur web, etc.)</li> </ul>"},{"location":"infrastructure/05-fiche-recette/#tests","title":"Tests","text":"Source Destination Test Ping (IP) Test R\u00e9solution de Nom DNS Test Service Souhait\u00e9 \u00e0 pr\u00e9ciser (num\u00e9ro de port) Exemple: TCP/22 [ ] [ ] [ ] [ ] [ ] [ ] [ ] [ ] [ ] [ ] [ ] [ ]"},{"location":"situations/01-deploiements/","title":"Situation 1 - Deploy","text":""},{"location":"situations/01-deploiements/#deploiement-de-poste-de-travail","title":"D\u00e9ploiement de Poste de Travail","text":""},{"location":"situations/01-deploiements/#introduction","title":"Introduction","text":"<p>Le d\u00e9ploiement de postes de travail est une \u00e9tape essentielle dans la gestion d'un parc informatique, qu'il soit h\u00e9t\u00e9rog\u00e8ne ou homog\u00e8ne. Il existe plusieurs technologies et outils qui facilitent ce processus, chacun ayant ses avantages et inconv\u00e9nients. Dans ce cours, nous allons comparer diff\u00e9rentes solutions de d\u00e9ploiement et discuter des sp\u00e9cificit\u00e9s li\u00e9es \u00e0 Windows.</p>"},{"location":"situations/01-deploiements/#deploiement-sur-des-parcs-de-machines-heterogenes-et-homogenes","title":"D\u00e9ploiement sur des Parcs de Machines H\u00e9t\u00e9rog\u00e8nes et Homog\u00e8nes","text":"D\u00e9finition <p>Un parc de machines h\u00e9t\u00e9rog\u00e8nes regroupe des ordinateurs avec des configurations mat\u00e9rielles vari\u00e9es. Un parc de machines homog\u00e8nes regroupe des ordinateurs avec des configurations mat\u00e9rielles similaires.</p> Parcs de Machines Homog\u00e8nes Parcs de Machines H\u00e9t\u00e9rog\u00e8nes Avantages - Facilit\u00e9 de gestion et de maintenance. - Flexibilit\u00e9 pour g\u00e9rer diff\u00e9rents types de mat\u00e9riel. - R\u00e9duction des incompatibilit\u00e9s mat\u00e9rielles. - Possibilit\u00e9 d'optimiser les ressources en fonction des besoins. Inconv\u00e9nients - Limitation dans la diversit\u00e9 des mat\u00e9riels pris en charge. - Complexit\u00e9 accrue dans la gestion et la maintenance. - Probl\u00e9matique des pilotes (drivers) :   - Les diff\u00e9rentes machines peuvent n\u00e9cessiter des pilotes sp\u00e9cifiques.   - Gestion des pilotes multiples pour diff\u00e9rentes configurations.   - Risque de conflits ou d'incompatibilit\u00e9s de pilotes."},{"location":"situations/01-deploiements/#specificites-de-windows-et-preparation-du-systeme","title":"Sp\u00e9cificit\u00e9s de Windows et Pr\u00e9paration du syst\u00e8me","text":""},{"location":"situations/01-deploiements/#sysprep","title":"Sysprep","text":"<p>Sysprep</p> <p>Sysprep est un petit logiciel inclus dans  Windows (<code>C:\\Windows\\System32\\Sysprep</code>) qui joue un r\u00f4le essentiel dans le d\u00e9ploiement de postes de travail. Il permet de pr\u00e9parer une installation Windows pour la duplication sur d'autres machines en g\u00e9n\u00e9ralisant le syst\u00e8me, ce qui signifie qu'il supprime toutes les informations sp\u00e9cifiques \u00e0 la machine (identificateurs, noms, SID, etc.) et pr\u00e9pare le syst\u00e8me \u00e0 \u00eatre configur\u00e9 au premier d\u00e9marrage.</p> <p>Probl\u00e8mes d'Identificateurs Uniques : Lorsque vous dupliquez une image Windows sans utiliser Sysprep, chaque poste de travail obtient les m\u00eames identificateurs uniques, ce qui peut entra\u00eener des conflits et des probl\u00e8mes graves. Les principaux probl\u00e8mes li\u00e9s aux identificateurs uniques sont les suivants :</p> <ul> <li> <p>SID (Security Identifier) : Les SID sont des identificateurs de s\u00e9curit\u00e9 uniques pour chaque machine. En cas de duplication sans Sysprep, plusieurs machines peuvent avoir le m\u00eame SID, ce qui peut entra\u00eener des probl\u00e8mes de s\u00e9curit\u00e9 et de gestion des utilisateurs.</p> </li> <li> <p>Certificats et Cl\u00e9s de Licence : Les certificats et les cl\u00e9s de licence li\u00e9s \u00e0 la machine peuvent devenir invalides en cas de duplication sans Sysprep, ce qui peut entra\u00eener des probl\u00e8mes de licence et de fonctionnement.</p> </li> </ul> <p>En utilisant Sysprep, vous r\u00e9solvez ces probl\u00e8mes en permettant \u00e0 chaque machine d\u00e9ploy\u00e9e d'avoir ses propres identificateurs uniques, ce qui garantit un fonctionnement correct et une gestion facile du parc informatique. Sysprep est donc une \u00e9tape essentielle dans le processus de d\u00e9ploiement de postes de travail sous Windows.</p> <p>Exemple d'usage de sysprep:</p> <pre><code>C:\\windows\\system32\\sysprep&gt;sysprep /oobe /generalize /shutdown /unattend:&lt;responsefile&gt;\n</code></pre> <p>le fichier de r\u00e9ponse (ici <code>responsefile</code>) doit avoir \u00e9t\u00e9 g\u00e9n\u00e9r\u00e9 avec l'aide du logiciel ADK https://learn.microsoft.com/fr-fr/windows-hardware/get-started/adk-install. L'Acronyme ADK signifie \"Windows Assessment and Deployment Kit\" (Kit d'\u00e9valuation et de d\u00e9ploiement Windows )</p>"},{"location":"situations/01-deploiements/#multicast-et-problematiques-liees-a-la-diffusion-sur-vlans","title":"Multicast et Probl\u00e9matiques li\u00e9es \u00e0 la Diffusion sur VLANs","text":""},{"location":"situations/01-deploiements/#multicast","title":"Multicast","text":"<p>D\u00e9finition : Le multicast est une m\u00e9thode de diffusion de donn\u00e9es \u00e0 un groupe de destinataires simultan\u00e9ment.</p> <p>Probl\u00e9matiques li\u00e9es \u00e0 la diffusion sur VLANs :</p> <ul> <li>Gestion des routages entre les VLANs.</li> <li>Assurer que les trames multicast atteignent tous les VLANs concern\u00e9s.</li> </ul> <p>Pour se simplifier la vie (le routage multicast n'est pas du niveau d'un BTS), nous utiliserons donc les solutions de deploiement multicast dans un vlan d\u00e9di\u00e9 \u00e0 cela dans notre laboratoire. Pour vos TP cela signifie que vous utiliserez un r\u00e9seau priv\u00e9 sur VirtualBox et non un r\u00e9seau en mode bridge ou Nat. Les VMs ne devront pouvoir communiquer que par ce r\u00e9seau priv\u00e9 (vlan g\u00e9r\u00e9 par VirtuualBox sur son VSwitch).</p> <p>Par ailleurs vous ferez en sorte que les postes \u00e0 d\u00e9ployer obtiennent leurs configurations IP de la part du serveur de deploiement qui fera donc office de serveur DHCP en configurant correctement les options du boot PXE.</p>"},{"location":"situations/01-deploiements/#options-de-boot-pxe","title":"Options de Boot PXE","text":"PXE <p>PXE (Preboot Execution Environment) permet de d\u00e9marrer un ordinateur depuis le r\u00e9seau.</p> <p>Les options DHCP 66 et 67 sont des param\u00e8tres de configuration couramment utilis\u00e9s dans les r\u00e9seaux pour faciliter le d\u00e9ploiement de syst\u00e8mes d'exploitation ou d'autres logiciels \u00e0 partir d'un serveur de d\u00e9ploiement. Voici une explication d\u00e9taill\u00e9e de chacune de ces options :</p> <p>Option 66 - Serveur TFTP (Trivial File Transfer Protocol):</p> <p>L'option 66 est utilis\u00e9e pour sp\u00e9cifier l'adresse IP ou le nom d'h\u00f4te du serveur TFTP aupr\u00e8s duquel un client DHCP doit t\u00e9l\u00e9charger des fichiers de configuration ou des fichiers de d\u00e9marrage (boot files), on parle alors de boot PXE.</p> <p>Le serveur TFTP est g\u00e9n\u00e9ralement utilis\u00e9 pour transf\u00e9rer des fichiers de d\u00e9marrage ou des fichiers de configuration n\u00e9cessaires lors du d\u00e9ploiement de syst\u00e8mes d'exploitation, tels que des fichiers de configuration de PXE (Preboot Execution Environment) pour amorcer des syst\u00e8mes via le r\u00e9seau.</p> <p>Lorsqu'un client DHCP re\u00e7oit l'option 66, il sait o\u00f9 se trouve le serveur TFTP et peut initier le t\u00e9l\u00e9chargement des fichiers n\u00e9cessaires \u00e0 partir de cette source.</p> <p>Option 67 - Nom du Fichier de D\u00e9marrage :</p> <p>L'option 67 est utilis\u00e9e pour sp\u00e9cifier le nom du fichier de d\u00e9marrage (boot filename) que le client DHCP doit demander au serveur TFTP sp\u00e9cifi\u00e9 dans l'option 66.</p> <p>Ce nom de fichier de d\u00e9marrage est g\u00e9n\u00e9ralement associ\u00e9 \u00e0 un syst\u00e8me d'exploitation ou \u00e0 un programme de d\u00e9marrage sp\u00e9cifique que le client doit charger \u00e0 partir du serveur TFTP.</p> <p>Par exemple, lorsqu'un client DHCP re\u00e7oit l'option 67 avec la valeur \"pxelinux.0\", il sait qu'il doit demander ce fichier au serveur TFTP sp\u00e9cifi\u00e9 dans l'option 66 pour amorcer un syst\u00e8me via PXE.</p> <p>La valeur de cette option est donc d\u00e9pendante de la solution de deploiement choisie.</p> <p>En r\u00e9sum\u00e9, les options DHCP 66 et 67 sont couramment utilis\u00e9es dans les d\u00e9ploiements r\u00e9seau pour fournir aux clients DHCP les informations n\u00e9cessaires pour amorcer des syst\u00e8mes \u00e0 partir de la carte r\u00e9seau ou effectuer des op\u00e9rations de configuration sp\u00e9cifiques \u00e0 partir d'un serveur TFTP. Ces options sont essentielles dans les environnements de d\u00e9ploiement et de gestion de parc informatique.</p>"},{"location":"situations/01-deploiements/#mise-en-place-de-fog-et-wds","title":"Mise en place de FOG et WDS","text":"<p>Pour capturer une image d'un Master avec FOG il est n\u00e9cessaire de g\u00e9n\u00e9rer avant sur le master un fichier de r\u00e9ponse XML. Ce fichier ce g\u00e9n\u00e8re avec l'outil gratuit fourni par Microsoft ADK.</p> <p>Il permet de sauter les diff\u00e9rentes \u00e9tapes de personnalisation de l'installation et d'automatiser les r\u00e9ponses (choix du clavier, cr\u00e9ation d'un compte utilisateur etc...) de windows nottament pour l'Out Of Box Experience (Experience de sortie de carton quand windows est pr\u00e9install\u00e9 sur la machine, donc au premier d\u00e9marrage de la machine).</p> <p>Vous trouverez ci joint un exemple de configuration fonctionnelle permettant de g\u00e9n\u00e9rer un fichier de r\u00e9ponse valide (Win 10 Education pro).</p> <p>A noter qu'il est indispensable de copier le fichier install.wim issue de l'iso sur le poste Master.</p>"},{"location":"situations/01-deploiements/#creation-du-fichier-de-reponse-avec-adk","title":"Creation du fichier de r\u00e9ponse (avec ADK)","text":""},{"location":"situations/01-deploiements/#fog-adk","title":"FOG + ADK","text":"<pre><code>Le meilleur compte rendu sera publi\u00e9 ici\n</code></pre>"},{"location":"situations/01-deploiements/#wds-mdt","title":"WDS + MDT","text":"<p>WDS ne se base pas sur un poste Master, l'image install.wim est stock\u00e9 sur le serveur de d\u00e9ploiement. La personnalisation du fichier de r\u00e9ponse se fait via l'usage de MDT lui aussi install\u00e9 sur le serveur de d\u00e9ploiement (WDS). Le logiciel ADK est donc inutile lors de l'utilisation de WDS.</p> <p>A noter: Le service WDS int\u00e8gre son propre service DHCP, qui n'est pas le service DHCP classique de windows serveur.</p> <pre><code>Le meilleur compte rendu sera publi\u00e9 ici\n</code></pre>"},{"location":"situations/01-deploiements/#conclusion","title":"Conclusion","text":"<p>Le d\u00e9ploiement de postes de travail est une \u00e9tape cruciale dans la gestion informatique. Le choix de la solution d\u00e9pendra de la nature de votre parc de machines, de vos besoins sp\u00e9cifiques et de vos comp\u00e9tences.</p>"},{"location":"situations/02-documentation/","title":"Situation 2 - Documentation","text":"<p>Cette ann\u00e9e le choix technique pour g\u00e9rer la documentation technique de vos projets est bas\u00e9 sur l'utilisation des github pages et de l'outils mkdocs, outil populaire pour g\u00e9n\u00e9rer de la documentation.</p>"},{"location":"situations/02-documentation/#githubpages","title":"githubpages","text":"<p>GitHub Pages est un service d'h\u00e9bergement de sites web statiques propos\u00e9 par GitHub, qui est une plateforme de d\u00e9veloppement collaboratif bas\u00e9e sur Git. GitHub Pages permet aux utilisateurs de publier gratuitement des sites web statiques directement depuis leurs d\u00e9p\u00f4ts GitHub. Voici quelques points cl\u00e9s \u00e0 conna\u00eetre \u00e0 propos de GitHub Pages :</p> <ol> <li> <p>Sites Web Statiques : GitHub Pages est con\u00e7u pour h\u00e9berger des sites web statiques. Cela signifie que les sites ne peuvent pas ex\u00e9cuter de code c\u00f4t\u00e9 serveur, mais ils peuvent afficher du contenu HTML, CSS et JavaScript c\u00f4t\u00e9 client.</p> </li> <li> <p>Facilit\u00e9 d'utilisation : La mise en place d'un site web sur GitHub Pages est relativement simple. Il suffit de cr\u00e9er un d\u00e9p\u00f4t GitHub contenant les fichiers de votre site web, de choisir une branche (g\u00e9n\u00e9ralement \"gh-pages\") pour publier votre site, et GitHub Pages se charge du reste.</p> </li> <li> <p>Domaines personnalis\u00e9s : Vous pouvez associer un domaine personnalis\u00e9 \u00e0 votre site GitHub Pages. Cela signifie que vous pouvez utiliser votre propre nom de domaine (par exemple, www.mon-site.com) au lieu de l'URL par d\u00e9faut fournie par GitHub.</p> </li> <li> <p>Int\u00e9gration avec Git : Comme GitHub Pages est int\u00e9gr\u00e9 \u00e0 Git, vous pouvez facilement mettre \u00e0 jour votre site en poussant des modifications vers votre d\u00e9p\u00f4t GitHub. Cela facilite le suivi des modifications, la collaboration et la gestion de versions de votre site web.</p> </li> <li> <p>Prise en charge de Jekyll : GitHub Pages prend en charge Jekyll, un g\u00e9n\u00e9rateur de sites statiques, ce qui facilite la cr\u00e9ation de sites web statiques \u00e0 partir de fichiers Markdown ou de mod\u00e8les pr\u00e9d\u00e9finis.</p> </li> <li> <p>Gratuit pour les projets publics et priv\u00e9s : GitHub Pages est gratuit pour les projets open source et priv\u00e9s. Cependant, notez que les projets priv\u00e9s sont limit\u00e9s \u00e0 trois d\u00e9p\u00f4ts GitHub Pages par compte.</p> </li> <li> <p>S\u00e9curit\u00e9 : GitHub Pages offre un certain niveau de s\u00e9curit\u00e9 car les sites web sont h\u00e9berg\u00e9s sur les serveurs de GitHub, b\u00e9n\u00e9ficiant ainsi de certaines des mesures de s\u00e9curit\u00e9 de la plateforme.</p> </li> <li> <p>Utilisations courantes : GitHub Pages est souvent utilis\u00e9 pour h\u00e9berger des sites personnels, des blogs, de la documentation technique, des portfolios, des sites web de projets open source, et bien plus encore.</p> </li> <li> <p>Support de CI/CD : Vous pouvez configurer des flux de travail de CI/CD (Int\u00e9gration Continue / D\u00e9ploiement Continu) pour automatiser le processus de d\u00e9ploiement de votre site GitHub Pages chaque fois que vous apportez des modifications \u00e0 votre d\u00e9p\u00f4t.</p> </li> </ol> <p>En r\u00e9sum\u00e9, GitHub Pages est un service d'h\u00e9bergement de sites web statiques offert par GitHub, qui simplifie la publication de sites web en utilisant Git pour le suivi des versions et la gestion des fichiers. C'est une option populaire pour les d\u00e9veloppeurs et les projets open source qui souhaitent partager leur contenu en ligne de mani\u00e8re efficace et gratuite.</p>"},{"location":"situations/02-documentation/#rappel-workflow-git","title":"Rappel workflow git","text":""},{"location":"situations/02-documentation/#mkdocs","title":"mkdocs","text":"<p>MkDocs est un g\u00e9n\u00e9rateur de site web statique populaire con\u00e7u sp\u00e9cialement pour la cr\u00e9ation de documentation technique et de sites web de projet. Il est \u00e9crit en Python et est particuli\u00e8rement appr\u00e9ci\u00e9 par les d\u00e9veloppeurs, les \u00e9quipes de projet, et les r\u00e9dacteurs techniques pour sa simplicit\u00e9, sa flexibilit\u00e9 et sa facilit\u00e9 d'utilisation. Voici quelques points cl\u00e9s \u00e0 conna\u00eetre \u00e0 propos de MkDocs :</p> <ol> <li> <p>Documentation conviviale : MkDocs simplifie la cr\u00e9ation de documentation en utilisant des fichiers Markdown pour \u00e9crire du contenu. Le Markdown est un langage de balisage l\u00e9ger qui permet de formater du texte de mani\u00e8re simple et lisible, ce qui en fait un excellent choix pour la r\u00e9daction technique.</p> </li> <li> <p>G\u00e9n\u00e9ration de site statique : MkDocs g\u00e9n\u00e8re des sites web statiques \u00e0 partir de fichiers Markdown. Cela signifie que le contenu est pr\u00e9-compil\u00e9 en HTML, CSS et JavaScript, ce qui rend le site web rapide \u00e0 charger et facile \u00e0 h\u00e9berger sur diverses plateformes.</p> </li> <li> <p>Th\u00e8mes personnalisables : MkDocs propose une vari\u00e9t\u00e9 de th\u00e8mes par d\u00e9faut, mais vous pouvez \u00e9galement personnaliser le style et la mise en page de votre site en cr\u00e9ant votre propre th\u00e8me ou en en choisissant un parmi de nombreux disponibles sur le d\u00e9p\u00f4t de th\u00e8mes MkDocs.</p> </li> <li> <p>Int\u00e9gration de recherche : MkDocs inclut des fonctionnalit\u00e9s de recherche qui permettent aux utilisateurs de trouver rapidement les informations dont ils ont besoin dans la documentation.</p> </li> <li> <p>Configuration simple : La configuration de MkDocs se fait via un fichier <code>mkdocs.yml</code>, o\u00f9 vous pouvez sp\u00e9cifier les param\u00e8tres de votre site, tels que le nom du site, la liste des pages, les th\u00e8mes, et bien plus encore.</p> </li> <li> <p>D\u00e9ploiement facile : Une fois que vous avez g\u00e9n\u00e9r\u00e9 votre site \u00e0 l'aide de MkDocs, vous pouvez facilement le d\u00e9ployer sur diverses plateformes d'h\u00e9bergement web, telles que GitHub Pages, Netlify, ou des serveurs web traditionnels.</p> </li> <li> <p>Prise en charge de l'internationalisation : MkDocs offre des fonctionnalit\u00e9s pour la traduction de votre documentation dans diff\u00e9rentes langues, ce qui le rend adapt\u00e9 aux projets internationaux.</p> </li> <li> <p>Extensions et plugins : MkDocs prend en charge de nombreuses extensions et plugins qui peuvent \u00eatre ajout\u00e9s pour \u00e9tendre ses fonctionnalit\u00e9s, comme l'int\u00e9gration avec des outils de g\u00e9n\u00e9ration de diagrammes ou des extensions de rendu Markdown avanc\u00e9es.</p> </li> <li> <p>Communaut\u00e9 active : MkDocs est un projet open source avec une communaut\u00e9 active de d\u00e9veloppeurs et d'utilisateurs, ce qui signifie qu'il b\u00e9n\u00e9ficie de mises \u00e0 jour fr\u00e9quentes et de nombreux tutoriels et ressources disponibles en ligne.</p> </li> </ol> <p>En r\u00e9sum\u00e9, MkDocs est un g\u00e9n\u00e9rateur de site web statique qui simplifie la cr\u00e9ation de documentation technique gr\u00e2ce \u00e0 l'utilisation de Markdown, de th\u00e8mes personnalisables, et d'autres fonctionnalit\u00e9s utiles. Il est largement utilis\u00e9 dans le d\u00e9veloppement de logiciels open source, la documentation de projets, et d'autres contextes o\u00f9 la cr\u00e9ation de documentation est essentielle.</p>"},{"location":"situations/02-documentation/#installation-de-mkdocs-et-deploiement-manuel-sur-github-pages","title":"Installation de mkdocs et deploiement manuel sur github-pages","text":"<p>L'installation de MkDocs Material et son int\u00e9gration avec GitHub Pages est une proc\u00e9dure relativement simple en suivant ces \u00e9tapes. Assurez-vous d'avoir Python install\u00e9 sur votre syst\u00e8me, car MkDocs est un g\u00e9n\u00e9rateur de site bas\u00e9 sur Python.</p> <p>\u00c9tape 1 : Installation de MkDocs et MkDocs Material</p> <ol> <li>Ouvrez votre terminal (ou invite de commande) et ex\u00e9cutez la commande suivante pour installer MkDocs :</li> </ol> <pre><code>pip install mkdocs\n</code></pre> <ol> <li>Ensuite, installez le th\u00e8me MkDocs Material en ex\u00e9cutant la commande suivante :</li> </ol> <pre><code>pip install mkdocs-material\n</code></pre> <p>\u00c9tape 2 : Cr\u00e9ation d'un projet MkDocs</p> <ol> <li>Cr\u00e9ez un nouveau r\u00e9pertoire pour votre projet MkDocs, si ce n'est pas d\u00e9j\u00e0 fait, et acc\u00e9dez-y via le terminal :</li> </ol> <pre><code>mkdir mon-projet-mkdocs\ncd mon-projet-mkdocs\n</code></pre> <ol> <li>Initialisez un projet MkDocs en ex\u00e9cutant la commande suivante :</li> </ol> <pre><code>mkdocs new .\n</code></pre> <p>Cela cr\u00e9era une structure de r\u00e9pertoires avec un fichier <code>mkdocs.yml</code> pour la configuration et un dossier <code>docs</code> pour stocker vos fichiers Markdown.</p> <p>\u00c9tape 3 : Configuration de MkDocs</p> <ol> <li>Ouvrez le fichier <code>mkdocs.yml</code> dans un \u00e9diteur de texte de votre choix pour configurer votre projet. Vous pouvez personnaliser le titre, la description, les th\u00e8mes, etc.</li> </ol> <p>Exemple de configuration de base :</p> <pre><code>site_name: Mon Site MkDocs\ntheme:\n  name: material\n</code></pre> <p>\u00c9tape 4 : \u00c9criture de la documentation</p> <ol> <li>\u00c9crivez votre documentation en utilisant des fichiers Markdown dans le r\u00e9pertoire <code>docs</code>. Vous pouvez cr\u00e9er des sous-dossiers pour organiser votre documentation si n\u00e9cessaire.</li> </ol> <p>\u00c9tape 5 : Aper\u00e7u en local</p> <ol> <li>Pour voir votre site MkDocs en local, ex\u00e9cutez la commande suivante :</li> </ol> <pre><code>mkdocs serve\n</code></pre> <p>Cela lancera un serveur de d\u00e9veloppement local, et vous pourrez acc\u00e9der \u00e0 votre site \u00e0 l'adresse <code>http://127.0.0.1:8000/</code> dans votre navigateur.</p> <p>\u00c9tape 6 : Int\u00e9gration avec GitHub Pages</p> <ol> <li> <p>Cr\u00e9ez un d\u00e9p\u00f4t GitHub pour votre projet MkDocs si vous n'en avez pas d\u00e9j\u00e0 un.</p> </li> <li> <p>Assurez-vous que votre d\u00e9p\u00f4t GitHub est public.</p> </li> <li> <p>Configurez votre projet pour d\u00e9ployer sur GitHub Pages. Modifiez le fichier <code>mkdocs.yml</code> pour sp\u00e9cifier le nom du d\u00e9p\u00f4t dans la section <code>repo</code> :</p> </li> </ol> <pre><code>repo: votre-nom-utilisateur/votre-repo-github\n</code></pre> <ol> <li>G\u00e9n\u00e9rez le site en ex\u00e9cutant la commande suivante :</li> </ol> <pre><code>mkdocs gh-deploy\n</code></pre> <ol> <li> <p>Cela va g\u00e9n\u00e9rer votre site MkDocs et le publier sur la branche <code>gh-pages</code> de votre d\u00e9p\u00f4t GitHub.</p> </li> <li> <p>Vous pouvez maintenant acc\u00e9der \u00e0 votre documentation en ligne via l'URL <code>https://votre-nom-utilisateur.github.io/votre-repo-github/</code>.</p> </li> </ol> <p>Votre documentation MkDocs est d\u00e9sormais h\u00e9berg\u00e9e sur GitHub Pages et peut \u00eatre facilement mise \u00e0 jour \u00e0 chaque modification de votre d\u00e9p\u00f4t. Assurez-vous de consulter la documentation officielle de MkDocs et de MkDocs Material pour plus d'informations sur la personnalisation et l'utilisation avanc\u00e9e.</p>"},{"location":"situations/02-documentation/#deploiement-automatise-a-chaque-modification-de-la-documentation","title":"Deploiement automatis\u00e9 \u00e0 chaque modification de la documentation","text":"<p>Pour d\u00e9ployer automatiquement votre site MkDocs sur GitHub Pages en utilisant GitHub Actions, vous pouvez suivre ces \u00e9tapes :</p> <p>\u00c9tape 1 : Cr\u00e9ation d'un fichier d'action</p> <ol> <li> <p>Dans le r\u00e9pertoire racine de votre projet MkDocs, cr\u00e9ez un r\u00e9pertoire nomm\u00e9 <code>.github</code> s'il n'existe pas d\u00e9j\u00e0.</p> </li> <li> <p>\u00c0 l'int\u00e9rieur du r\u00e9pertoire <code>.github</code>, cr\u00e9ez un r\u00e9pertoire nomm\u00e9 <code>workflows</code>.</p> </li> <li> <p>\u00c0 l'int\u00e9rieur du r\u00e9pertoire <code>workflows</code>, cr\u00e9ez un fichier YAML (par exemple, <code>deploy.yml</code>) pour d\u00e9finir votre action. Voici un exemple de contenu pour ce fichier :</p> </li> </ol> <p>ou via github, cr\u00e9er un workflow personnalis\u00e9:</p> <p></p> <pre><code>name: ci \n\non:\n  push:\n    branches:\n      - master \n      - main\npermissions:\n  contents: write\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n      - uses: actions/setup-python@v4\n        with:\n          python-version: 3.x\n      - run: echo \"cache_id=$(date --utc '+%V')\" &gt;&gt; $GITHUB_ENV \n      - uses: actions/cache@v3\n        with:\n          key: mkdocs-material-${{ env.cache_id }}\n          path: .cache\n          restore-keys: |\n            mkdocs-material-\n      - run: pip install mkdocs-material \n      - run: mkdocs gh-deploy --force\n</code></pre> <p>Assurez-vous de personnaliser le fichier YAML selon vos besoins. Ce fichier YAML d\u00e9finit une action qui se d\u00e9clenche lorsqu'un push est effectu\u00e9 sur la branche principale (main), construit le site MkDocs, et d\u00e9ploie le site sur GitHub Pages.</p> <p>\u00c9tape 2 : Configuration des autorisations d'autres utilisateurs</p> <p>Si vous souhaitez autoriser plusieurs utilisateurs \u00e0 collaborer sur un seul d\u00e9p\u00f4t GitHub tout en g\u00e9rant leurs autorisations, GitHub offre plusieurs m\u00e9canismes pour y parvenir. Voici comment vous pouvez configurer les autorisations pour plusieurs utilisateurs sur un d\u00e9p\u00f4t GitHub :</p> <ol> <li> <p>Collaborateurs du d\u00e9p\u00f4t :</p> <p>Les collaborateurs d'un d\u00e9p\u00f4t ont un acc\u00e8s en \u00e9criture au d\u00e9p\u00f4t. Vous pouvez les ajouter directement au d\u00e9p\u00f4t avec le r\u00f4le de collaborateur.</p> <p>Pour ajouter un collaborateur :     Acc\u00e9dez \u00e0 la page de votre d\u00e9p\u00f4t GitHub.     Cliquez sur l'onglet \"Settings\" (Param\u00e8tres) en haut \u00e0 droite.     Dans le menu de gauche, cliquez sur \"Manage access\" (G\u00e9rer l'acc\u00e8s).     Cliquez sur le bouton \"Invite a collaborator\" (Inviter un collaborateur).     Saisissez le nom d'utilisateur, l'adresse e-mail ou le nom complet du collaborateur, puis cliquez sur \"Add collaborator\" (Ajouter un collaborateur).</p> <p>Les collaborateurs ajout\u00e9s de cette mani\u00e8re ont g\u00e9n\u00e9ralement des droits en \u00e9criture sur le d\u00e9p\u00f4t, ce qui signifie qu'ils peuvent pousser des modifications vers le d\u00e9p\u00f4t.</p> </li> </ol> <p>\u00c9tape 3 : Activation de l'action</p> <p>Une fois que vous avez ajout\u00e9 le fichier YAML et configur\u00e9 les secrets, l'action sera automatiquement d\u00e9clench\u00e9e \u00e0 chaque push sur la branche sp\u00e9cifi\u00e9e (dans cet exemple, la branche principale \"main\").</p> <p>Apr\u00e8s chaque push sur la branche principale, GitHub Actions construira votre site MkDocs et le d\u00e9ploiera automatiquement sur GitHub Pages.</p> <p>Vous pouvez consulter le workflow en cours d'ex\u00e9cution en acc\u00e9dant \u00e0 l'onglet \"Actions\" de votre d\u00e9p\u00f4t GitHub. Assurez-vous de v\u00e9rifier les r\u00e9sultats pour vous assurer que le d\u00e9ploiement s'est d\u00e9roul\u00e9 avec succ\u00e8s.</p>"},{"location":"situations/03-infrastructure/","title":"Situation 3 - Infrastructure","text":""},{"location":"situations/03-infrastructure/#objectifs-a-atteindre","title":"Objectifs \u00e0 atteindre","text":"<p>L'objectif avant les vacances de la Toussaint est de mettre en place l'ensemble de l'architecture physique et logique pour faciliter le travail et la mise en \u0153uvre de divers services. Notre infrastructure repose sur un r\u00e9seau local (LAN) compos\u00e9 de plusieurs VLAN, notamment des VLAN utilisateur, ainsi qu'au moins un VLAN d\u00e9di\u00e9 \u00e0 l'h\u00e9bergement des serveurs.</p> <p>Le routage entre les VLAN sera assur\u00e9 par un commutateur de niveau 3 positionn\u00e9 au c\u0153ur du r\u00e9seau. Cela garantira une communication efficace entre les diff\u00e9rents segments du r\u00e9seau.</p> <p>Dans le contexte de services accessibles publiquement, nous devons les isoler dans une zone d\u00e9militaris\u00e9e (DMZ) pour renforcer la s\u00e9curit\u00e9. Pour ce faire, deux groupes de travail collaboreront avec deux pare-feux autonomes, \u00e0 savoir un pare-feu physique Stormshield et un pare-feu virtuel pfsense d\u00e9ploy\u00e9 en tant que machine virtuelle.</p> <p>De plus, deux autres groupes travailleront exclusivement avec un seul pare-feu physique Stormshield, ce qui permettra de cloisonner leurs activit\u00e9s et de garantir une s\u00e9curit\u00e9 ad\u00e9quate.</p> <p>Pour h\u00e9berger les donn\u00e9es n\u00e9cessaires aux serveurs de la DMZ publique, nous mettrons en place une DMZ priv\u00e9e, assurant ainsi une isolation appropri\u00e9e des informations sensibles.</p> <p>Un point essentiel de notre conception est le contr\u00f4le de tous les flux par les pare-feux. Cela garantira une s\u00e9curit\u00e9 renforc\u00e9e en examinant et en autorisant uniquement les communications n\u00e9cessaires.</p> <p>Concernant l'architecture DNS, nous adopterons les bonnes pratiques en s\u00e9parant les r\u00f4les de r\u00e9solveur et de serveur DNS ayant autorit\u00e9. Cette approche optimise la gestion des requ\u00eates DNS en distinguant clairement les responsabilit\u00e9s de chaque composant, assurant ainsi une mise en \u0153uvre robuste et s\u00e9curis\u00e9e du service DNS.</p>"}]}